(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function am(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mc={exports:{}},pa={},Tc={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var er=Symbol.for("react.element"),lm=Symbol.for("react.portal"),im=Symbol.for("react.fragment"),om=Symbol.for("react.strict_mode"),cm=Symbol.for("react.profiler"),dm=Symbol.for("react.provider"),um=Symbol.for("react.context"),mm=Symbol.for("react.forward_ref"),pm=Symbol.for("react.suspense"),hm=Symbol.for("react.memo"),fm=Symbol.for("react.lazy"),fo=Symbol.iterator;function xm(e){return e===null||typeof e!="object"?null:(e=fo&&e[fo]||e["@@iterator"],typeof e=="function"?e:null)}var Rc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zc=Object.assign,Dc={};function ds(e,t,s){this.props=e,this.context=t,this.refs=Dc,this.updater=s||Rc}ds.prototype.isReactComponent={};ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ac(){}Ac.prototype=ds.prototype;function pi(e,t,s){this.props=e,this.context=t,this.refs=Dc,this.updater=s||Rc}var hi=pi.prototype=new Ac;hi.constructor=pi;zc(hi,ds.prototype);hi.isPureReactComponent=!0;var xo=Array.isArray,Oc=Object.prototype.hasOwnProperty,fi={current:null},_c={key:!0,ref:!0,__self:!0,__source:!0};function Uc(e,t,s){var r,a={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Oc.call(t,r)&&!_c.hasOwnProperty(r)&&(a[r]=t[r]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:er,type:e,key:l,ref:i,props:a,_owner:fi.current}}function gm(e,t){return{$$typeof:er,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xi(e){return typeof e=="object"&&e!==null&&e.$$typeof===er}function ym(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var go=/\/+/g;function Fa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ym(""+e.key):t.toString(36)}function Er(e,t,s,r,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case er:case lm:i=!0}}if(i)return i=e,a=a(i),e=r===""?"."+Fa(i,0):r,xo(a)?(s="",e!=null&&(s=e.replace(go,"$&/")+"/"),Er(a,t,s,"",function(d){return d})):a!=null&&(xi(a)&&(a=gm(a,s+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(go,"$&/")+"/")+e)),t.push(a)),1;if(i=0,r=r===""?".":r+":",xo(e))for(var o=0;o<e.length;o++){l=e[o];var c=r+Fa(l,o);i+=Er(l,t,s,c,a)}else if(c=xm(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=r+Fa(l,o++),i+=Er(l,t,s,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function dr(e,t,s){if(e==null)return e;var r=[],a=0;return Er(e,r,"","",function(l){return t.call(s,l,a++)}),r}function vm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ye={current:null},Ir={transition:null},jm={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:Ir,ReactCurrentOwner:fi};function Fc(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:dr,forEach:function(e,t,s){dr(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return dr(e,function(){t++}),t},toArray:function(e){return dr(e,function(t){return t})||[]},only:function(e){if(!xi(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=ds;de.Fragment=im;de.Profiler=cm;de.PureComponent=pi;de.StrictMode=om;de.Suspense=pm;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jm;de.act=Fc;de.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zc({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=fi.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Oc.call(t,c)&&!_c.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:er,type:e.type,key:a,ref:l,props:r,_owner:i}};de.createContext=function(e){return e={$$typeof:um,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dm,_context:e},e.Consumer=e};de.createElement=Uc;de.createFactory=function(e){var t=Uc.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:mm,render:e}};de.isValidElement=xi;de.lazy=function(e){return{$$typeof:fm,_payload:{_status:-1,_result:e},_init:vm}};de.memo=function(e,t){return{$$typeof:hm,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Ir.transition;Ir.transition={};try{e()}finally{Ir.transition=t}};de.unstable_act=Fc;de.useCallback=function(e,t){return Ye.current.useCallback(e,t)};de.useContext=function(e){return Ye.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return Ye.current.useDeferredValue(e)};de.useEffect=function(e,t){return Ye.current.useEffect(e,t)};de.useId=function(){return Ye.current.useId()};de.useImperativeHandle=function(e,t,s){return Ye.current.useImperativeHandle(e,t,s)};de.useInsertionEffect=function(e,t){return Ye.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return Ye.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return Ye.current.useMemo(e,t)};de.useReducer=function(e,t,s){return Ye.current.useReducer(e,t,s)};de.useRef=function(e){return Ye.current.useRef(e)};de.useState=function(e){return Ye.current.useState(e)};de.useSyncExternalStore=function(e,t,s){return Ye.current.useSyncExternalStore(e,t,s)};de.useTransition=function(){return Ye.current.useTransition()};de.version="18.3.1";Tc.exports=de;var h=Tc.exports;const Bc=am(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm=h,wm=Symbol.for("react.element"),Nm=Symbol.for("react.fragment"),km=Object.prototype.hasOwnProperty,Sm=bm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cm={key:!0,ref:!0,__self:!0,__source:!0};function qc(e,t,s){var r,a={},l=null,i=null;s!==void 0&&(l=""+s),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)km.call(t,r)&&!Cm.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:wm,type:e,key:l,ref:i,props:a,_owner:Sm.current}}pa.Fragment=Nm;pa.jsx=qc;pa.jsxs=qc;Mc.exports=pa;var n=Mc.exports,Wc={exports:{}},ct={},Vc={exports:{}},Hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,_){var w=k.length;k.push(_);e:for(;0<w;){var C=w-1>>>1,W=k[C];if(0<a(W,_))k[C]=_,k[w]=W,w=C;else break e}}function s(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var _=k[0],w=k.pop();if(w!==_){k[0]=w;e:for(var C=0,W=k.length,ee=W>>>1;C<ee;){var ne=2*(C+1)-1,ie=k[ne],I=ne+1,H=k[I];if(0>a(ie,w))I<W&&0>a(H,ie)?(k[C]=H,k[I]=w,C=I):(k[C]=ie,k[ne]=w,C=ne);else if(I<W&&0>a(H,w))k[C]=H,k[I]=w,C=I;else break e}}return _}function a(k,_){var w=k.sortIndex-_.sortIndex;return w!==0?w:k.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],x=1,p=null,j=3,$=!1,N=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(k){for(var _=s(d);_!==null;){if(_.callback===null)r(d);else if(_.startTime<=k)r(d),_.sortIndex=_.expirationTime,t(c,_);else break;_=s(d)}}function E(k){if(S=!1,f(k),!N)if(s(c)!==null)N=!0,O(v);else{var _=s(d);_!==null&&J(E,_.startTime-k)}}function v(k,_){N=!1,S&&(S=!1,m(R),R=-1),$=!0;var w=j;try{for(f(_),p=s(c);p!==null&&(!(p.expirationTime>_)||k&&!M());){var C=p.callback;if(typeof C=="function"){p.callback=null,j=p.priorityLevel;var W=C(p.expirationTime<=_);_=e.unstable_now(),typeof W=="function"?p.callback=W:p===s(c)&&r(c),f(_)}else r(c);p=s(c)}if(p!==null)var ee=!0;else{var ne=s(d);ne!==null&&J(E,ne.startTime-_),ee=!1}return ee}finally{p=null,j=w,$=!1}}var y=!1,b=null,R=-1,G=5,g=-1;function M(){return!(e.unstable_now()-g<G)}function q(){if(b!==null){var k=e.unstable_now();g=k;var _=!0;try{_=b(!0,k)}finally{_?z():(y=!1,b=null)}}else y=!1}var z;if(typeof u=="function")z=function(){u(q)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,D=T.port2;T.port1.onmessage=q,z=function(){D.postMessage(null)}}else z=function(){P(q,0)};function O(k){b=k,y||(y=!0,z())}function J(k,_){R=P(function(){k(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){N||$||(N=!0,O(v))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(k){switch(j){case 1:case 2:case 3:var _=3;break;default:_=j}var w=j;j=_;try{return k()}finally{j=w}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,_){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var w=j;j=k;try{return _()}finally{j=w}},e.unstable_scheduleCallback=function(k,_,w){var C=e.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?C+w:C):w=C,k){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=w+W,k={id:x++,callback:_,priorityLevel:k,startTime:w,expirationTime:W,sortIndex:-1},w>C?(k.sortIndex=w,t(d,k),s(c)===null&&k===s(d)&&(S?(m(R),R=-1):S=!0,J(E,w-C))):(k.sortIndex=W,t(c,k),N||$||(N=!0,O(v))),k},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(k){var _=j;return function(){var w=j;j=_;try{return k.apply(this,arguments)}finally{j=w}}}})(Hc);Vc.exports=Hc;var Em=Vc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im=h,ot=Em;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qc=new Set,As={};function Mn(e,t){ns(e,t),ns(e+"Capture",t)}function ns(e,t){for(As[e]=t,e=0;e<t.length;e++)Qc.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yl=Object.prototype.hasOwnProperty,$m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yo={},vo={};function Pm(e){return yl.call(vo,e)?!0:yl.call(yo,e)?!1:$m.test(e)?vo[e]=!0:(yo[e]=!0,!1)}function Lm(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mm(e,t,s,r){if(t===null||typeof t>"u"||Lm(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,s,r,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var gi=/[\-:]([a-z])/g;function yi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gi,yi);Oe[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gi,yi);Oe[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gi,yi);Oe[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function vi(e,t,s,r){var a=Oe.hasOwnProperty(t)?Oe[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mm(t,s,a,r)&&(s=null),r||a===null?Pm(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var Vt=Im.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ur=Symbol.for("react.element"),On=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),ji=Symbol.for("react.strict_mode"),vl=Symbol.for("react.profiler"),Gc=Symbol.for("react.provider"),Kc=Symbol.for("react.context"),bi=Symbol.for("react.forward_ref"),jl=Symbol.for("react.suspense"),bl=Symbol.for("react.suspense_list"),wi=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),Yc=Symbol.for("react.offscreen"),jo=Symbol.iterator;function fs(e){return e===null||typeof e!="object"?null:(e=jo&&e[jo]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,Ba;function ks(e){if(Ba===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Ba=t&&t[1]||""}return`
`+Ba+e}var qa=!1;function Wa(e,t){if(!e||qa)return"";qa=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=r.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{qa=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?ks(e):""}function Tm(e){switch(e.tag){case 5:return ks(e.type);case 16:return ks("Lazy");case 13:return ks("Suspense");case 19:return ks("SuspenseList");case 0:case 2:case 15:return e=Wa(e.type,!1),e;case 11:return e=Wa(e.type.render,!1),e;case 1:return e=Wa(e.type,!0),e;default:return""}}function wl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _n:return"Fragment";case On:return"Portal";case vl:return"Profiler";case ji:return"StrictMode";case jl:return"Suspense";case bl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kc:return(e.displayName||"Context")+".Consumer";case Gc:return(e._context.displayName||"Context")+".Provider";case bi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wi:return t=e.displayName||null,t!==null?t:wl(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return wl(e(t))}catch{}}return null}function Rm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wl(t);case 8:return t===ji?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zm(e){var t=Xc(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,l=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mr(e){e._valueTracker||(e._valueTracker=zm(e))}function Jc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=Xc(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Ur(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nl(e,t){var s=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function bo(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=un(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zc(e,t){t=t.checked,t!=null&&vi(e,"checked",t,!1)}function kl(e,t){Zc(e,t);var s=un(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sl(e,t.type,s):t.hasOwnProperty("defaultValue")&&Sl(e,t.type,un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wo(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Sl(e,t,s){(t!=="number"||Ur(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Ss=Array.isArray;function Yn(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+un(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Cl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function No(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(Q(92));if(Ss(s)){if(1<s.length)throw Error(Q(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:un(s)}}function ed(e,t){var s=un(t.value),r=un(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function ko(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function td(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function El(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?td(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var pr,nd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(pr=pr||document.createElement("div"),pr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Os(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dm=["Webkit","ms","Moz","O"];Object.keys(Is).forEach(function(e){Dm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Is[t]=Is[e]})});function sd(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Is.hasOwnProperty(e)&&Is[e]?(""+t).trim():t+"px"}function rd(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=sd(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var Am=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(e,t){if(t){if(Am[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function $l(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pl=null;function Ni(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ll=null,Xn=null,Jn=null;function So(e){if(e=sr(e)){if(typeof Ll!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=ya(t),Ll(e.stateNode,e.type,t))}}function ad(e){Xn?Jn?Jn.push(e):Jn=[e]:Xn=e}function ld(){if(Xn){var e=Xn,t=Jn;if(Jn=Xn=null,So(e),t)for(e=0;e<t.length;e++)So(t[e])}}function id(e,t){return e(t)}function od(){}var Va=!1;function cd(e,t,s){if(Va)return e(t,s);Va=!0;try{return id(e,t,s)}finally{Va=!1,(Xn!==null||Jn!==null)&&(od(),ld())}}function _s(e,t){var s=e.stateNode;if(s===null)return null;var r=ya(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(Q(231,t,typeof s));return s}var Ml=!1;if(Ft)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Ml=!1}function Om(e,t,s,r,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(x){this.onError(x)}}var $s=!1,Fr=null,Br=!1,Tl=null,_m={onError:function(e){$s=!0,Fr=e}};function Um(e,t,s,r,a,l,i,o,c){$s=!1,Fr=null,Om.apply(_m,arguments)}function Fm(e,t,s,r,a,l,i,o,c){if(Um.apply(this,arguments),$s){if($s){var d=Fr;$s=!1,Fr=null}else throw Error(Q(198));Br||(Br=!0,Tl=d)}}function Tn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function dd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Co(e){if(Tn(e)!==e)throw Error(Q(188))}function Bm(e){var t=e.alternate;if(!t){if(t=Tn(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var l=a.alternate;if(l===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===s)return Co(a),e;if(l===r)return Co(a),t;l=l.sibling}throw Error(Q(188))}if(s.return!==r.return)s=a,r=l;else{for(var i=!1,o=a.child;o;){if(o===s){i=!0,s=a,r=l;break}if(o===r){i=!0,r=a,s=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===s){i=!0,s=l,r=a;break}if(o===r){i=!0,r=l,s=a;break}o=o.sibling}if(!i)throw Error(Q(189))}}if(s.alternate!==r)throw Error(Q(190))}if(s.tag!==3)throw Error(Q(188));return s.stateNode.current===s?e:t}function ud(e){return e=Bm(e),e!==null?md(e):null}function md(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=md(e);if(t!==null)return t;e=e.sibling}return null}var pd=ot.unstable_scheduleCallback,Eo=ot.unstable_cancelCallback,qm=ot.unstable_shouldYield,Wm=ot.unstable_requestPaint,Ee=ot.unstable_now,Vm=ot.unstable_getCurrentPriorityLevel,ki=ot.unstable_ImmediatePriority,hd=ot.unstable_UserBlockingPriority,qr=ot.unstable_NormalPriority,Hm=ot.unstable_LowPriority,fd=ot.unstable_IdlePriority,ha=null,Mt=null;function Qm(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(ha,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Ym,Gm=Math.log,Km=Math.LN2;function Ym(e){return e>>>=0,e===0?32:31-(Gm(e)/Km|0)|0}var hr=64,fr=4194304;function Cs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wr(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,l=e.pingedLanes,i=s&268435455;if(i!==0){var o=i&~a;o!==0?r=Cs(o):(l&=i,l!==0&&(r=Cs(l)))}else i=s&~a,i!==0?r=Cs(i):l!==0&&(r=Cs(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-kt(t),a=1<<s,r|=e[s],t&=~a;return r}function Xm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jm(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-kt(l),o=1<<i,c=a[i];c===-1?(!(o&s)||o&r)&&(a[i]=Xm(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function Rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xd(){var e=hr;return hr<<=1,!(hr&4194240)&&(hr=64),e}function Ha(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function tr(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=s}function Zm(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-kt(s),l=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~l}}function Si(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-kt(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var he=0;function gd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yd,Ci,vd,jd,bd,zl=!1,xr=[],nn=null,sn=null,rn=null,Us=new Map,Fs=new Map,Xt=[],ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Io(e,t){switch(e){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":Us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(t.pointerId)}}function gs(e,t,s,r,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},t!==null&&(t=sr(t),t!==null&&Ci(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function tp(e,t,s,r,a){switch(t){case"focusin":return nn=gs(nn,e,t,s,r,a),!0;case"dragenter":return sn=gs(sn,e,t,s,r,a),!0;case"mouseover":return rn=gs(rn,e,t,s,r,a),!0;case"pointerover":var l=a.pointerId;return Us.set(l,gs(Us.get(l)||null,e,t,s,r,a)),!0;case"gotpointercapture":return l=a.pointerId,Fs.set(l,gs(Fs.get(l)||null,e,t,s,r,a)),!0}return!1}function wd(e){var t=bn(e.target);if(t!==null){var s=Tn(t);if(s!==null){if(t=s.tag,t===13){if(t=dd(s),t!==null){e.blockedOn=t,bd(e.priority,function(){vd(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $r(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Dl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);Pl=r,s.target.dispatchEvent(r),Pl=null}else return t=sr(s),t!==null&&Ci(t),e.blockedOn=s,!1;t.shift()}return!0}function $o(e,t,s){$r(e)&&s.delete(t)}function np(){zl=!1,nn!==null&&$r(nn)&&(nn=null),sn!==null&&$r(sn)&&(sn=null),rn!==null&&$r(rn)&&(rn=null),Us.forEach($o),Fs.forEach($o)}function ys(e,t){e.blockedOn===t&&(e.blockedOn=null,zl||(zl=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,np)))}function Bs(e){function t(a){return ys(a,e)}if(0<xr.length){ys(xr[0],e);for(var s=1;s<xr.length;s++){var r=xr[s];r.blockedOn===e&&(r.blockedOn=null)}}for(nn!==null&&ys(nn,e),sn!==null&&ys(sn,e),rn!==null&&ys(rn,e),Us.forEach(t),Fs.forEach(t),s=0;s<Xt.length;s++)r=Xt[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&(s=Xt[0],s.blockedOn===null);)wd(s),s.blockedOn===null&&Xt.shift()}var Zn=Vt.ReactCurrentBatchConfig,Vr=!0;function sp(e,t,s,r){var a=he,l=Zn.transition;Zn.transition=null;try{he=1,Ei(e,t,s,r)}finally{he=a,Zn.transition=l}}function rp(e,t,s,r){var a=he,l=Zn.transition;Zn.transition=null;try{he=4,Ei(e,t,s,r)}finally{he=a,Zn.transition=l}}function Ei(e,t,s,r){if(Vr){var a=Dl(e,t,s,r);if(a===null)nl(e,t,r,Hr,s),Io(e,r);else if(tp(a,e,t,s,r))r.stopPropagation();else if(Io(e,r),t&4&&-1<ep.indexOf(e)){for(;a!==null;){var l=sr(a);if(l!==null&&yd(l),l=Dl(e,t,s,r),l===null&&nl(e,t,r,Hr,s),l===a)break;a=l}a!==null&&r.stopPropagation()}else nl(e,t,r,null,s)}}var Hr=null;function Dl(e,t,s,r){if(Hr=null,e=Ni(r),e=bn(e),e!==null)if(t=Tn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=dd(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hr=e,null}function Nd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vm()){case ki:return 1;case hd:return 4;case qr:case Hm:return 16;case fd:return 536870912;default:return 16}default:return 16}}var Zt=null,Ii=null,Pr=null;function kd(){if(Pr)return Pr;var e,t=Ii,s=t.length,r,a="value"in Zt?Zt.value:Zt.textContent,l=a.length;for(e=0;e<s&&t[e]===a[e];e++);var i=s-e;for(r=1;r<=i&&t[s-r]===a[l-r];r++);return Pr=a.slice(e,1<r?1-r:void 0)}function Lr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gr(){return!0}function Po(){return!1}function dt(e){function t(s,r,a,l,i){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(s=e[o],this[o]=s?s(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?gr:Po,this.isPropagationStopped=Po,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),t}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=dt(us),nr=ke({},us,{view:0,detail:0}),ap=dt(nr),Qa,Ga,vs,fa=ke({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vs&&(vs&&e.type==="mousemove"?(Qa=e.screenX-vs.screenX,Ga=e.screenY-vs.screenY):Ga=Qa=0,vs=e),Qa)},movementY:function(e){return"movementY"in e?e.movementY:Ga}}),Lo=dt(fa),lp=ke({},fa,{dataTransfer:0}),ip=dt(lp),op=ke({},nr,{relatedTarget:0}),Ka=dt(op),cp=ke({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),dp=dt(cp),up=ke({},us,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mp=dt(up),pp=ke({},us,{data:0}),Mo=dt(pp),hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xp[e])?!!t[e]:!1}function Pi(){return gp}var yp=ke({},nr,{key:function(e){if(e.key){var t=hp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pi,charCode:function(e){return e.type==="keypress"?Lr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vp=dt(yp),jp=ke({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),To=dt(jp),bp=ke({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pi}),wp=dt(bp),Np=ke({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),kp=dt(Np),Sp=ke({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cp=dt(Sp),Ep=[9,13,27,32],Li=Ft&&"CompositionEvent"in window,Ps=null;Ft&&"documentMode"in document&&(Ps=document.documentMode);var Ip=Ft&&"TextEvent"in window&&!Ps,Sd=Ft&&(!Li||Ps&&8<Ps&&11>=Ps),Ro=" ",zo=!1;function Cd(e,t){switch(e){case"keyup":return Ep.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function $p(e,t){switch(e){case"compositionend":return Ed(t);case"keypress":return t.which!==32?null:(zo=!0,Ro);case"textInput":return e=t.data,e===Ro&&zo?null:e;default:return null}}function Pp(e,t){if(Un)return e==="compositionend"||!Li&&Cd(e,t)?(e=kd(),Pr=Ii=Zt=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sd&&t.locale!=="ko"?null:t.data;default:return null}}var Lp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Do(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lp[e.type]:t==="textarea"}function Id(e,t,s,r){ad(r),t=Qr(t,"onChange"),0<t.length&&(s=new $i("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var Ls=null,qs=null;function Mp(e){_d(e,0)}function xa(e){var t=qn(e);if(Jc(t))return e}function Tp(e,t){if(e==="change")return t}var $d=!1;if(Ft){var Ya;if(Ft){var Xa="oninput"in document;if(!Xa){var Ao=document.createElement("div");Ao.setAttribute("oninput","return;"),Xa=typeof Ao.oninput=="function"}Ya=Xa}else Ya=!1;$d=Ya&&(!document.documentMode||9<document.documentMode)}function Oo(){Ls&&(Ls.detachEvent("onpropertychange",Pd),qs=Ls=null)}function Pd(e){if(e.propertyName==="value"&&xa(qs)){var t=[];Id(t,qs,e,Ni(e)),cd(Mp,t)}}function Rp(e,t,s){e==="focusin"?(Oo(),Ls=t,qs=s,Ls.attachEvent("onpropertychange",Pd)):e==="focusout"&&Oo()}function zp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xa(qs)}function Dp(e,t){if(e==="click")return xa(t)}function Ap(e,t){if(e==="input"||e==="change")return xa(t)}function Op(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:Op;function Ws(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!yl.call(t,a)||!Ct(e[a],t[a]))return!1}return!0}function _o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uo(e,t){var s=_o(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=_o(s)}}function Ld(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ld(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Md(){for(var e=window,t=Ur();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ur(e.document)}return t}function Mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _p(e){var t=Md(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&Ld(s.ownerDocument.documentElement,s)){if(r!==null&&Mi(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,l=Math.min(r.start,a);r=r.end===void 0?l:Math.min(r.end,a),!e.extend&&l>r&&(a=r,r=l,l=a),a=Uo(s,l);var i=Uo(s,r);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Up=Ft&&"documentMode"in document&&11>=document.documentMode,Fn=null,Al=null,Ms=null,Ol=!1;function Fo(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ol||Fn==null||Fn!==Ur(r)||(r=Fn,"selectionStart"in r&&Mi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ms&&Ws(Ms,r)||(Ms=r,r=Qr(Al,"onSelect"),0<r.length&&(t=new $i("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Fn)))}function yr(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Bn={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},Ja={},Td={};Ft&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function ga(e){if(Ja[e])return Ja[e];if(!Bn[e])return e;var t=Bn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Td)return Ja[e]=t[s];return e}var Rd=ga("animationend"),zd=ga("animationiteration"),Dd=ga("animationstart"),Ad=ga("transitionend"),Od=new Map,Bo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,t){Od.set(e,t),Mn(t,[e])}for(var Za=0;Za<Bo.length;Za++){var el=Bo[Za],Fp=el.toLowerCase(),Bp=el[0].toUpperCase()+el.slice(1);hn(Fp,"on"+Bp)}hn(Rd,"onAnimationEnd");hn(zd,"onAnimationIteration");hn(Dd,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(Ad,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Es));function qo(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,Fm(r,t,void 0,e),e.currentTarget=null}function _d(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;qo(a,o,d),l=c}else for(i=0;i<r.length;i++){if(o=r[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;qo(a,o,d),l=c}}}if(Br)throw e=Tl,Br=!1,Tl=null,e}function ge(e,t){var s=t[ql];s===void 0&&(s=t[ql]=new Set);var r=e+"__bubble";s.has(r)||(Ud(t,e,2,!1),s.add(r))}function tl(e,t,s){var r=0;t&&(r|=4),Ud(s,e,r,t)}var vr="_reactListening"+Math.random().toString(36).slice(2);function Vs(e){if(!e[vr]){e[vr]=!0,Qc.forEach(function(s){s!=="selectionchange"&&(qp.has(s)||tl(s,!1,e),tl(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vr]||(t[vr]=!0,tl("selectionchange",!1,t))}}function Ud(e,t,s,r){switch(Nd(t)){case 1:var a=sp;break;case 4:a=rp;break;default:a=Ei}s=a.bind(null,t,s,e),a=void 0,!Ml||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function nl(e,t,s,r,a){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=bn(o),i===null)return;if(c=i.tag,c===5||c===6){r=l=i;continue e}o=o.parentNode}}r=r.return}cd(function(){var d=l,x=Ni(s),p=[];e:{var j=Od.get(e);if(j!==void 0){var $=$i,N=e;switch(e){case"keypress":if(Lr(s)===0)break e;case"keydown":case"keyup":$=vp;break;case"focusin":N="focus",$=Ka;break;case"focusout":N="blur",$=Ka;break;case"beforeblur":case"afterblur":$=Ka;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=wp;break;case Rd:case zd:case Dd:$=dp;break;case Ad:$=kp;break;case"scroll":$=ap;break;case"wheel":$=Cp;break;case"copy":case"cut":case"paste":$=mp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=To}var S=(t&4)!==0,P=!S&&e==="scroll",m=S?j!==null?j+"Capture":null:j;S=[];for(var u=d,f;u!==null;){f=u;var E=f.stateNode;if(f.tag===5&&E!==null&&(f=E,m!==null&&(E=_s(u,m),E!=null&&S.push(Hs(u,E,f)))),P)break;u=u.return}0<S.length&&(j=new $(j,N,null,s,x),p.push({event:j,listeners:S}))}}if(!(t&7)){e:{if(j=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",j&&s!==Pl&&(N=s.relatedTarget||s.fromElement)&&(bn(N)||N[Bt]))break e;if(($||j)&&(j=x.window===x?x:(j=x.ownerDocument)?j.defaultView||j.parentWindow:window,$?(N=s.relatedTarget||s.toElement,$=d,N=N?bn(N):null,N!==null&&(P=Tn(N),N!==P||N.tag!==5&&N.tag!==6)&&(N=null)):($=null,N=d),$!==N)){if(S=Lo,E="onMouseLeave",m="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(S=To,E="onPointerLeave",m="onPointerEnter",u="pointer"),P=$==null?j:qn($),f=N==null?j:qn(N),j=new S(E,u+"leave",$,s,x),j.target=P,j.relatedTarget=f,E=null,bn(x)===d&&(S=new S(m,u+"enter",N,s,x),S.target=f,S.relatedTarget=P,E=S),P=E,$&&N)t:{for(S=$,m=N,u=0,f=S;f;f=An(f))u++;for(f=0,E=m;E;E=An(E))f++;for(;0<u-f;)S=An(S),u--;for(;0<f-u;)m=An(m),f--;for(;u--;){if(S===m||m!==null&&S===m.alternate)break t;S=An(S),m=An(m)}S=null}else S=null;$!==null&&Wo(p,j,$,S,!1),N!==null&&P!==null&&Wo(p,P,N,S,!0)}}e:{if(j=d?qn(d):window,$=j.nodeName&&j.nodeName.toLowerCase(),$==="select"||$==="input"&&j.type==="file")var v=Tp;else if(Do(j))if($d)v=Ap;else{v=zp;var y=Rp}else($=j.nodeName)&&$.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(v=Dp);if(v&&(v=v(e,d))){Id(p,v,s,x);break e}y&&y(e,j,d),e==="focusout"&&(y=j._wrapperState)&&y.controlled&&j.type==="number"&&Sl(j,"number",j.value)}switch(y=d?qn(d):window,e){case"focusin":(Do(y)||y.contentEditable==="true")&&(Fn=y,Al=d,Ms=null);break;case"focusout":Ms=Al=Fn=null;break;case"mousedown":Ol=!0;break;case"contextmenu":case"mouseup":case"dragend":Ol=!1,Fo(p,s,x);break;case"selectionchange":if(Up)break;case"keydown":case"keyup":Fo(p,s,x)}var b;if(Li)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Un?Cd(e,s)&&(R="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(R="onCompositionStart");R&&(Sd&&s.locale!=="ko"&&(Un||R!=="onCompositionStart"?R==="onCompositionEnd"&&Un&&(b=kd()):(Zt=x,Ii="value"in Zt?Zt.value:Zt.textContent,Un=!0)),y=Qr(d,R),0<y.length&&(R=new Mo(R,e,null,s,x),p.push({event:R,listeners:y}),b?R.data=b:(b=Ed(s),b!==null&&(R.data=b)))),(b=Ip?$p(e,s):Pp(e,s))&&(d=Qr(d,"onBeforeInput"),0<d.length&&(x=new Mo("onBeforeInput","beforeinput",null,s,x),p.push({event:x,listeners:d}),x.data=b))}_d(p,t)})}function Hs(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Qr(e,t){for(var s=t+"Capture",r=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=_s(e,s),l!=null&&r.unshift(Hs(e,l,a)),l=_s(e,t),l!=null&&r.push(Hs(e,l,a))),e=e.return}return r}function An(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wo(e,t,s,r,a){for(var l=t._reactName,i=[];s!==null&&s!==r;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,a?(c=_s(s,l),c!=null&&i.unshift(Hs(s,c,o))):a||(c=_s(s,l),c!=null&&i.push(Hs(s,c,o)))),s=s.return}i.length!==0&&e.push({event:t,listeners:i})}var Wp=/\r\n?/g,Vp=/\u0000|\uFFFD/g;function Vo(e){return(typeof e=="string"?e:""+e).replace(Wp,`
`).replace(Vp,"")}function jr(e,t,s){if(t=Vo(t),Vo(e)!==t&&s)throw Error(Q(425))}function Gr(){}var _l=null,Ul=null;function Fl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bl=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,Ho=typeof Promise=="function"?Promise:void 0,Qp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ho<"u"?function(e){return Ho.resolve(null).then(e).catch(Gp)}:Bl;function Gp(e){setTimeout(function(){throw e})}function sl(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),Bs(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);Bs(t)}function an(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var ms=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ms,Qs="__reactProps$"+ms,Bt="__reactContainer$"+ms,ql="__reactEvents$"+ms,Kp="__reactListeners$"+ms,Yp="__reactHandles$"+ms;function bn(e){var t=e[Lt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Bt]||s[Lt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Qo(e);e!==null;){if(s=e[Lt])return s;e=Qo(e)}return t}e=s,s=e.parentNode}return null}function sr(e){return e=e[Lt]||e[Bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function ya(e){return e[Qs]||null}var Wl=[],Wn=-1;function fn(e){return{current:e}}function ye(e){0>Wn||(e.current=Wl[Wn],Wl[Wn]=null,Wn--)}function xe(e,t){Wn++,Wl[Wn]=e.current,e.current=t}var mn={},qe=fn(mn),et=fn(!1),Cn=mn;function ss(e,t){var s=e.type.contextTypes;if(!s)return mn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in s)a[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function tt(e){return e=e.childContextTypes,e!=null}function Kr(){ye(et),ye(qe)}function Go(e,t,s){if(qe.current!==mn)throw Error(Q(168));xe(qe,t),xe(et,s)}function Fd(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Q(108,Rm(e)||"Unknown",a));return ke({},s,r)}function Yr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mn,Cn=qe.current,xe(qe,e),xe(et,et.current),!0}function Ko(e,t,s){var r=e.stateNode;if(!r)throw Error(Q(169));s?(e=Fd(e,t,Cn),r.__reactInternalMemoizedMergedChildContext=e,ye(et),ye(qe),xe(qe,e)):ye(et),xe(et,s)}var At=null,va=!1,rl=!1;function Bd(e){At===null?At=[e]:At.push(e)}function Xp(e){va=!0,Bd(e)}function xn(){if(!rl&&At!==null){rl=!0;var e=0,t=he;try{var s=At;for(he=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}At=null,va=!1}catch(a){throw At!==null&&(At=At.slice(e+1)),pd(ki,xn),a}finally{he=t,rl=!1}}return null}var Vn=[],Hn=0,Xr=null,Jr=0,mt=[],pt=0,En=null,Ot=1,_t="";function vn(e,t){Vn[Hn++]=Jr,Vn[Hn++]=Xr,Xr=e,Jr=t}function qd(e,t,s){mt[pt++]=Ot,mt[pt++]=_t,mt[pt++]=En,En=e;var r=Ot;e=_t;var a=32-kt(r)-1;r&=~(1<<a),s+=1;var l=32-kt(t)+a;if(30<l){var i=a-a%5;l=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ot=1<<32-kt(t)+a|s<<a|r,_t=l+e}else Ot=1<<l|s<<a|r,_t=e}function Ti(e){e.return!==null&&(vn(e,1),qd(e,1,0))}function Ri(e){for(;e===Xr;)Xr=Vn[--Hn],Vn[Hn]=null,Jr=Vn[--Hn],Vn[Hn]=null;for(;e===En;)En=mt[--pt],mt[pt]=null,_t=mt[--pt],mt[pt]=null,Ot=mt[--pt],mt[pt]=null}var lt=null,at=null,je=!1,wt=null;function Wd(e,t){var s=ht(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Yo(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,at=an(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=En!==null?{id:Ot,overflow:_t}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=ht(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,lt=e,at=null,!0):!1;default:return!1}}function Vl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hl(e){if(je){var t=at;if(t){var s=t;if(!Yo(e,t)){if(Vl(e))throw Error(Q(418));t=an(s.nextSibling);var r=lt;t&&Yo(e,t)?Wd(r,s):(e.flags=e.flags&-4097|2,je=!1,lt=e)}}else{if(Vl(e))throw Error(Q(418));e.flags=e.flags&-4097|2,je=!1,lt=e}}}function Xo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function br(e){if(e!==lt)return!1;if(!je)return Xo(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fl(e.type,e.memoizedProps)),t&&(t=at)){if(Vl(e))throw Vd(),Error(Q(418));for(;t;)Wd(e,t),t=an(t.nextSibling)}if(Xo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){at=an(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}at=null}}else at=lt?an(e.stateNode.nextSibling):null;return!0}function Vd(){for(var e=at;e;)e=an(e.nextSibling)}function rs(){at=lt=null,je=!1}function zi(e){wt===null?wt=[e]:wt.push(e)}var Jp=Vt.ReactCurrentBatchConfig;function js(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(Q(309));var r=s.stateNode}if(!r)throw Error(Q(147,e));var a=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(Q(284));if(!s._owner)throw Error(Q(290,e))}return e}function wr(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jo(e){var t=e._init;return t(e._payload)}function Hd(e){function t(m,u){if(e){var f=m.deletions;f===null?(m.deletions=[u],m.flags|=16):f.push(u)}}function s(m,u){if(!e)return null;for(;u!==null;)t(m,u),u=u.sibling;return null}function r(m,u){for(m=new Map;u!==null;)u.key!==null?m.set(u.key,u):m.set(u.index,u),u=u.sibling;return m}function a(m,u){return m=dn(m,u),m.index=0,m.sibling=null,m}function l(m,u,f){return m.index=f,e?(f=m.alternate,f!==null?(f=f.index,f<u?(m.flags|=2,u):f):(m.flags|=2,u)):(m.flags|=1048576,u)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,u,f,E){return u===null||u.tag!==6?(u=ul(f,m.mode,E),u.return=m,u):(u=a(u,f),u.return=m,u)}function c(m,u,f,E){var v=f.type;return v===_n?x(m,u,f.props.children,E,f.key):u!==null&&(u.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Kt&&Jo(v)===u.type)?(E=a(u,f.props),E.ref=js(m,u,f),E.return=m,E):(E=Or(f.type,f.key,f.props,null,m.mode,E),E.ref=js(m,u,f),E.return=m,E)}function d(m,u,f,E){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=ml(f,m.mode,E),u.return=m,u):(u=a(u,f.children||[]),u.return=m,u)}function x(m,u,f,E,v){return u===null||u.tag!==7?(u=Sn(f,m.mode,E,v),u.return=m,u):(u=a(u,f),u.return=m,u)}function p(m,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=ul(""+u,m.mode,f),u.return=m,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case ur:return f=Or(u.type,u.key,u.props,null,m.mode,f),f.ref=js(m,null,u),f.return=m,f;case On:return u=ml(u,m.mode,f),u.return=m,u;case Kt:var E=u._init;return p(m,E(u._payload),f)}if(Ss(u)||fs(u))return u=Sn(u,m.mode,f,null),u.return=m,u;wr(m,u)}return null}function j(m,u,f,E){var v=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return v!==null?null:o(m,u,""+f,E);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ur:return f.key===v?c(m,u,f,E):null;case On:return f.key===v?d(m,u,f,E):null;case Kt:return v=f._init,j(m,u,v(f._payload),E)}if(Ss(f)||fs(f))return v!==null?null:x(m,u,f,E,null);wr(m,f)}return null}function $(m,u,f,E,v){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(f)||null,o(u,m,""+E,v);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ur:return m=m.get(E.key===null?f:E.key)||null,c(u,m,E,v);case On:return m=m.get(E.key===null?f:E.key)||null,d(u,m,E,v);case Kt:var y=E._init;return $(m,u,f,y(E._payload),v)}if(Ss(E)||fs(E))return m=m.get(f)||null,x(u,m,E,v,null);wr(u,E)}return null}function N(m,u,f,E){for(var v=null,y=null,b=u,R=u=0,G=null;b!==null&&R<f.length;R++){b.index>R?(G=b,b=null):G=b.sibling;var g=j(m,b,f[R],E);if(g===null){b===null&&(b=G);break}e&&b&&g.alternate===null&&t(m,b),u=l(g,u,R),y===null?v=g:y.sibling=g,y=g,b=G}if(R===f.length)return s(m,b),je&&vn(m,R),v;if(b===null){for(;R<f.length;R++)b=p(m,f[R],E),b!==null&&(u=l(b,u,R),y===null?v=b:y.sibling=b,y=b);return je&&vn(m,R),v}for(b=r(m,b);R<f.length;R++)G=$(b,m,R,f[R],E),G!==null&&(e&&G.alternate!==null&&b.delete(G.key===null?R:G.key),u=l(G,u,R),y===null?v=G:y.sibling=G,y=G);return e&&b.forEach(function(M){return t(m,M)}),je&&vn(m,R),v}function S(m,u,f,E){var v=fs(f);if(typeof v!="function")throw Error(Q(150));if(f=v.call(f),f==null)throw Error(Q(151));for(var y=v=null,b=u,R=u=0,G=null,g=f.next();b!==null&&!g.done;R++,g=f.next()){b.index>R?(G=b,b=null):G=b.sibling;var M=j(m,b,g.value,E);if(M===null){b===null&&(b=G);break}e&&b&&M.alternate===null&&t(m,b),u=l(M,u,R),y===null?v=M:y.sibling=M,y=M,b=G}if(g.done)return s(m,b),je&&vn(m,R),v;if(b===null){for(;!g.done;R++,g=f.next())g=p(m,g.value,E),g!==null&&(u=l(g,u,R),y===null?v=g:y.sibling=g,y=g);return je&&vn(m,R),v}for(b=r(m,b);!g.done;R++,g=f.next())g=$(b,m,R,g.value,E),g!==null&&(e&&g.alternate!==null&&b.delete(g.key===null?R:g.key),u=l(g,u,R),y===null?v=g:y.sibling=g,y=g);return e&&b.forEach(function(q){return t(m,q)}),je&&vn(m,R),v}function P(m,u,f,E){if(typeof f=="object"&&f!==null&&f.type===_n&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ur:e:{for(var v=f.key,y=u;y!==null;){if(y.key===v){if(v=f.type,v===_n){if(y.tag===7){s(m,y.sibling),u=a(y,f.props.children),u.return=m,m=u;break e}}else if(y.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Kt&&Jo(v)===y.type){s(m,y.sibling),u=a(y,f.props),u.ref=js(m,y,f),u.return=m,m=u;break e}s(m,y);break}else t(m,y);y=y.sibling}f.type===_n?(u=Sn(f.props.children,m.mode,E,f.key),u.return=m,m=u):(E=Or(f.type,f.key,f.props,null,m.mode,E),E.ref=js(m,u,f),E.return=m,m=E)}return i(m);case On:e:{for(y=f.key;u!==null;){if(u.key===y)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){s(m,u.sibling),u=a(u,f.children||[]),u.return=m,m=u;break e}else{s(m,u);break}else t(m,u);u=u.sibling}u=ml(f,m.mode,E),u.return=m,m=u}return i(m);case Kt:return y=f._init,P(m,u,y(f._payload),E)}if(Ss(f))return N(m,u,f,E);if(fs(f))return S(m,u,f,E);wr(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(s(m,u.sibling),u=a(u,f),u.return=m,m=u):(s(m,u),u=ul(f,m.mode,E),u.return=m,m=u),i(m)):s(m,u)}return P}var as=Hd(!0),Qd=Hd(!1),Zr=fn(null),ea=null,Qn=null,Di=null;function Ai(){Di=Qn=ea=null}function Oi(e){var t=Zr.current;ye(Zr),e._currentValue=t}function Ql(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function es(e,t){ea=e,Di=Qn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(Di!==e)if(e={context:e,memoizedValue:t,next:null},Qn===null){if(ea===null)throw Error(Q(308));Qn=e,ea.dependencies={lanes:0,firstContext:e}}else Qn=Qn.next=e;return t}var wn=null;function _i(e){wn===null?wn=[e]:wn.push(e)}function Gd(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,_i(t)):(s.next=a.next,a.next=s),t.interleaved=s,qt(e,r)}function qt(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Yt=!1;function Ui(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ut(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ln(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,qt(e,s)}return a=r.interleaved,a===null?(t.next=t,_i(r)):(t.next=a.next,a.next=t),r.interleaved=t,qt(e,s)}function Mr(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Si(e,s)}}function Zo(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,l=null;if(s=s.firstBaseUpdate,s!==null){do{var i={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};l===null?a=l=i:l=l.next=i,s=s.next}while(s!==null);l===null?a=l=t:l=l.next=t}else a=l=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function ta(e,t,s,r){var a=e.updateQueue;Yt=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var x=e.alternate;x!==null&&(x=x.updateQueue,o=x.lastBaseUpdate,o!==i&&(o===null?x.firstBaseUpdate=d:o.next=d,x.lastBaseUpdate=c))}if(l!==null){var p=a.baseState;i=0,x=d=c=null,o=l;do{var j=o.lane,$=o.eventTime;if((r&j)===j){x!==null&&(x=x.next={eventTime:$,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,S=o;switch(j=t,$=s,S.tag){case 1:if(N=S.payload,typeof N=="function"){p=N.call($,p,j);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=S.payload,j=typeof N=="function"?N.call($,p,j):N,j==null)break e;p=ke({},p,j);break e;case 2:Yt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,j=a.effects,j===null?a.effects=[o]:j.push(o))}else $={eventTime:$,lane:j,tag:o.tag,payload:o.payload,callback:o.callback,next:null},x===null?(d=x=$,c=p):x=x.next=$,i|=j;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;j=o,o=j.next,j.next=null,a.lastBaseUpdate=j,a.shared.pending=null}}while(!0);if(x===null&&(c=p),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=x,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);$n|=i,e.lanes=i,e.memoizedState=p}}function ec(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error(Q(191,a));a.call(r)}}}var rr={},Tt=fn(rr),Gs=fn(rr),Ks=fn(rr);function Nn(e){if(e===rr)throw Error(Q(174));return e}function Fi(e,t){switch(xe(Ks,t),xe(Gs,e),xe(Tt,rr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:El(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=El(t,e)}ye(Tt),xe(Tt,t)}function ls(){ye(Tt),ye(Gs),ye(Ks)}function Yd(e){Nn(Ks.current);var t=Nn(Tt.current),s=El(t,e.type);t!==s&&(xe(Gs,e),xe(Tt,s))}function Bi(e){Gs.current===e&&(ye(Tt),ye(Gs))}var we=fn(0);function na(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var al=[];function qi(){for(var e=0;e<al.length;e++)al[e]._workInProgressVersionPrimary=null;al.length=0}var Tr=Vt.ReactCurrentDispatcher,ll=Vt.ReactCurrentBatchConfig,In=0,Ne=null,Pe=null,Me=null,sa=!1,Ts=!1,Ys=0,Zp=0;function Ue(){throw Error(Q(321))}function Wi(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ct(e[s],t[s]))return!1;return!0}function Vi(e,t,s,r,a,l){if(In=l,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tr.current=e===null||e.memoizedState===null?sh:rh,e=s(r,a),Ts){l=0;do{if(Ts=!1,Ys=0,25<=l)throw Error(Q(301));l+=1,Me=Pe=null,t.updateQueue=null,Tr.current=ah,e=s(r,a)}while(Ts)}if(Tr.current=ra,t=Pe!==null&&Pe.next!==null,In=0,Me=Pe=Ne=null,sa=!1,t)throw Error(Q(300));return e}function Hi(){var e=Ys!==0;return Ys=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ne.memoizedState=Me=e:Me=Me.next=e,Me}function gt(){if(Pe===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Me===null?Ne.memoizedState:Me.next;if(t!==null)Me=t,Pe=e;else{if(e===null)throw Error(Q(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Me===null?Ne.memoizedState=Me=e:Me=Me.next=e}return Me}function Xs(e,t){return typeof t=="function"?t(e):t}function il(e){var t=gt(),s=t.queue;if(s===null)throw Error(Q(311));s.lastRenderedReducer=e;var r=Pe,a=r.baseQueue,l=s.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}r.baseQueue=a=l,s.pending=null}if(a!==null){l=a.next,r=r.baseState;var o=i=null,c=null,d=l;do{var x=d.lane;if((In&x)===x)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:x,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=p,i=r):c=c.next=p,Ne.lanes|=x,$n|=x}d=d.next}while(d!==null&&d!==l);c===null?i=r:c.next=o,Ct(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do l=a.lane,Ne.lanes|=l,$n|=l,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function ol(e){var t=gt(),s=t.queue;if(s===null)throw Error(Q(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,l=t.memoizedState;if(a!==null){s.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Ct(l,t.memoizedState)||(Ze=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),s.lastRenderedState=l}return[l,r]}function Xd(){}function Jd(e,t){var s=Ne,r=gt(),a=t(),l=!Ct(r.memoizedState,a);if(l&&(r.memoizedState=a,Ze=!0),r=r.queue,Qi(tu.bind(null,s,r,e),[e]),r.getSnapshot!==t||l||Me!==null&&Me.memoizedState.tag&1){if(s.flags|=2048,Js(9,eu.bind(null,s,r,a,t),void 0,null),Te===null)throw Error(Q(349));In&30||Zd(s,t,a)}return a}function Zd(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function eu(e,t,s,r){t.value=s,t.getSnapshot=r,nu(t)&&su(e)}function tu(e,t,s){return s(function(){nu(t)&&su(e)})}function nu(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ct(e,s)}catch{return!0}}function su(e){var t=qt(e,1);t!==null&&St(t,e,1,-1)}function tc(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xs,lastRenderedState:e},t.queue=e,e=e.dispatch=nh.bind(null,Ne,e),[t.memoizedState,e]}function Js(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function ru(){return gt().memoizedState}function Rr(e,t,s,r){var a=$t();Ne.flags|=e,a.memoizedState=Js(1|t,s,void 0,r===void 0?null:r)}function ja(e,t,s,r){var a=gt();r=r===void 0?null:r;var l=void 0;if(Pe!==null){var i=Pe.memoizedState;if(l=i.destroy,r!==null&&Wi(r,i.deps)){a.memoizedState=Js(t,s,l,r);return}}Ne.flags|=e,a.memoizedState=Js(1|t,s,l,r)}function nc(e,t){return Rr(8390656,8,e,t)}function Qi(e,t){return ja(2048,8,e,t)}function au(e,t){return ja(4,2,e,t)}function lu(e,t){return ja(4,4,e,t)}function iu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ou(e,t,s){return s=s!=null?s.concat([e]):null,ja(4,4,iu.bind(null,t,e),s)}function Gi(){}function cu(e,t){var s=gt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Wi(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function du(e,t){var s=gt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&Wi(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function uu(e,t,s){return In&21?(Ct(s,t)||(s=xd(),Ne.lanes|=s,$n|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=s)}function eh(e,t){var s=he;he=s!==0&&4>s?s:4,e(!0);var r=ll.transition;ll.transition={};try{e(!1),t()}finally{he=s,ll.transition=r}}function mu(){return gt().memoizedState}function th(e,t,s){var r=cn(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},pu(e))hu(t,s);else if(s=Gd(e,t,s,r),s!==null){var a=Ke();St(s,e,r,a),fu(s,t,r)}}function nh(e,t,s){var r=cn(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(pu(e))hu(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,s);if(a.hasEagerState=!0,a.eagerState=o,Ct(o,i)){var c=t.interleaved;c===null?(a.next=a,_i(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=Gd(e,t,a,r),s!==null&&(a=Ke(),St(s,e,r,a),fu(s,t,r))}}function pu(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function hu(e,t){Ts=sa=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function fu(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,Si(e,s)}}var ra={readContext:xt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},sh={readContext:xt,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:nc,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Rr(4194308,4,iu.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Rr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rr(4,2,e,t)},useMemo:function(e,t){var s=$t();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=$t();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=th.bind(null,Ne,e),[r.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:tc,useDebugValue:Gi,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=tc(!1),t=e[0];return e=eh.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=Ne,a=$t();if(je){if(s===void 0)throw Error(Q(407));s=s()}else{if(s=t(),Te===null)throw Error(Q(349));In&30||Zd(r,t,s)}a.memoizedState=s;var l={value:s,getSnapshot:t};return a.queue=l,nc(tu.bind(null,r,l,e),[e]),r.flags|=2048,Js(9,eu.bind(null,r,l,s,t),void 0,null),s},useId:function(){var e=$t(),t=Te.identifierPrefix;if(je){var s=_t,r=Ot;s=(r&~(1<<32-kt(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=Ys++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Zp++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rh={readContext:xt,useCallback:cu,useContext:xt,useEffect:Qi,useImperativeHandle:ou,useInsertionEffect:au,useLayoutEffect:lu,useMemo:du,useReducer:il,useRef:ru,useState:function(){return il(Xs)},useDebugValue:Gi,useDeferredValue:function(e){var t=gt();return uu(t,Pe.memoizedState,e)},useTransition:function(){var e=il(Xs)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Xd,useSyncExternalStore:Jd,useId:mu,unstable_isNewReconciler:!1},ah={readContext:xt,useCallback:cu,useContext:xt,useEffect:Qi,useImperativeHandle:ou,useInsertionEffect:au,useLayoutEffect:lu,useMemo:du,useReducer:ol,useRef:ru,useState:function(){return ol(Xs)},useDebugValue:Gi,useDeferredValue:function(e){var t=gt();return Pe===null?t.memoizedState=e:uu(t,Pe.memoizedState,e)},useTransition:function(){var e=ol(Xs)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Xd,useSyncExternalStore:Jd,useId:mu,unstable_isNewReconciler:!1};function jt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Gl(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:ke({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ba={isMounted:function(e){return(e=e._reactInternals)?Tn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=Ke(),a=cn(e),l=Ut(r,a);l.payload=t,s!=null&&(l.callback=s),t=ln(e,l,a),t!==null&&(St(t,e,a,r),Mr(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=Ke(),a=cn(e),l=Ut(r,a);l.tag=1,l.payload=t,s!=null&&(l.callback=s),t=ln(e,l,a),t!==null&&(St(t,e,a,r),Mr(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ke(),r=cn(e),a=Ut(s,r);a.tag=2,t!=null&&(a.callback=t),t=ln(e,a,r),t!==null&&(St(t,e,r,s),Mr(t,e,r))}};function sc(e,t,s,r,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!Ws(s,r)||!Ws(a,l):!0}function xu(e,t,s){var r=!1,a=mn,l=t.contextType;return typeof l=="object"&&l!==null?l=xt(l):(a=tt(t)?Cn:qe.current,r=t.contextTypes,l=(r=r!=null)?ss(e,a):mn),t=new t(s,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ba,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function rc(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&ba.enqueueReplaceState(t,t.state,null)}function Kl(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Ui(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=xt(l):(l=tt(t)?Cn:qe.current,a.context=ss(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Gl(e,t,l,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ba.enqueueReplaceState(a,a.state,null),ta(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function is(e,t){try{var s="",r=t;do s+=Tm(r),r=r.return;while(r);var a=s}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function cl(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Yl(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var lh=typeof WeakMap=="function"?WeakMap:Map;function gu(e,t,s){s=Ut(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){la||(la=!0,li=r),Yl(e,t)},s}function yu(e,t,s){s=Ut(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){Yl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(s.callback=function(){Yl(e,t),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),s}function ac(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new lh;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=jh.bind(null,e,t,s),t.then(e,e))}function lc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ic(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Ut(-1,1),t.tag=2,ln(s,t,1))),s.lanes|=1),e)}var ih=Vt.ReactCurrentOwner,Ze=!1;function Ge(e,t,s,r){t.child=e===null?Qd(t,null,s,r):as(t,e.child,s,r)}function oc(e,t,s,r,a){s=s.render;var l=t.ref;return es(t,a),r=Vi(e,t,s,r,l,a),s=Hi(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wt(e,t,a)):(je&&s&&Ti(t),t.flags|=1,Ge(e,t,r,a),t.child)}function cc(e,t,s,r,a){if(e===null){var l=s.type;return typeof l=="function"&&!no(l)&&l.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=l,vu(e,t,l,r,a)):(e=Or(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(s=s.compare,s=s!==null?s:Ws,s(i,r)&&e.ref===t.ref)return Wt(e,t,a)}return t.flags|=1,e=dn(l,r),e.ref=t.ref,e.return=t,t.child=e}function vu(e,t,s,r,a){if(e!==null){var l=e.memoizedProps;if(Ws(l,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=l,(e.lanes&a)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,Wt(e,t,a)}return Xl(e,t,s,r,a)}function ju(e,t,s){var r=t.pendingProps,a=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(Kn,rt),rt|=s;else{if(!(s&1073741824))return e=l!==null?l.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(Kn,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:s,xe(Kn,rt),rt|=r}else l!==null?(r=l.baseLanes|s,t.memoizedState=null):r=s,xe(Kn,rt),rt|=r;return Ge(e,t,a,s),t.child}function bu(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Xl(e,t,s,r,a){var l=tt(s)?Cn:qe.current;return l=ss(t,l),es(t,a),s=Vi(e,t,s,r,l,a),r=Hi(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Wt(e,t,a)):(je&&r&&Ti(t),t.flags|=1,Ge(e,t,s,a),t.child)}function dc(e,t,s,r,a){if(tt(s)){var l=!0;Yr(t)}else l=!1;if(es(t,a),t.stateNode===null)zr(e,t),xu(t,s,r),Kl(t,s,r,a),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,d=s.contextType;typeof d=="object"&&d!==null?d=xt(d):(d=tt(s)?Cn:qe.current,d=ss(t,d));var x=s.getDerivedStateFromProps,p=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||c!==d)&&rc(t,i,r,d),Yt=!1;var j=t.memoizedState;i.state=j,ta(t,r,i,a),c=t.memoizedState,o!==r||j!==c||et.current||Yt?(typeof x=="function"&&(Gl(t,s,x,r),c=t.memoizedState),(o=Yt||sc(t,s,o,r,j,c,d))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=d,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Kd(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:jt(t.type,o),i.props=d,p=t.pendingProps,j=i.context,c=s.contextType,typeof c=="object"&&c!==null?c=xt(c):(c=tt(s)?Cn:qe.current,c=ss(t,c));var $=s.getDerivedStateFromProps;(x=typeof $=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==p||j!==c)&&rc(t,i,r,c),Yt=!1,j=t.memoizedState,i.state=j,ta(t,r,i,a);var N=t.memoizedState;o!==p||j!==N||et.current||Yt?(typeof $=="function"&&(Gl(t,s,$,r),N=t.memoizedState),(d=Yt||sc(t,s,d,r,j,N,c)||!1)?(x||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,N,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,N,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),i.props=r,i.state=N,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),r=!1)}return Jl(e,t,s,r,l,a)}function Jl(e,t,s,r,a,l){bu(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return a&&Ko(t,s,!1),Wt(e,t,l);r=t.stateNode,ih.current=t;var o=i&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=as(t,e.child,null,l),t.child=as(t,null,o,l)):Ge(e,t,o,l),t.memoizedState=r.state,a&&Ko(t,s,!0),t.child}function wu(e){var t=e.stateNode;t.pendingContext?Go(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Go(e,t.context,!1),Fi(e,t.containerInfo)}function uc(e,t,s,r,a){return rs(),zi(a),t.flags|=256,Ge(e,t,s,r),t.child}var Zl={dehydrated:null,treeContext:null,retryLane:0};function ei(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nu(e,t,s){var r=t.pendingProps,a=we.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),xe(we,a&1),e===null)return Hl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=ka(i,r,0,null),e=Sn(e,r,s,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ei(s),t.memoizedState=Zl,e):Ki(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return oh(e,t,i,r,o,a,s);if(l){l=r.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=dn(a,c),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=dn(o,l):(l=Sn(l,i,s,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?ei(s):{baseLanes:i.baseLanes|s,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~s,t.memoizedState=Zl,r}return l=e.child,e=l.sibling,r=dn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function Ki(e,t){return t=ka({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nr(e,t,s,r){return r!==null&&zi(r),as(t,e.child,null,s),e=Ki(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oh(e,t,s,r,a,l,i){if(s)return t.flags&256?(t.flags&=-257,r=cl(Error(Q(422))),Nr(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=ka({mode:"visible",children:r.children},a,0,null),l=Sn(l,a,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&as(t,e.child,null,i),t.child.memoizedState=ei(i),t.memoizedState=Zl,l);if(!(t.mode&1))return Nr(e,t,i,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error(Q(419)),r=cl(l,r,void 0),Nr(e,t,i,r)}if(o=(i&e.childLanes)!==0,Ze||o){if(r=Te,r!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,qt(e,a),St(r,e,a,-1))}return to(),r=cl(Error(Q(421))),Nr(e,t,i,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=bh.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,at=an(a.nextSibling),lt=t,je=!0,wt=null,e!==null&&(mt[pt++]=Ot,mt[pt++]=_t,mt[pt++]=En,Ot=e.id,_t=e.overflow,En=t),t=Ki(t,r.children),t.flags|=4096,t)}function mc(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ql(e.return,t,s)}function dl(e,t,s,r,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=s,l.tailMode=a)}function ku(e,t,s){var r=t.pendingProps,a=r.revealOrder,l=r.tail;if(Ge(e,t,r.children,s),r=we.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mc(e,s,t);else if(e.tag===19)mc(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(we,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&na(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),dl(t,!1,a,s,l);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&na(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}dl(t,!0,s,null,l);break;case"together":dl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zr(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,s=dn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=dn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function ch(e,t,s){switch(t.tag){case 3:wu(t),rs();break;case 5:Yd(t);break;case 1:tt(t.type)&&Yr(t);break;case 4:Fi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;xe(Zr,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(we,we.current&1),t.flags|=128,null):s&t.child.childLanes?Nu(e,t,s):(xe(we,we.current&1),e=Wt(e,t,s),e!==null?e.sibling:null);xe(we,we.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return ku(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),xe(we,we.current),r)break;return null;case 22:case 23:return t.lanes=0,ju(e,t,s)}return Wt(e,t,s)}var Su,ti,Cu,Eu;Su=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};ti=function(){};Cu=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Nn(Tt.current);var l=null;switch(s){case"input":a=Nl(e,a),r=Nl(e,r),l=[];break;case"select":a=ke({},a,{value:void 0}),r=ke({},r,{value:void 0}),l=[];break;case"textarea":a=Cl(e,a),r=Cl(e,r),l=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Gr)}Il(s,r);var i;s=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(s||(s={}),s[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(As.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(s||(s={}),s[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(s||(s={}),s[i]=c[i])}else s||(l||(l=[]),l.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(As.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ge("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}s&&(l=l||[]).push("style",s);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};Eu=function(e,t,s,r){s!==r&&(t.flags|=4)};function bs(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function dh(e,t,s){var r=t.pendingProps;switch(Ri(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return tt(t.type)&&Kr(),Fe(t),null;case 3:return r=t.stateNode,ls(),ye(et),ye(qe),qi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(br(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wt!==null&&(ci(wt),wt=null))),ti(e,t),Fe(t),null;case 5:Bi(t);var a=Nn(Ks.current);if(s=t.type,e!==null&&t.stateNode!=null)Cu(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return Fe(t),null}if(e=Nn(Tt.current),br(t)){r=t.stateNode,s=t.type;var l=t.memoizedProps;switch(r[Lt]=t,r[Qs]=l,e=(t.mode&1)!==0,s){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(a=0;a<Es.length;a++)ge(Es[a],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":bo(r,l),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ge("invalid",r);break;case"textarea":No(r,l),ge("invalid",r)}Il(s,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&jr(r.textContent,o,e),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&jr(r.textContent,o,e),a=["children",""+o]):As.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ge("scroll",r)}switch(s){case"input":mr(r),wo(r,l,!0);break;case"textarea":mr(r),ko(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Gr)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=td(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(s,{is:r.is}):(e=i.createElement(s),s==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,s),e[Lt]=t,e[Qs]=r,Su(e,t,!1,!1),t.stateNode=e;e:{switch(i=$l(s,r),s){case"dialog":ge("cancel",e),ge("close",e),a=r;break;case"iframe":case"object":case"embed":ge("load",e),a=r;break;case"video":case"audio":for(a=0;a<Es.length;a++)ge(Es[a],e);a=r;break;case"source":ge("error",e),a=r;break;case"img":case"image":case"link":ge("error",e),ge("load",e),a=r;break;case"details":ge("toggle",e),a=r;break;case"input":bo(e,r),a=Nl(e,r),ge("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=ke({},r,{value:void 0}),ge("invalid",e);break;case"textarea":No(e,r),a=Cl(e,r),ge("invalid",e);break;default:a=r}Il(s,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?rd(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nd(e,c)):l==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Os(e,c):typeof c=="number"&&Os(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(As.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ge("scroll",e):c!=null&&vi(e,l,c,i))}switch(s){case"input":mr(e),wo(e,r,!1);break;case"textarea":mr(e),ko(e);break;case"option":r.value!=null&&e.setAttribute("value",""+un(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Yn(e,!!r.multiple,l,!1):r.defaultValue!=null&&Yn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Gr)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)Eu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(s=Nn(Ks.current),Nn(Tt.current),br(t)){if(r=t.stateNode,s=t.memoizedProps,r[Lt]=t,(l=r.nodeValue!==s)&&(e=lt,e!==null))switch(e.tag){case 3:jr(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jr(r.nodeValue,s,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[Lt]=t,t.stateNode=r}return Fe(t),null;case 13:if(ye(we),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&at!==null&&t.mode&1&&!(t.flags&128))Vd(),rs(),t.flags|=98560,l=!1;else if(l=br(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(Q(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(Q(317));l[Lt]=t}else rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),l=!1}else wt!==null&&(ci(wt),wt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?Le===0&&(Le=3):to())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return ls(),ti(e,t),e===null&&Vs(t.stateNode.containerInfo),Fe(t),null;case 10:return Oi(t.type._context),Fe(t),null;case 17:return tt(t.type)&&Kr(),Fe(t),null;case 19:if(ye(we),l=t.memoizedState,l===null)return Fe(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)bs(l,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=na(e),i!==null){for(t.flags|=128,bs(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)l=s,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return xe(we,we.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ee()>os&&(t.flags|=128,r=!0,bs(l,!1),t.lanes=4194304)}else{if(!r)if(e=na(i),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),bs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!je)return Fe(t),null}else 2*Ee()-l.renderingStartTime>os&&s!==1073741824&&(t.flags|=128,r=!0,bs(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(s=l.last,s!==null?s.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ee(),t.sibling=null,s=we.current,xe(we,r?s&1|2:s&1),t):(Fe(t),null);case 22:case 23:return eo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?rt&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function uh(e,t){switch(Ri(t),t.tag){case 1:return tt(t.type)&&Kr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ls(),ye(et),ye(qe),qi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bi(t),null;case 13:if(ye(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(we),null;case 4:return ls(),null;case 10:return Oi(t.type._context),null;case 22:case 23:return eo(),null;case 24:return null;default:return null}}var kr=!1,Be=!1,mh=typeof WeakSet=="function"?WeakSet:Set,te=null;function Gn(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){Ce(e,t,r)}else s.current=null}function ni(e,t,s){try{s()}catch(r){Ce(e,t,r)}}var pc=!1;function ph(e,t){if(_l=Vr,e=Md(),Mi(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break e}var i=0,o=-1,c=-1,d=0,x=0,p=e,j=null;t:for(;;){for(var $;p!==s||a!==0&&p.nodeType!==3||(o=i+a),p!==l||r!==0&&p.nodeType!==3||(c=i+r),p.nodeType===3&&(i+=p.nodeValue.length),($=p.firstChild)!==null;)j=p,p=$;for(;;){if(p===e)break t;if(j===s&&++d===a&&(o=i),j===l&&++x===r&&(c=i),($=p.nextSibling)!==null)break;p=j,j=p.parentNode}p=$}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ul={focusedElem:e,selectionRange:s},Vr=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var S=N.memoizedProps,P=N.memoizedState,m=t.stateNode,u=m.getSnapshotBeforeUpdate(t.elementType===t.type?S:jt(t.type,S),P);m.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(E){Ce(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return N=pc,pc=!1,N}function Rs(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&ni(t,s,l)}a=a.next}while(a!==r)}}function wa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function si(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Iu(e){var t=e.alternate;t!==null&&(e.alternate=null,Iu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lt],delete t[Qs],delete t[ql],delete t[Kp],delete t[Yp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $u(e){return e.tag===5||e.tag===3||e.tag===4}function hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$u(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ri(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=Gr));else if(r!==4&&(e=e.child,e!==null))for(ri(e,t,s),e=e.sibling;e!==null;)ri(e,t,s),e=e.sibling}function ai(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ai(e,t,s),e=e.sibling;e!==null;)ai(e,t,s),e=e.sibling}var De=null,bt=!1;function Gt(e,t,s){for(s=s.child;s!==null;)Pu(e,t,s),s=s.sibling}function Pu(e,t,s){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(ha,s)}catch{}switch(s.tag){case 5:Be||Gn(s,t);case 6:var r=De,a=bt;De=null,Gt(e,t,s),De=r,bt=a,De!==null&&(bt?(e=De,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):De.removeChild(s.stateNode));break;case 18:De!==null&&(bt?(e=De,s=s.stateNode,e.nodeType===8?sl(e.parentNode,s):e.nodeType===1&&sl(e,s),Bs(e)):sl(De,s.stateNode));break;case 4:r=De,a=bt,De=s.stateNode.containerInfo,bt=!0,Gt(e,t,s),De=r,bt=a;break;case 0:case 11:case 14:case 15:if(!Be&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&ni(s,t,i),a=a.next}while(a!==r)}Gt(e,t,s);break;case 1:if(!Be&&(Gn(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(o){Ce(s,t,o)}Gt(e,t,s);break;case 21:Gt(e,t,s);break;case 22:s.mode&1?(Be=(r=Be)||s.memoizedState!==null,Gt(e,t,s),Be=r):Gt(e,t,s);break;default:Gt(e,t,s)}}function fc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new mh),t.forEach(function(r){var a=wh.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function vt(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:De=o.stateNode,bt=!1;break e;case 3:De=o.stateNode.containerInfo,bt=!0;break e;case 4:De=o.stateNode.containerInfo,bt=!0;break e}o=o.return}if(De===null)throw Error(Q(160));Pu(l,i,a),De=null,bt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Ce(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lu(t,e),t=t.sibling}function Lu(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vt(t,e),It(e),r&4){try{Rs(3,e,e.return),wa(3,e)}catch(S){Ce(e,e.return,S)}try{Rs(5,e,e.return)}catch(S){Ce(e,e.return,S)}}break;case 1:vt(t,e),It(e),r&512&&s!==null&&Gn(s,s.return);break;case 5:if(vt(t,e),It(e),r&512&&s!==null&&Gn(s,s.return),e.flags&32){var a=e.stateNode;try{Os(a,"")}catch(S){Ce(e,e.return,S)}}if(r&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=s!==null?s.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Zc(a,l),$l(o,i);var d=$l(o,l);for(i=0;i<c.length;i+=2){var x=c[i],p=c[i+1];x==="style"?rd(a,p):x==="dangerouslySetInnerHTML"?nd(a,p):x==="children"?Os(a,p):vi(a,x,p,d)}switch(o){case"input":kl(a,l);break;case"textarea":ed(a,l);break;case"select":var j=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var $=l.value;$!=null?Yn(a,!!l.multiple,$,!1):j!==!!l.multiple&&(l.defaultValue!=null?Yn(a,!!l.multiple,l.defaultValue,!0):Yn(a,!!l.multiple,l.multiple?[]:"",!1))}a[Qs]=l}catch(S){Ce(e,e.return,S)}}break;case 6:if(vt(t,e),It(e),r&4){if(e.stateNode===null)throw Error(Q(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(S){Ce(e,e.return,S)}}break;case 3:if(vt(t,e),It(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Bs(t.containerInfo)}catch(S){Ce(e,e.return,S)}break;case 4:vt(t,e),It(e);break;case 13:vt(t,e),It(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Ji=Ee())),r&4&&fc(e);break;case 22:if(x=s!==null&&s.memoizedState!==null,e.mode&1?(Be=(d=Be)||x,vt(t,e),Be=d):vt(t,e),It(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!x&&e.mode&1)for(te=e,x=e.child;x!==null;){for(p=te=x;te!==null;){switch(j=te,$=j.child,j.tag){case 0:case 11:case 14:case 15:Rs(4,j,j.return);break;case 1:Gn(j,j.return);var N=j.stateNode;if(typeof N.componentWillUnmount=="function"){r=j,s=j.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(S){Ce(r,s,S)}}break;case 5:Gn(j,j.return);break;case 22:if(j.memoizedState!==null){gc(p);continue}}$!==null?($.return=j,te=$):gc(p)}x=x.sibling}e:for(x=null,p=e;;){if(p.tag===5){if(x===null){x=p;try{a=p.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=p.stateNode,c=p.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=sd("display",i))}catch(S){Ce(e,e.return,S)}}}else if(p.tag===6){if(x===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(S){Ce(e,e.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;x===p&&(x=null),p=p.return}x===p&&(x=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vt(t,e),It(e),r&4&&fc(e);break;case 21:break;default:vt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if($u(s)){var r=s;break e}s=s.return}throw Error(Q(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Os(a,""),r.flags&=-33);var l=hc(e);ai(e,l,a);break;case 3:case 4:var i=r.stateNode.containerInfo,o=hc(e);ri(e,o,i);break;default:throw Error(Q(161))}}catch(c){Ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hh(e,t,s){te=e,Mu(e)}function Mu(e,t,s){for(var r=(e.mode&1)!==0;te!==null;){var a=te,l=a.child;if(a.tag===22&&r){var i=a.memoizedState!==null||kr;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Be;o=kr;var d=Be;if(kr=i,(Be=c)&&!d)for(te=a;te!==null;)i=te,c=i.child,i.tag===22&&i.memoizedState!==null?yc(a):c!==null?(c.return=i,te=c):yc(a);for(;l!==null;)te=l,Mu(l),l=l.sibling;te=a,kr=o,Be=d}xc(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,te=l):xc(e)}}function xc(e){for(;te!==null;){var t=te;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||wa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Be)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:jt(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&ec(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}ec(t,i,s)}break;case 5:var o=t.stateNode;if(s===null&&t.flags&4){s=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var x=d.memoizedState;if(x!==null){var p=x.dehydrated;p!==null&&Bs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Be||t.flags&512&&si(t)}catch(j){Ce(t,t.return,j)}}if(t===e){te=null;break}if(s=t.sibling,s!==null){s.return=t.return,te=s;break}te=t.return}}function gc(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var s=t.sibling;if(s!==null){s.return=t.return,te=s;break}te=t.return}}function yc(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{wa(4,t)}catch(c){Ce(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){Ce(t,a,c)}}var l=t.return;try{si(t)}catch(c){Ce(t,l,c)}break;case 5:var i=t.return;try{si(t)}catch(c){Ce(t,i,c)}}}catch(c){Ce(t,t.return,c)}if(t===e){te=null;break}var o=t.sibling;if(o!==null){o.return=t.return,te=o;break}te=t.return}}var fh=Math.ceil,aa=Vt.ReactCurrentDispatcher,Yi=Vt.ReactCurrentOwner,ft=Vt.ReactCurrentBatchConfig,ue=0,Te=null,$e=null,Ae=0,rt=0,Kn=fn(0),Le=0,Zs=null,$n=0,Na=0,Xi=0,zs=null,Je=null,Ji=0,os=1/0,zt=null,la=!1,li=null,on=null,Sr=!1,en=null,ia=0,Ds=0,ii=null,Dr=-1,Ar=0;function Ke(){return ue&6?Ee():Dr!==-1?Dr:Dr=Ee()}function cn(e){return e.mode&1?ue&2&&Ae!==0?Ae&-Ae:Jp.transition!==null?(Ar===0&&(Ar=xd()),Ar):(e=he,e!==0||(e=window.event,e=e===void 0?16:Nd(e.type)),e):1}function St(e,t,s,r){if(50<Ds)throw Ds=0,ii=null,Error(Q(185));tr(e,s,r),(!(ue&2)||e!==Te)&&(e===Te&&(!(ue&2)&&(Na|=s),Le===4&&Jt(e,Ae)),nt(e,r),s===1&&ue===0&&!(t.mode&1)&&(os=Ee()+500,va&&xn()))}function nt(e,t){var s=e.callbackNode;Jm(e,t);var r=Wr(e,e===Te?Ae:0);if(r===0)s!==null&&Eo(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&Eo(s),t===1)e.tag===0?Xp(vc.bind(null,e)):Bd(vc.bind(null,e)),Qp(function(){!(ue&6)&&xn()}),s=null;else{switch(gd(r)){case 1:s=ki;break;case 4:s=hd;break;case 16:s=qr;break;case 536870912:s=fd;break;default:s=qr}s=Uu(s,Tu.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Tu(e,t){if(Dr=-1,Ar=0,ue&6)throw Error(Q(327));var s=e.callbackNode;if(ts()&&e.callbackNode!==s)return null;var r=Wr(e,e===Te?Ae:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=oa(e,r);else{t=r;var a=ue;ue|=2;var l=zu();(Te!==e||Ae!==t)&&(zt=null,os=Ee()+500,kn(e,t));do try{yh();break}catch(o){Ru(e,o)}while(!0);Ai(),aa.current=l,ue=a,$e!==null?t=0:(Te=null,Ae=0,t=Le)}if(t!==0){if(t===2&&(a=Rl(e),a!==0&&(r=a,t=oi(e,a))),t===1)throw s=Zs,kn(e,0),Jt(e,r),nt(e,Ee()),s;if(t===6)Jt(e,r);else{if(a=e.current.alternate,!(r&30)&&!xh(a)&&(t=oa(e,r),t===2&&(l=Rl(e),l!==0&&(r=l,t=oi(e,l))),t===1))throw s=Zs,kn(e,0),Jt(e,r),nt(e,Ee()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:jn(e,Je,zt);break;case 3:if(Jt(e,r),(r&130023424)===r&&(t=Ji+500-Ee(),10<t)){if(Wr(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ke(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Bl(jn.bind(null,e,Je,zt),t);break}jn(e,Je,zt);break;case 4:if(Jt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-kt(r);l=1<<i,i=t[i],i>a&&(a=i),r&=~l}if(r=a,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fh(r/1960))-r,10<r){e.timeoutHandle=Bl(jn.bind(null,e,Je,zt),r);break}jn(e,Je,zt);break;case 5:jn(e,Je,zt);break;default:throw Error(Q(329))}}}return nt(e,Ee()),e.callbackNode===s?Tu.bind(null,e):null}function oi(e,t){var s=zs;return e.current.memoizedState.isDehydrated&&(kn(e,t).flags|=256),e=oa(e,t),e!==2&&(t=Je,Je=s,t!==null&&ci(t)),e}function ci(e){Je===null?Je=e:Je.push.apply(Je,e)}function xh(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],l=a.getSnapshot;a=a.value;try{if(!Ct(l(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jt(e,t){for(t&=~Xi,t&=~Na,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-kt(t),r=1<<s;e[s]=-1,t&=~r}}function vc(e){if(ue&6)throw Error(Q(327));ts();var t=Wr(e,0);if(!(t&1))return nt(e,Ee()),null;var s=oa(e,t);if(e.tag!==0&&s===2){var r=Rl(e);r!==0&&(t=r,s=oi(e,r))}if(s===1)throw s=Zs,kn(e,0),Jt(e,t),nt(e,Ee()),s;if(s===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,Je,zt),nt(e,Ee()),null}function Zi(e,t){var s=ue;ue|=1;try{return e(t)}finally{ue=s,ue===0&&(os=Ee()+500,va&&xn())}}function Pn(e){en!==null&&en.tag===0&&!(ue&6)&&ts();var t=ue;ue|=1;var s=ft.transition,r=he;try{if(ft.transition=null,he=1,e)return e()}finally{he=r,ft.transition=s,ue=t,!(ue&6)&&xn()}}function eo(){rt=Kn.current,ye(Kn)}function kn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Hp(s)),$e!==null)for(s=$e.return;s!==null;){var r=s;switch(Ri(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kr();break;case 3:ls(),ye(et),ye(qe),qi();break;case 5:Bi(r);break;case 4:ls();break;case 13:ye(we);break;case 19:ye(we);break;case 10:Oi(r.type._context);break;case 22:case 23:eo()}s=s.return}if(Te=e,$e=e=dn(e.current,null),Ae=rt=t,Le=0,Zs=null,Xi=Na=$n=0,Je=zs=null,wn!==null){for(t=0;t<wn.length;t++)if(s=wn[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,l=s.pending;if(l!==null){var i=l.next;l.next=a,r.next=i}s.pending=r}wn=null}return e}function Ru(e,t){do{var s=$e;try{if(Ai(),Tr.current=ra,sa){for(var r=Ne.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}sa=!1}if(In=0,Me=Pe=Ne=null,Ts=!1,Ys=0,Yi.current=null,s===null||s.return===null){Le=1,Zs=t,$e=null;break}e:{var l=e,i=s.return,o=s,c=t;if(t=Ae,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,x=o,p=x.tag;if(!(x.mode&1)&&(p===0||p===11||p===15)){var j=x.alternate;j?(x.updateQueue=j.updateQueue,x.memoizedState=j.memoizedState,x.lanes=j.lanes):(x.updateQueue=null,x.memoizedState=null)}var $=lc(i);if($!==null){$.flags&=-257,ic($,i,o,l,t),$.mode&1&&ac(l,d,t),t=$,c=d;var N=t.updateQueue;if(N===null){var S=new Set;S.add(c),t.updateQueue=S}else N.add(c);break e}else{if(!(t&1)){ac(l,d,t),to();break e}c=Error(Q(426))}}else if(je&&o.mode&1){var P=lc(i);if(P!==null){!(P.flags&65536)&&(P.flags|=256),ic(P,i,o,l,t),zi(is(c,o));break e}}l=c=is(c,o),Le!==4&&(Le=2),zs===null?zs=[l]:zs.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var m=gu(l,c,t);Zo(l,m);break e;case 1:o=c;var u=l.type,f=l.stateNode;if(!(l.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(on===null||!on.has(f)))){l.flags|=65536,t&=-t,l.lanes|=t;var E=yu(l,o,t);Zo(l,E);break e}}l=l.return}while(l!==null)}Au(s)}catch(v){t=v,$e===s&&s!==null&&($e=s=s.return);continue}break}while(!0)}function zu(){var e=aa.current;return aa.current=ra,e===null?ra:e}function to(){(Le===0||Le===3||Le===2)&&(Le=4),Te===null||!($n&268435455)&&!(Na&268435455)||Jt(Te,Ae)}function oa(e,t){var s=ue;ue|=2;var r=zu();(Te!==e||Ae!==t)&&(zt=null,kn(e,t));do try{gh();break}catch(a){Ru(e,a)}while(!0);if(Ai(),ue=s,aa.current=r,$e!==null)throw Error(Q(261));return Te=null,Ae=0,Le}function gh(){for(;$e!==null;)Du($e)}function yh(){for(;$e!==null&&!qm();)Du($e)}function Du(e){var t=_u(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?Au(e):$e=t,Yi.current=null}function Au(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=uh(s,t),s!==null){s.flags&=32767,$e=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,$e=null;return}}else if(s=dh(s,t,rt),s!==null){$e=s;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Le===0&&(Le=5)}function jn(e,t,s){var r=he,a=ft.transition;try{ft.transition=null,he=1,vh(e,t,s,r)}finally{ft.transition=a,he=r}return null}function vh(e,t,s,r){do ts();while(en!==null);if(ue&6)throw Error(Q(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var l=s.lanes|s.childLanes;if(Zm(e,l),e===Te&&($e=Te=null,Ae=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Sr||(Sr=!0,Uu(qr,function(){return ts(),null})),l=(s.flags&15990)!==0,s.subtreeFlags&15990||l){l=ft.transition,ft.transition=null;var i=he;he=1;var o=ue;ue|=4,Yi.current=null,ph(e,s),Lu(s,e),_p(Ul),Vr=!!_l,Ul=_l=null,e.current=s,hh(s),Wm(),ue=o,he=i,ft.transition=l}else e.current=s;if(Sr&&(Sr=!1,en=e,ia=a),l=e.pendingLanes,l===0&&(on=null),Qm(s.stateNode),nt(e,Ee()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(la)throw la=!1,e=li,li=null,e;return ia&1&&e.tag!==0&&ts(),l=e.pendingLanes,l&1?e===ii?Ds++:(Ds=0,ii=e):Ds=0,xn(),null}function ts(){if(en!==null){var e=gd(ia),t=ft.transition,s=he;try{if(ft.transition=null,he=16>e?16:e,en===null)var r=!1;else{if(e=en,en=null,ia=0,ue&6)throw Error(Q(331));var a=ue;for(ue|=4,te=e.current;te!==null;){var l=te,i=l.child;if(te.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(te=d;te!==null;){var x=te;switch(x.tag){case 0:case 11:case 15:Rs(8,x,l)}var p=x.child;if(p!==null)p.return=x,te=p;else for(;te!==null;){x=te;var j=x.sibling,$=x.return;if(Iu(x),x===d){te=null;break}if(j!==null){j.return=$,te=j;break}te=$}}}var N=l.alternate;if(N!==null){var S=N.child;if(S!==null){N.child=null;do{var P=S.sibling;S.sibling=null,S=P}while(S!==null)}}te=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,te=i;else e:for(;te!==null;){if(l=te,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Rs(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,te=m;break e}te=l.return}}var u=e.current;for(te=u;te!==null;){i=te;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,te=f;else e:for(i=u;te!==null;){if(o=te,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:wa(9,o)}}catch(v){Ce(o,o.return,v)}if(o===i){te=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,te=E;break e}te=o.return}}if(ue=a,xn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(ha,e)}catch{}r=!0}return r}finally{he=s,ft.transition=t}}return!1}function jc(e,t,s){t=is(s,t),t=gu(e,t,1),e=ln(e,t,1),t=Ke(),e!==null&&(tr(e,1,t),nt(e,t))}function Ce(e,t,s){if(e.tag===3)jc(e,e,s);else for(;t!==null;){if(t.tag===3){jc(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){e=is(s,e),e=yu(t,e,1),t=ln(t,e,1),e=Ke(),t!==null&&(tr(t,1,e),nt(t,e));break}}t=t.return}}function jh(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&s,Te===e&&(Ae&s)===s&&(Le===4||Le===3&&(Ae&130023424)===Ae&&500>Ee()-Ji?kn(e,0):Xi|=s),nt(e,t)}function Ou(e,t){t===0&&(e.mode&1?(t=fr,fr<<=1,!(fr&130023424)&&(fr=4194304)):t=1);var s=Ke();e=qt(e,t),e!==null&&(tr(e,t,s),nt(e,s))}function bh(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Ou(e,s)}function wh(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),Ou(e,s)}var _u;_u=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Ze=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return Ze=!1,ch(e,t,s);Ze=!!(e.flags&131072)}else Ze=!1,je&&t.flags&1048576&&qd(t,Jr,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zr(e,t),e=t.pendingProps;var a=ss(t,qe.current);es(t,s),a=Vi(null,t,r,e,a,s);var l=Hi();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(l=!0,Yr(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ui(t),a.updater=ba,t.stateNode=a,a._reactInternals=t,Kl(t,r,e,s),t=Jl(null,t,r,!0,l,s)):(t.tag=0,je&&l&&Ti(t),Ge(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch(zr(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=kh(r),e=jt(r,e),a){case 0:t=Xl(null,t,r,e,s);break e;case 1:t=dc(null,t,r,e,s);break e;case 11:t=oc(null,t,r,e,s);break e;case 14:t=cc(null,t,r,jt(r.type,e),s);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:jt(r,a),Xl(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:jt(r,a),dc(e,t,r,a,s);case 3:e:{if(wu(t),e===null)throw Error(Q(387));r=t.pendingProps,l=t.memoizedState,a=l.element,Kd(e,t),ta(t,r,null,s);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=is(Error(Q(423)),t),t=uc(e,t,r,s,a);break e}else if(r!==a){a=is(Error(Q(424)),t),t=uc(e,t,r,s,a);break e}else for(at=an(t.stateNode.containerInfo.firstChild),lt=t,je=!0,wt=null,s=Qd(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(rs(),r===a){t=Wt(e,t,s);break e}Ge(e,t,r,s)}t=t.child}return t;case 5:return Yd(t),e===null&&Hl(t),r=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Fl(r,a)?i=null:l!==null&&Fl(r,l)&&(t.flags|=32),bu(e,t),Ge(e,t,i,s),t.child;case 6:return e===null&&Hl(t),null;case 13:return Nu(e,t,s);case 4:return Fi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=as(t,null,r,s):Ge(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:jt(r,a),oc(e,t,r,a,s);case 7:return Ge(e,t,t.pendingProps,s),t.child;case 8:return Ge(e,t,t.pendingProps.children,s),t.child;case 12:return Ge(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,xe(Zr,r._currentValue),r._currentValue=i,l!==null)if(Ct(l.value,i)){if(l.children===a.children&&!et.current){t=Wt(e,t,s);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=Ut(-1,s&-s),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var x=d.pending;x===null?c.next=c:(c.next=x.next,x.next=c),d.pending=c}}l.lanes|=s,c=l.alternate,c!==null&&(c.lanes|=s),Ql(l.return,s,t),o.lanes|=s;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(Q(341));i.lanes|=s,o=i.alternate,o!==null&&(o.lanes|=s),Ql(i,s,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Ge(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,es(t,s),a=xt(a),r=r(a),t.flags|=1,Ge(e,t,r,s),t.child;case 14:return r=t.type,a=jt(r,t.pendingProps),a=jt(r.type,a),cc(e,t,r,a,s);case 15:return vu(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:jt(r,a),zr(e,t),t.tag=1,tt(r)?(e=!0,Yr(t)):e=!1,es(t,s),xu(t,r,a),Kl(t,r,a,s),Jl(null,t,r,!0,e,s);case 19:return ku(e,t,s);case 22:return ju(e,t,s)}throw Error(Q(156,t.tag))};function Uu(e,t){return pd(e,t)}function Nh(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,s,r){return new Nh(e,t,s,r)}function no(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kh(e){if(typeof e=="function")return no(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bi)return 11;if(e===wi)return 14}return 2}function dn(e,t){var s=e.alternate;return s===null?(s=ht(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Or(e,t,s,r,a,l){var i=2;if(r=e,typeof e=="function")no(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case _n:return Sn(s.children,a,l,t);case ji:i=8,a|=8;break;case vl:return e=ht(12,s,t,a|2),e.elementType=vl,e.lanes=l,e;case jl:return e=ht(13,s,t,a),e.elementType=jl,e.lanes=l,e;case bl:return e=ht(19,s,t,a),e.elementType=bl,e.lanes=l,e;case Yc:return ka(s,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gc:i=10;break e;case Kc:i=9;break e;case bi:i=11;break e;case wi:i=14;break e;case Kt:i=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=ht(i,s,t,a),t.elementType=e,t.type=r,t.lanes=l,t}function Sn(e,t,s,r){return e=ht(7,e,r,t),e.lanes=s,e}function ka(e,t,s,r){return e=ht(22,e,r,t),e.elementType=Yc,e.lanes=s,e.stateNode={isHidden:!1},e}function ul(e,t,s){return e=ht(6,e,null,t),e.lanes=s,e}function ml(e,t,s){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Sh(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function so(e,t,s,r,a,l,i,o,c){return e=new Sh(e,t,s,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=ht(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ui(l),e}function Ch(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function Fu(e){if(!e)return mn;e=e._reactInternals;e:{if(Tn(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var s=e.type;if(tt(s))return Fd(e,s,t)}return t}function Bu(e,t,s,r,a,l,i,o,c){return e=so(s,r,!0,e,a,l,i,o,c),e.context=Fu(null),s=e.current,r=Ke(),a=cn(s),l=Ut(r,a),l.callback=t??null,ln(s,l,a),e.current.lanes=a,tr(e,a,r),nt(e,r),e}function Sa(e,t,s,r){var a=t.current,l=Ke(),i=cn(a);return s=Fu(s),t.context===null?t.context=s:t.pendingContext=s,t=Ut(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ln(a,t,i),e!==null&&(St(e,a,i,l),Mr(e,a,i)),i}function ca(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function ro(e,t){bc(e,t),(e=e.alternate)&&bc(e,t)}function Eh(){return null}var qu=typeof reportError=="function"?reportError:function(e){console.error(e)};function ao(e){this._internalRoot=e}Ca.prototype.render=ao.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));Sa(e,t,null,null)};Ca.prototype.unmount=ao.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pn(function(){Sa(null,e,null,null)}),t[Bt]=null}};function Ca(e){this._internalRoot=e}Ca.prototype.unstable_scheduleHydration=function(e){if(e){var t=jd();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Xt.length&&t!==0&&t<Xt[s].priority;s++);Xt.splice(s,0,e),s===0&&wd(e)}};function lo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wc(){}function Ih(e,t,s,r,a){if(a){if(typeof r=="function"){var l=r;r=function(){var d=ca(i);l.call(d)}}var i=Bu(t,r,e,0,null,!1,!1,"",wc);return e._reactRootContainer=i,e[Bt]=i.current,Vs(e.nodeType===8?e.parentNode:e),Pn(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var d=ca(c);o.call(d)}}var c=so(e,0,!1,null,null,!1,!1,"",wc);return e._reactRootContainer=c,e[Bt]=c.current,Vs(e.nodeType===8?e.parentNode:e),Pn(function(){Sa(t,c,s,r)}),c}function Ia(e,t,s,r,a){var l=s._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=ca(i);o.call(c)}}Sa(t,i,e,a)}else i=Ih(s,t,e,a,r);return ca(i)}yd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=Cs(t.pendingLanes);s!==0&&(Si(t,s|1),nt(t,Ee()),!(ue&6)&&(os=Ee()+500,xn()))}break;case 13:Pn(function(){var r=qt(e,1);if(r!==null){var a=Ke();St(r,e,1,a)}}),ro(e,1)}};Ci=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var s=Ke();St(t,e,134217728,s)}ro(e,134217728)}};vd=function(e){if(e.tag===13){var t=cn(e),s=qt(e,t);if(s!==null){var r=Ke();St(s,e,t,r)}ro(e,t)}};jd=function(){return he};bd=function(e,t){var s=he;try{return he=e,t()}finally{he=s}};Ll=function(e,t,s){switch(t){case"input":if(kl(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=ya(r);if(!a)throw Error(Q(90));Jc(r),kl(r,a)}}}break;case"textarea":ed(e,s);break;case"select":t=s.value,t!=null&&Yn(e,!!s.multiple,t,!1)}};id=Zi;od=Pn;var $h={usingClientEntryPoint:!1,Events:[sr,qn,ya,ad,ld,Zi]},ws={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ph={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ud(e),e===null?null:e.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||Eh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cr.isDisabled&&Cr.supportsFiber)try{ha=Cr.inject(Ph),Mt=Cr}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$h;ct.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lo(t))throw Error(Q(200));return Ch(e,t,null,s)};ct.createRoot=function(e,t){if(!lo(e))throw Error(Q(299));var s=!1,r="",a=qu;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=so(e,1,!1,null,null,s,!1,r,a),e[Bt]=t.current,Vs(e.nodeType===8?e.parentNode:e),new ao(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=ud(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return Pn(e)};ct.hydrate=function(e,t,s){if(!Ea(t))throw Error(Q(200));return Ia(null,e,t,!0,s)};ct.hydrateRoot=function(e,t,s){if(!lo(e))throw Error(Q(405));var r=s!=null&&s.hydratedSources||null,a=!1,l="",i=qu;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),t=Bu(t,null,e,1,s??null,a,!1,l,i),e[Bt]=t.current,Vs(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Ca(t)};ct.render=function(e,t,s){if(!Ea(t))throw Error(Q(200));return Ia(null,e,t,!1,s)};ct.unmountComponentAtNode=function(e){if(!Ea(e))throw Error(Q(40));return e._reactRootContainer?(Pn(function(){Ia(null,null,e,!1,function(){e._reactRootContainer=null,e[Bt]=null})}),!0):!1};ct.unstable_batchedUpdates=Zi;ct.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Ea(s))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Ia(e,t,s,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function Wu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wu)}catch(e){console.error(e)}}Wu(),Wc.exports=ct;var Lh=Wc.exports,Vu,Nc=Lh;Vu=Nc.createRoot,Nc.hydrateRoot;function ve(){var t,s,r;const e=(s=(t=import.meta)==null?void 0:t.env)==null?void 0:s.VITE_API_URL;if(e&&e.length>0)return e;if(typeof window<"u"&&((r=window.location)!=null&&r.origin)){const a=window.location.origin;return a.includes(":5173")?a.replace(":5173",":4000"):`${a}/api`}return"http://localhost:4000"}function _r(){var t,s,r;const e=(s=(t=import.meta)==null?void 0:t.env)==null?void 0:s.VITE_PUBLIC_APP_URL;return e&&e.length>0?e:typeof window<"u"&&((r=window.location)!=null&&r.origin)?window.location.origin:"http://localhost:5173"}async function Mh(){try{const e=ve(),t=await fetch(`${e}/public/app-base`);if(t.ok){const s=await t.json();if(s!=null&&s.appBaseUrl)return s.appBaseUrl}}catch{}return _r()}const Hu=h.createContext(void 0),Th=({children:e})=>{const[t,s]=h.useState(null),[r,a]=h.useState(!0);h.useEffect(()=>{(async()=>{const c=localStorage.getItem("token");if(!c){a(!1);return}try{const d=ve(),x=await fetch(`${d}/auth/me`,{headers:{Authorization:`Bearer ${c}`}});if(x.ok){const p=await x.json();s(p)}else localStorage.removeItem("token")}catch(d){console.error("Erro ao verificar autenticao:",d),localStorage.removeItem("token")}finally{a(!1)}})()},[]);const l=async(o,c)=>{a(!0);try{const d=ve(),x=await fetch(`${d}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:c})});if(x.ok){const p=await x.json(),{token:j,...$}=p;return s($),localStorage.setItem("token",j),a(!1),!0}try{const p=await x.json();console.warn("Login falhou:",p)}catch{}return a(!1),!1}catch(d){console.error("Erro no login:",d)}return a(!1),!1},i=()=>{s(null),localStorage.removeItem("token")};return n.jsx(Hu.Provider,{value:{user:t,login:l,logout:i,isLoading:r},children:e})},Re=()=>{const e=h.useContext(Hu);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Qu=h.createContext(void 0),Rh=({children:e})=>{const[t,s]=h.useState([]),r=h.useCallback(i=>{s(o=>o.filter(c=>c.id!==i))},[]),a=h.useCallback(i=>{const o=`${Date.now()}-${Math.random().toString(36).slice(2)}`,c={id:o,durationMs:4e3,...i};s(d=>[...d,c]),window.setTimeout(()=>r(o),c.durationMs)},[r]),l=h.useMemo(()=>({addToast:a,removeToast:r,toasts:t}),[a,r,t]);return n.jsx(Qu.Provider,{value:l,children:e})},Rn=()=>{const e=h.useContext(Qu);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},zh=()=>{const{toasts:e,removeToast:t}=Rn();return n.jsxs("div",{className:"fixed top-4 right-4 z-[1000] space-y-2",children:[e.map(s=>n.jsx("div",{className:`transform transition-all duration-300 ease-out animate-slide-in shadow-lg rounded-lg px-4 py-3 text-white cursor-pointer ${s.type==="success"?"bg-green-600":s.type==="error"?"bg-red-600":"bg-blue-600"}`,onClick:()=>t(s.id),children:s.message},s.id)),n.jsx("style",{children:`
        @keyframes slide-in { from { opacity: 0; transform: translateY(-10px); } to { opacity:1; transform: translateY(0);} }
        .animate-slide-in { animation: slide-in 200ms ease-out; }
      `})]})},ze=[];for(let e=0;e<256;++e)ze.push((e+256).toString(16).slice(1));function Dh(e,t=0){return(ze[e[t+0]]+ze[e[t+1]]+ze[e[t+2]]+ze[e[t+3]]+"-"+ze[e[t+4]]+ze[e[t+5]]+"-"+ze[e[t+6]]+ze[e[t+7]]+"-"+ze[e[t+8]]+ze[e[t+9]]+"-"+ze[e[t+10]]+ze[e[t+11]]+ze[e[t+12]]+ze[e[t+13]]+ze[e[t+14]]+ze[e[t+15]]).toLowerCase()}let pl;const Ah=new Uint8Array(16);function Oh(){if(!pl){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");pl=crypto.getRandomValues.bind(crypto)}return pl(Ah)}const _h=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kc={randomUUID:_h};function Rt(e,t,s){var a;if(kc.randomUUID&&!t&&!e)return kc.randomUUID();e=e||{};const r=e.random??((a=e.rng)==null?void 0:a.call(e))??Oh();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Dh(r)}const Gu=h.createContext(void 0),Sc=({children:e})=>{const{user:t,logout:s}=Re(),{addToast:r}=Rn(),[a,l]=h.useState([]),[i,o]=h.useState([]),[c,d]=h.useState([]),[x,p]=h.useState([]),[j,$]=h.useState([]),[N,S]=h.useState([]),[P,m]=h.useState([]),[u,f]=h.useState(0),[E,v]=h.useState(!1),[y,b]=h.useState(!0),[R,G]=h.useState(null),g=h.useRef(null),M=h.useRef(!1),q=()=>ve(),z=h.useCallback(async()=>{const A=q(),B=localStorage.getItem("token");if(!A||!B)return;v(!0);const F={Authorization:`Bearer ${B}`};try{const U=(t==null?void 0:t.role)==="admin"&&R?`?clientId=${encodeURIComponent(R)}`:"",[V,X,pe,Se,We,Ve,He]=await Promise.all([fetch(`${A}/clients`,{headers:F}),fetch(`${A}/sectors${U}`,{headers:F}),fetch(`${A}/beds${U}`,{headers:F}),fetch(`${A}/items${U}`,{headers:F}),fetch(`${A}/orders${U}`,{headers:F}),fetch(`${A}/stock-movements${U}`,{headers:F}),fetch(`${A}/users`,{headers:F})]);if([V,X,pe,Se,We,Ve,He].some(or=>or.status===401)){s();return}const Da=await Promise.all([V.ok?V.json():[],X.ok?X.json():[],pe.ok?pe.json():[],Se.ok?Se.json():[],We.ok?We.json():[],Ve.ok?Ve.json():[],He.ok?He.json():[]]),[Aa,ar,Oa,lr,Dn,_a,ir]=Da;S(Aa),l(ar),o(Oa),d(lr),p(Dn),$(_a),m(ir),f(Date.now())}catch(U){console.error("Erro ao carregar dados:",U),r({type:"error",message:"Erro ao carregar dados. Tente novamente."})}finally{v(!1),b(!1)}},[t==null?void 0:t.id,t==null?void 0:t.role,R,r]),T=h.useCallback(async()=>{await z()},[z]),D=A=>{try{new BroadcastChannel("ecolav-app").postMessage({type:A})}catch{}};h.useEffect(()=>{(t==null?void 0:t.role)==="admin"&&t.clientId&&!M.current&&(G(t.clientId),M.current=!0)},[t]),h.useEffect(()=>{t&&z()},[t,z]),h.useEffect(()=>{t||(l([]),o([]),d([]),p([]),$([]),S([]),m([]))},[t]),h.useEffect(()=>{if(!t)return;const A=setInterval(()=>{Date.now()-u>30*1e3&&z()},10*1e3);return()=>clearInterval(A)},[t,u,z]),h.useEffect(()=>{if(typeof window>"u")return;try{g.current=new BroadcastChannel("ecolav-app"),g.current.onmessage=async B=>{var U;const F=(U=B==null?void 0:B.data)==null?void 0:U.type;F&&(F==="orders-changed"||F==="beds-changed"||F==="sectors-changed"||F==="items-changed")&&await T()}}catch{}const A=async()=>{await T()};return window.addEventListener("focus",A),()=>{var B;try{(B=g.current)==null||B.close()}catch{}window.removeEventListener("focus",A)}},[T]),h.useEffect(()=>{if(!t||!localStorage.getItem("token"))return;const B=setInterval(()=>{T()},1e3);return()=>clearInterval(B)},[t,T]);const O=i.map(A=>({...A,sector:a.find(B=>B.id===A.sectorId)})),k=h.useMemo(()=>{const A=new Map;for(const B of x)A.set(B.id,B);return Array.from(A.values())},[x]).map(A=>({...A,bed:O.find(B=>B.id===A.bedId),items:(A.items||[]).map(B=>({...B,item:c.find(F=>F.id===B.itemId)}))})),_=A=>{const B=q();if(!B){const F={...A,id:Rt(),createdAt:new Date().toISOString()};l(U=>[...U,F]);return}(async()=>{const F=localStorage.getItem("token"),U=await fetch(`${B}/sectors`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:F?`Bearer ${F}`:""},body:JSON.stringify(A)});if(U.ok){const V=await U.json();l(X=>[...X,V]),await T(),D("sectors-changed"),r({type:"success",message:"Setor criado com sucesso"})}})()},w=(A,B)=>{const F=q();if(!F){l(U=>U.map(V=>V.id===A?{...V,...B}:V));return}(async()=>{const U=localStorage.getItem("token"),V=await fetch(`${F}/sectors/${A}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:U?`Bearer ${U}`:""},body:JSON.stringify(B)});if(V.ok){const X=await V.json();l(pe=>pe.map(Se=>Se.id===A?X:Se)),await T(),D("sectors-changed"),r({type:"success",message:"Setor atualizado com sucesso"})}})()},C=A=>{const B=q();if(!B){l(F=>F.filter(U=>U.id!==A)),o(F=>F.filter(U=>U.sectorId!==A));return}(async()=>{const F=localStorage.getItem("token");(await fetch(`${B}/sectors/${A}`,{method:"DELETE",headers:{Authorization:F?`Bearer ${F}`:""}})).ok&&(l(V=>V.filter(X=>X.id!==A)),o(V=>V.filter(X=>X.sectorId!==A)))})()},W=A=>{const B=q();if(!B){const F={...A,id:Rt(),token:Rt()};o(U=>[...U,F]);return}(async()=>{const F=localStorage.getItem("token"),U=await fetch(`${B}/beds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:F?`Bearer ${F}`:""},body:JSON.stringify(A)});if(U.ok){const V=await U.json();o(X=>[...X,V]),await T(),D("beds-changed"),r({type:"success",message:"Leito criado com sucesso"})}})()},ee=(A,B)=>{const F=q();if(!F){o(U=>U.map(V=>V.id===A?{...V,...B}:V)),D("beds-changed");return}(async()=>{const U=localStorage.getItem("token"),V=Object.prototype.hasOwnProperty.call(B,"status")?`${F}/beds/${A}/status`:`${F}/beds/${A}`,X=await fetch(V,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:U?`Bearer ${U}`:""},body:JSON.stringify(B)});if(X.ok){const pe=await X.json();o(Se=>Se.map(We=>We.id===A?pe:We)),await T(),D("beds-changed")}})()},ne=A=>{const B=q();if(!B){o(F=>F.filter(U=>U.id!==A));return}(async()=>{const F=localStorage.getItem("token");(await fetch(`${B}/beds/${A}`,{method:"DELETE",headers:{Authorization:F?`Bearer ${F}`:""}})).ok&&o(V=>V.filter(X=>X.id!==A))})()},ie=async A=>{const B=i.find(pe=>pe.sectorId===A&&pe.number==="Sem leito (Setor)");if(B)return B;const F=q();if(!F){const pe={id:Rt(),number:"Sem leito (Setor)",sectorId:A,status:"free",token:Rt()};return o(Se=>[...Se,pe]),pe}const U=localStorage.getItem("token"),V=await fetch(`${F}/beds`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:U?`Bearer ${U}`:""},body:JSON.stringify({number:"Sem leito (Setor)",sectorId:A,status:"free"})});if(!V.ok)return null;const X=await V.json();return await T(),D("beds-changed"),X},I=A=>{const B=q();if(!B){const F={...A,id:Rt(),createdAt:new Date().toISOString()};d(U=>[...U,F]);return}(async()=>{const F=localStorage.getItem("token"),U={...A,clientId:(t==null?void 0:t.role)==="admin"&&R?R:A.clientId},V=await fetch(`${B}/items`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:F?`Bearer ${F}`:""},body:JSON.stringify(U)});if(V.ok){const X=await V.json();d(pe=>[...pe,X]),await T(),D("items-changed"),r({type:"success",message:"Item criado com sucesso"})}})()},H=(A,B)=>{const F=q();if(!F){d(U=>U.map(V=>V.id===A?{...V,...B}:V));return}(async()=>{const U=localStorage.getItem("token"),V=await fetch(`${F}/items/${A}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:U?`Bearer ${U}`:""},body:JSON.stringify(B)});if(V.ok){const X=await V.json();d(pe=>pe.map(Se=>Se.id===A?X:Se)),await T(),D("items-changed"),r({type:"success",message:"Item atualizado com sucesso"})}})()},K=A=>{const B=q();if(!B){d(F=>F.filter(U=>U.id!==A));return}(async()=>{const F=localStorage.getItem("token");(await fetch(`${B}/items/${A}`,{method:"DELETE",headers:{Authorization:F?`Bearer ${F}`:""}})).ok&&d(V=>V.filter(X=>X.id!==A))})()},Z=A=>{const B=q();if(!B){const F={...A,id:Rt(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};p(U=>[...U,F]),A.items.forEach(U=>{const V=c.find(X=>X.id===U.itemId);V&&H(V.id,{currentStock:Math.max(0,V.currentStock-U.quantity)})});return}(async()=>{const F=localStorage.getItem("token"),U=await fetch(`${B}/orders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:F?`Bearer ${F}`:""},body:JSON.stringify({bedId:A.bedId,items:A.items,observations:A.observations,scheduledDelivery:A.scheduledDelivery})});if(U.ok){const V=await U.json();p(X=>[...X,V]),await T(),D("orders-changed"),r({type:"success",message:"Pedido criado com sucesso"})}})()},ae=A=>{const B=q();if(!B){p(F=>F.filter(U=>U.id!==A));return}(async()=>{const F=localStorage.getItem("token");(await fetch(`${B}/orders/${A}`,{method:"DELETE",headers:{Authorization:F?`Bearer ${F}`:""}})).ok&&(await T(),D("orders-changed"),r({type:"success",message:"Pedido excludo com sucesso"}))})()},se=(A,B)=>{const F=q();if(!F){p(U=>U.map(V=>V.id===A?{...V,status:B,updatedAt:new Date().toISOString()}:V));return}(async()=>{const U=localStorage.getItem("token"),V=await fetch(`${F}/orders/${A}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:U?`Bearer ${U}`:""},body:JSON.stringify({status:B})});V.ok&&(await V.json(),await T(),D("orders-changed"),r({type:"success",message:"Status do pedido atualizado com sucesso"}))})()},me=A=>{const B=q();if(!B){const F={...A,id:Rt(),createdAt:new Date().toISOString()};$(U=>[...U,F]);return}(async()=>{const F=localStorage.getItem("token"),U=await fetch(`${B}/stock-movements`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:F?`Bearer ${F}`:""},body:JSON.stringify(A)});if(U.ok){const V=await U.json();$(X=>[...X,V]),await T(),r({type:"success",message:"Movimento de estoque registrado com sucesso"})}})()},ce=A=>O.find(B=>B.token===A),fe=async A=>{const B=new FormData;B.append("file",A.file);const F=ve(),U=localStorage.getItem("token");try{const V=await fetch(`${F}/uploads`,{method:"POST",headers:{Authorization:U?`Bearer ${U}`:""},body:B});if(!V.ok){let Ve="Falha ao enviar comprovante";try{const He=await V.json();Ve=(He==null?void 0:He.error)||Ve}catch{}r({type:"error",message:Ve});return}const pe=(await V.json()).url,Se={receiverName:A.receiverName,confirmationType:A.confirmationType,confirmationUrl:pe,deliveredByUserId:A.deliveredByUserId},We=await fetch(`${F}/orders/${A.orderId}/confirm-delivery`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:U?`Bearer ${U}`:""},body:JSON.stringify(Se)});if(!We.ok){let Ve="Falha ao confirmar entrega";try{const He=await We.json();Ve=(He==null?void 0:He.error)||Ve}catch{}r({type:"error",message:Ve});return}await We.json(),await T(),D("orders-changed"),r({type:"success",message:"Entrega confirmada com sucesso"})}catch{r({type:"error",message:"Erro de rede na confirmao"})}},Ie=A=>{const B={...A},F=U=>typeof U=="string"&&U.trim()===""?null:U;if(B.document=F(B.document),B.contactName=F(B.contactName),B.contactEmail=F(B.contactEmail),B.contactPhone=F(B.contactPhone),B.whatsappNumber!==void 0&&B.whatsappNumber!==null){const U=String(B.whatsappNumber);B.whatsappNumber=U.trim()===""?null:U.replace(/\D/g,"")}return B},st=A=>{const B=q(),F=Ie(A);if(!B){const U={...F,id:Rt(),createdAt:new Date().toISOString()};S(V=>[...V,U]);return}(async()=>{const U=localStorage.getItem("token"),V=await fetch(`${B}/clients`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:U?`Bearer ${U}`:""},body:JSON.stringify(F)});if(V.ok){const X=await V.json();S(pe=>[...pe,X])}})()},Ta=(A,B)=>{const F=q(),U=Ie(B);if(!F){S(V=>V.map(X=>X.id===A?{...X,...U}:X));return}(async()=>{const V=localStorage.getItem("token"),X=await fetch(`${F}/clients/${A}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:V?`Bearer ${V}`:""},body:JSON.stringify(U)});if(X.ok){const pe=await X.json();S(Se=>Se.map(We=>We.id===A?pe:We)),await T(),r({type:"success",message:"Cliente atualizado com sucesso"})}})()},Ra=A=>{const B=q();if(!B){S(F=>F.filter(U=>U.id!==A)),m(F=>F.map(U=>U.clientId===A?{...U,clientId:void 0}:U));return}(async()=>{const F=localStorage.getItem("token");(await fetch(`${B}/clients/${A}`,{method:"DELETE",headers:{Authorization:F?`Bearer ${F}`:""}})).ok&&(S(V=>V.filter(X=>X.id!==A)),m(V=>V.map(X=>X.clientId===A?{...X,clientId:void 0}:X)))})()},zn=A=>{const B=q();B&&(async()=>{try{const F=localStorage.getItem("token"),U=await fetch(`${B}/users`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:F?`Bearer ${F}`:""},body:JSON.stringify(A)});if(U.ok){const V=await U.json();m(X=>[...X,V]),await T(),r({type:"success",message:"Usurio criado com sucesso"})}else{let V="Falha ao criar usurio";try{const X=await U.json();V=(X==null?void 0:X.error)||V}catch{}r({type:"error",message:V})}}catch{r({type:"error",message:"Erro de rede ao criar usurio"})}})()},yn=(A,B)=>{const F=q();F&&(async()=>{try{const U=localStorage.getItem("token"),V=await fetch(`${F}/users/${A}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:U?`Bearer ${U}`:""},body:JSON.stringify(B)});if(V.ok){const X=await V.json();m(pe=>pe.map(Se=>Se.id===A?X:Se)),await T(),r({type:"success",message:"Usurio atualizado com sucesso"})}else{let X="Falha ao atualizar usurio";try{const pe=await V.json();X=(pe==null?void 0:pe.error)||X}catch{}r({type:"error",message:X})}}catch{r({type:"error",message:"Erro de rede ao atualizar usurio"})}})()},hs=A=>{const B=q();B&&(async()=>{try{const F=localStorage.getItem("token"),U=await fetch(`${B}/users/${A}`,{method:"DELETE",headers:{Authorization:F?`Bearer ${F}`:""}});if(U.ok)m(V=>V.filter(X=>X.id!==A));else{let V="Falha ao excluir usurio";try{const X=await U.json();V=(X==null?void 0:X.error)||V}catch{}r({type:"error",message:V})}}catch{r({type:"error",message:"Erro de rede ao excluir usurio"})}})()};return n.jsx(Gu.Provider,{value:{sectors:a,beds:O,linenItems:c,orders:k,stockMovements:j,clients:N,systemUsers:P,isLoading:E,isInitialLoading:y,adminClientIdFilter:R,setAdminClientIdFilter:G,addSector:_,updateSector:w,deleteSector:C,addBed:W,updateBed:ee,deleteBed:ne,getOrCreateVirtualSectorBed:ie,addLinenItem:I,updateLinenItem:H,deleteLinenItem:K,addOrder:Z,updateOrderStatus:se,deleteOrder:ae,addStockMovement:me,getBedByToken:ce,confirmOrderDelivery:fe,addClient:st,updateClient:Ta,deleteClient:Ra,addSystemUser:zn,updateSystemUser:yn,deleteSystemUser:hs},children:e})},_e=()=>{const e=h.useContext(Gu);if(e===void 0)throw new Error("useApp must be used within an AppProvider");return e},Ku=()=>{const[e,t]=h.useState({pathname:window.location.pathname,search:window.location.search,hash:window.location.hash});return h.useEffect(()=>{const s=()=>{const l={pathname:window.location.pathname,search:window.location.search,hash:window.location.hash};t(l)};window.addEventListener("popstate",s);const r=window.history.pushState,a=window.history.replaceState;return window.history.pushState=function(...l){r.apply(window.history,l),s()},window.history.replaceState=function(...l){a.apply(window.history,l),s()},()=>{window.removeEventListener("popstate",s),window.history.pushState=r,window.history.replaceState=a}},[]),e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(e,t)=>{const s=h.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...d},x)=>h.createElement("svg",{ref:x,...Uh,width:a,height:a,stroke:r,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${Fh(e)}`,o].join(" "),...d},[...t.map(([p,j])=>h.createElement(p,j)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=re("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=re("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=re("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=re("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=re("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=re("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=re("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=re("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=re("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=re("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=re("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=re("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=re("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=re("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=re("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=re("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=re("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=re("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=re("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=re("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=re("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),uo=({className:e,size:t=40})=>{const s=t,r=t+t*.25;return n.jsx("div",{className:e,style:{width:s,height:r},children:n.jsxs("svg",{viewBox:"0 0 64 80",width:s,height:r,xmlns:"http://www.w3.org/2000/svg","aria-label":"ECOLAV",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"ecoGradient",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#2563eb"}),n.jsx("stop",{offset:"100%",stopColor:"#16a34a"})]})}),n.jsxs("g",{children:[n.jsxs("ellipse",{cx:"32",cy:"72",rx:"16",ry:"6",fill:"#0f172a22",children:[n.jsx("animate",{attributeName:"rx",values:"14;20;14",dur:"1.6s",repeatCount:"indefinite"}),n.jsx("animate",{attributeName:"opacity",values:"0.2;0.45;0.2",dur:"1.6s",repeatCount:"indefinite"})]}),n.jsxs("g",{children:[n.jsxs("g",{children:[n.jsx("animateTransform",{attributeName:"transform",type:"translate",values:"0 0; 0 -6; 0 0",dur:"1.6s",repeatCount:"indefinite"}),n.jsx("animateTransform",{attributeName:"transform",additive:"sum",type:"rotate",values:"0 32 40; -4 32 40; 0 32 40; 4 32 40; 0 32 40",dur:"1.6s",repeatCount:"indefinite"}),n.jsx("path",{d:"M32 6 C24 20 16 30 16 40 C16 52 23 60 32 60 C41 60 48 52 48 40 C48 30 40 20 32 6 Z",fill:"url(#ecoGradient)"})]}),n.jsx("path",{d:"M27 18 C24 24 24 30 27 32",fill:"none",stroke:"#ffffff",strokeOpacity:"0.7",strokeWidth:"2",strokeLinecap:"round",children:n.jsx("animate",{attributeName:"stroke-opacity",values:"0.5;0.95;0.5",dur:"1.6s",repeatCount:"indefinite"})}),n.jsxs("circle",{cx:"32",cy:"46",r:"6",fill:"#ffffff22",children:[n.jsx("animate",{attributeName:"r",values:"5;8;5",dur:"1.6s",repeatCount:"indefinite"}),n.jsx("animate",{attributeName:"opacity",values:"0.2;0.4;0.2",dur:"1.6s",repeatCount:"indefinite"})]})]})]})]})})},mf=({type:e,size:t})=>{switch(e){case"shirt":return n.jsxs("svg",{viewBox:"0 0 64 64",width:t,height:t,"aria-hidden":!0,children:[n.jsx("path",{d:"M20 10 L32 16 L44 10 L54 22 L46 28 L46 54 L18 54 L18 28 L10 22 Z",fill:"#60a5fa"}),n.jsx("circle",{cx:"32",cy:"22",r:"3",fill:"#93c5fd"})]});case"pants":return n.jsx("svg",{viewBox:"0 0 64 64",width:t,height:t,"aria-hidden":!0,children:n.jsx("path",{d:"M18 10 H46 L42 54 H34 L32 34 L30 54 H22 Z",fill:"#34d399"})});case"cross":return n.jsxs("svg",{viewBox:"0 0 64 64",width:t,height:t,"aria-hidden":!0,children:[n.jsx("rect",{x:"26",y:"10",width:"12",height:"44",rx:"3",fill:"#ef4444"}),n.jsx("rect",{x:"10",y:"26",width:"44",height:"12",rx:"3",fill:"#ef4444"})]});case"pc":return n.jsxs("svg",{viewBox:"0 0 64 64",width:t,height:t,"aria-hidden":!0,children:[n.jsx("rect",{x:"10",y:"14",width:"44",height:"28",rx:"4",fill:"#0ea5e9"}),n.jsx("rect",{x:"22",y:"46",width:"20",height:"4",rx:"2",fill:"#94a3b8"})]});case"hanger":return n.jsxs("svg",{viewBox:"0 0 64 64",width:t,height:t,"aria-hidden":!0,children:[n.jsx("path",{d:"M32 14 a6 6 0 1 1 6 6 h-2 c0 -2 -2 -4 -4 -4 s-4 2 -4 4 v2",stroke:"#64748b",strokeWidth:"3",fill:"none"}),n.jsx("path",{d:"M6 40 L32 26 L58 40",stroke:"#64748b",strokeWidth:"3",fill:"none"})]});case"washing":return n.jsxs("svg",{viewBox:"0 0 64 64",width:t,height:t,"aria-hidden":!0,children:[n.jsx("rect",{x:"12",y:"12",width:"40",height:"40",rx:"6",fill:"#22c55e"}),n.jsx("circle",{cx:"32",cy:"32",r:"12",fill:"#ffffff",opacity:"0.9"}),n.jsx("circle",{cx:"32",cy:"32",r:"8",fill:"#22c55e",opacity:"0.6"})]})}},pf=()=>{const e=h.useMemo(()=>{const t=["shirt","pants","cross","pc","hanger","washing"];return new Array(10).fill(0).map((s,r)=>({id:`f-${r}`,x:10+Math.round(Math.random()*60),y:Math.round(Math.random()*100),delay:Math.random()*3,duration:8+Math.random()*6,size:24+Math.round(Math.random()*16),type:t[r%t.length],rot:-8+Math.random()*16}))},[]);return n.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none select-none",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-green-50 to-white"}),n.jsxs("div",{className:"absolute inset-y-0 right-0 w-1/2 hidden lg:block",children:[n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"url(/login-side.png)",backgroundSize:"cover",backgroundPosition:"center",filter:"saturate(1.05)"}}),n.jsx("div",{className:"absolute inset-0 bg-white/10"})]}),e.map(t=>n.jsx("div",{className:"absolute opacity-40 hover:opacity-70 transition-opacity",style:{left:`${t.x}vw`,top:`${t.y}vh`,transform:`translate(-50%, -50%) rotate(${t.rot}deg)`,animation:`floatY ${t.duration}s ease-in-out ${t.delay}s infinite`},children:n.jsx(mf,{type:t.type,size:t.size})},t.id)),n.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(rgba(0,0,0,0.03)_1px,transparent_1px)] [background-size:16px_16px]"}),n.jsx("style",{children:`
			@keyframes floatY {
			  0%, 100% { transform: translate(-50%, -50%) translateY(0) rotate(0deg); }
			  50% { transform: translate(-50%, -50%) translateY(-18px) rotate(2deg); }
			}
			`})]})},hf=()=>{const[e,t]=h.useState(""),[s,r]=h.useState(""),[a,l]=h.useState(!1),[i,o]=h.useState(""),{isLoading:c}=Re(),[d,x]=h.useState(!1),[p,j]=h.useState(!1),[$,N]=h.useState(!1),S=async P=>{if(P.preventDefault(),!(d||p)){if(o(""),!e||!s){o("Preencha email e senha."),N(!0),setTimeout(()=>N(!1),300);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){o("Email invlido."),N(!0),setTimeout(()=>N(!1),300);return}x(!0);try{const m=ve(),u=await fetch(`${m}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})});if(u.ok){const E=await u.json(),v=E&&E.token;v&&localStorage.setItem("token",v),j(!0),x(!1),setTimeout(()=>{window.location.reload()},1200);return}let f="Email ou senha incorretos.";try{const E=await u.json();E!=null&&E.error&&(f=String(E.error))}catch{}o(f),N(!0),setTimeout(()=>N(!1),300)}catch{o("Falha na conexo. Tente novamente."),N(!0),setTimeout(()=>N(!1),300)}finally{p||x(!1)}}};return n.jsxs("div",{className:"relative min-h-screen flex items-center justify-center p-4 overflow-hidden",children:[n.jsx(pf,{}),n.jsx("img",{src:"/ecolav.png",alt:"Ecolav",className:"hidden lg:block absolute right-6 bottom-6 w-16 h-16 opacity-80"}),n.jsxs("div",{className:`relative bg-white/90 backdrop-blur rounded-2xl shadow-xl p-8 w-full max-w-md border border-white/60 ${$?"animate-[shake_0.3s]":""}`,children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 transition-transform duration-300 ${d||p?"scale-95":"scale-100"}`,children:n.jsx(uo,{size:56})}),n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:[n.jsx("span",{className:"text-blue-600",children:"Ecolav"}),n.jsx("span",{className:"text-green-600",children:"360"})]}),n.jsx("p",{className:"text-gray-600",children:"Sistema de Gesto de Enxoval"})]}),n.jsxs("form",{onSubmit:S,className:`space-y-6 transition-opacity ${p?"opacity-0":"opacity-100"}`,"aria-busy":d||p,children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",value:e,onChange:P=>t(P.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"admin@hospital.com",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:a?"text":"password",value:s,onChange:P=>r(P.target.value),className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"",required:!0}),n.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?n.jsx(Xh,{className:"w-5 h-5"}):n.jsx(co,{className:"w-5 h-5"})})]})]}),i&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:i}),n.jsx("button",{type:"submit",disabled:d||p||c,className:"w-full bg-gradient-to-r from-blue-600 to-green-600 text-white py-2 sm:py-3 rounded-lg font-medium hover:from-blue-700 hover:to-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center text-sm sm:text-base",children:d||p?n.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(tf,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Entrar"]})})]}),n.jsx("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),n.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"Verso Beta 0.2.0"}),n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]})}),p&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:n.jsxs("div",{className:"relative w-56 h-56",children:[n.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-slate-200 to-white shadow-inner"}),n.jsx("div",{className:"absolute inset-3 rounded-full bg-slate-800/90 border-4 border-slate-300 overflow-hidden",children:n.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"wash",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#60a5fa"}),n.jsx("stop",{offset:"100%",stopColor:"#22c55e"})]})}),n.jsxs("g",{className:"origin-center animate-[spin_1.2s_ease-in-out_infinite]",children:[n.jsx("path",{d:"M0,65 Q25,55 50,65 T100,65 L100,100 L0,100 Z",fill:"url(#wash)",opacity:"0.85"}),n.jsx("path",{d:"M0,70 Q25,60 50,70 T100,70 L100,100 L0,100 Z",fill:"#60a5fa",opacity:"0.65"}),n.jsx("circle",{cx:"20",cy:"60",r:"3",fill:"#fff",className:"animate-[bubble_1.2s_ease-in-out_infinite]"}),n.jsx("circle",{cx:"80",cy:"62",r:"2.5",fill:"#fff",className:"animate-[bubble_1.2s_ease-in-out_0.2s_infinite]"}),n.jsx("circle",{cx:"50",cy:"58",r:"2",fill:"#fff",className:"animate-[bubble_1.2s_ease-in-out_0.4s_infinite]"})]})]})})]})}),n.jsx("style",{children:`
          @keyframes shake { 0%,100%{transform:translateX(0)} 20%{transform:translateX(-6px)} 40%{transform:translateX(6px)} 60%{transform:translateX(-4px)} 80%{transform:translateX(4px)} }
          @keyframes bubble { 0%{ transform:translateY(0) scale(0.9); opacity:.6 } 50%{ transform:translateY(-6px) scale(1); opacity:1 } 100%{ transform:translateY(0) scale(0.9); opacity:.6 } }
        `})]})]})},ff=({user:e,onMenuClick:t})=>{var d;const{logout:s}=Re(),{clients:r,adminClientIdFilter:a,setAdminClientIdFilter:l}=_e(),i=(e==null?void 0:e.role)==="admin",o=h.useMemo(()=>r.slice().sort((x,p)=>x.name.localeCompare(p.name)),[r]),c=h.useMemo(()=>{const x=new Date().getHours();return x<12?"Bom dia":x<18?"Boa tarde":"Boa noite"},[]);return n.jsx("header",{className:"bg-white border-b border-gray-200 px-4 py-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[n.jsx("button",{onClick:t,className:"p-2 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-all lg:hidden shrink-0",children:n.jsx(rf,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 shrink-0",children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg overflow-hidden",children:n.jsx(uo,{size:28})}),n.jsxs("div",{className:"hidden sm:block",children:[n.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:[n.jsx("span",{className:"text-blue-600",children:"Ecolav"}),n.jsx("span",{className:"text-green-600",children:"360"})]}),n.jsx("p",{className:"text-sm text-gray-500",children:"Sistema de Gesto"})]})]}),i&&l&&n.jsxs("select",{value:a??"",onChange:x=>l(x.target.value||null),className:"px-2 py-1.5 border rounded-lg text-[11px] sm:text-sm min-w-0 flex-1 max-w-[180px] sm:max-w-[250px] text-left truncate",title:"Filtrar por cliente",children:[n.jsx("option",{value:"",children:"Todos"}),o.map(x=>n.jsx("option",{value:x.id,children:x.name},x.id))]})]}),n.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex sm:hidden items-center",children:n.jsx("span",{className:"text-[11px] font-medium text-gray-700",children:c})}),n.jsx("div",{className:"hidden sm:flex items-center",children:n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[c,", ",((d=e.name)==null?void 0:d.split(" ")[0])||"Usurio"]})})]}),n.jsx("button",{onClick:s,className:"flex items-center justify-center p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all shrink-0",title:"Sair",children:n.jsx(nf,{className:"w-5 h-5"})})]})]})})},xf=({activeSection:e,onSectionChange:t,isOpen:s,onToggle:r})=>{const{user:a}=Re(),[l,i]=h.useState(!1),o=h.useMemo(()=>{const c=[{id:"overview",label:"Viso Geral",icon:n.jsx(ef,{className:"w-5 h-5"})},{id:"sectors",label:"Setores",icon:n.jsx(Pa,{className:"w-5 h-5"})},{id:"beds",label:"Leitos",icon:n.jsx(Ln,{className:"w-5 h-5"})},{id:"linen",label:"Itens de Enxoval",icon:n.jsx(it,{className:"w-5 h-5"})},{id:"orders",label:"Pedidos",icon:n.jsx(ui,{className:"w-5 h-5"})},{id:"stock",label:"Estoque",icon:n.jsx(Yu,{className:"w-5 h-5"})},{id:"weight",label:"Pesagem",icon:n.jsx(di,{className:"w-5 h-5"})},{id:"weight-tracking",label:"Acompanhamento",icon:n.jsx(hl,{className:"w-5 h-5"})},{id:"linen-distribution",label:"Gesto de Enxoval",icon:n.jsx(hl,{className:"w-5 h-5"})},{id:"distribution",label:"Distribuio",icon:n.jsx(hl,{className:"w-5 h-5"})},{id:"special-rolls",label:"ROL Especial",icon:n.jsx(it,{className:"w-5 h-5"})},{id:"reports",label:"Relatrios",icon:n.jsx(cs,{className:"w-5 h-5"})}];return(a==null?void 0:a.role)==="admin"&&c.push({id:"clients",label:"Clientes",icon:n.jsx(qh,{className:"w-5 h-5"})},{id:"users",label:"Usurios",icon:n.jsx(em,{className:"w-5 h-5"})}),c},[a]);return n.jsxs(n.Fragment,{children:[s&&n.jsx("div",{className:"fixed inset-0 z-20 bg-black bg-opacity-50 lg:hidden",onClick:r}),n.jsx("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-30
          w-64 bg-white border-r border-gray-200
          transform transition-transform duration-300 ease-in-out
          ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 lg:hidden",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Menu"}),n.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:n.jsx(ma,{className:"w-5 h-5"})})]}),n.jsx("nav",{className:"flex-1 px-2 sm:px-4 py-4 sm:py-6 space-y-2 overflow-y-auto",children:o.map(c=>n.jsxs("button",{onClick:()=>{t(c.id),r()},className:`
                  w-full flex items-center space-x-2 sm:space-x-3 px-3 sm:px-4 py-3 text-left rounded-lg
                  transition-all duration-200
                  ${e===c.id?"bg-gradient-to-r from-blue-600 to-green-600 text-white shadow-lg":"text-gray-700 hover:bg-gray-100"}
                `,children:[n.jsx("span",{className:"shrink-0",children:c.icon}),n.jsx("span",{className:"font-medium text-sm sm:text-base truncate",children:c.label})]},c.id))}),n.jsx("div",{className:"px-4 pb-4",children:n.jsxs("button",{onClick:()=>i(!l),className:"w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg text-gray-600 hover:bg-gray-100 transition-all duration-200",children:[n.jsx(da,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium text-sm",children:"Informaes do App"})]})})]})}),l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Informaes do App"}),n.jsx("button",{onClick:()=>i(!1),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:n.jsx(ma,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 to-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(di,{className:"w-8 h-8 text-white"})}),n.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:"Sistema de Gesto Ecolav"}),n.jsx("div",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm font-medium inline-block",children:"Verso Beta 0.2.0"}),n.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Parte do ambiente ",n.jsx("span",{className:"font-medium text-blue-600",children:"Ecolav 360"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Contato"}),n.jsxs("p",{className:"text-gray-600 text-sm",children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ti@textilecolav.com.br"]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:"Desenvolvimento"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Sistema desenvolvido para otimizar o controle de pedidos, estoque e pesagem da lavanderia."})]}),n.jsx("div",{className:"text-center pt-4 border-t border-gray-200",children:n.jsxs("p",{className:"text-xs text-gray-500",children:[" 2024 Todos os direitos reservados a",n.jsx("br",{}),n.jsx("span",{className:"font-medium",children:"Ecolav Servios Tcnicos de Lavanderia"})]})})]})]})]})})]})},Pt=({className:e=""})=>n.jsx("div",{className:`motion-safe:animate-pulse bg-gray-200 rounded ${e}`}),Nt=({className:e=""})=>n.jsxs("div",{className:`border rounded-lg p-4 ${e}`,children:[n.jsx("div",{className:"animate-pulse h-4 w-1/3 bg-gray-200 rounded mb-3"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"animate-pulse h-3 bg-gray-200 rounded"}),n.jsx("div",{className:"animate-pulse h-3 bg-gray-200 rounded"}),n.jsx("div",{className:"animate-pulse h-3 bg-gray-200 rounded w-2/3"})]})]}),Ht=({showOnAction:e=!1})=>{const{user:t}=Re(),{adminClientIdFilter:s,clients:r}=_e();if((t==null?void 0:t.role)!=="admin")return null;const a=!!t.clientId,l=r.find(c=>c.id===s),i=r.find(c=>c.id===t.clientId);return a?s&&s!==t.clientId?n.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 mb-6 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx($a,{className:"w-5 h-5 text-orange-600 mt-0.5 mr-3 flex-shrink-0"}),n.jsx("div",{className:"flex-1",children:n.jsxs("p",{className:"text-sm text-orange-800",children:[n.jsx("span",{className:"font-semibold",children:" Voc no est no SEU cliente!"}),n.jsx("br",{}),"Cliente atual: ",n.jsx("strong",{children:(l==null?void 0:l.name)||"Desconhecido"}),i&&n.jsxs(n.Fragment,{children:["  ","Seu cliente: ",n.jsx("strong",{children:i.name})]})]})})]})}):null:e?n.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6 rounded-r-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(da,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0"}),n.jsx("div",{className:"flex-1",children:n.jsx("p",{className:"text-sm text-yellow-800",children:s?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"font-semibold",children:"Visualizando cliente:"})," ",(l==null?void 0:l.name)||"Desconhecido"]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"font-semibold",children:" Ateno:"})," Voc est visualizando ",n.jsx("strong",{children:"TODOS os clientes"}),". Se precisar de dados de um cliente especfico, selecione-o no filtro acima."]})})})]})}):null},$c=()=>{const{sectors:e,beds:t,linenItems:s,orders:r,adminClientIdFilter:a}=_e(),{user:l}=Re(),i=ve(),o=h.useMemo(()=>localStorage.getItem("token")||"",[]),c=t.filter(g=>g.status==="occupied").length,d=r.filter(g=>g.status==="pending").length,x=s.filter(g=>g.currentStock<=g.minimumStock).length,p=[{title:"Setores",value:e.length,icon:n.jsx(em,{className:"w-8 h-8"}),color:"from-blue-500 to-blue-600"},{title:"Leitos Ocupados",value:`${c}/${t.length}`,icon:n.jsx(Ln,{className:"w-8 h-8"}),color:"from-green-500 to-green-600"},{title:"Itens de Estoque",value:s.length,icon:n.jsx(it,{className:"w-8 h-8"}),color:"from-purple-500 to-purple-600"},{title:"Pedidos Pendentes",value:d,icon:n.jsx(ui,{className:"w-8 h-8"}),color:"from-orange-500 to-orange-600"}],j=r.slice(0,5),[$,N]=h.useState(!1),[S,P]=h.useState({suja:0,limpa:0,diff:0,perc:0}),[m,u]=h.useState(!1),[f,E]=h.useState(0),[v,y]=h.useState(0),b=h.useMemo(()=>{const g=new Date,M=g.getFullYear(),q=g.getMonth()+1,z=`${M}-${String(q).padStart(2,"0")}-01`,T=`${M}-${String(q).padStart(2,"0")}-${String(new Date(M,q,0).getDate()).padStart(2,"0")}`;return{start:z,end:T}},[]),R=h.useCallback(async()=>{N(!0);try{const g=new URL(`${i}/pesagens/relatorio`);g.searchParams.set("start",b.start),g.searchParams.set("end",b.end),(l==null?void 0:l.role)==="admin"&&a&&g.searchParams.set("clientId",a);const M=await fetch(g.toString(),{headers:{Authorization:`Bearer ${o}`}});if(M.ok){const q=await M.json(),z=q.reduce((J,k)=>J+(Number(k.peso_suja)||0),0),T=q.reduce((J,k)=>J+(Number(k.peso_limpa)||0),0),D=z-T,O=z>0?Number((D/z*100).toFixed(2)):0;P({suja:Number(z.toFixed(2)),limpa:Number(T.toFixed(2)),diff:Number(D.toFixed(2)),perc:O})}}finally{N(!1)}},[i,b.end,b.start,a,o,l==null?void 0:l.role]);h.useEffect(()=>{R()},[R]);const G=h.useCallback(async()=>{u(!0);try{const g=new URL(`${i}/distributed-items`);(l==null?void 0:l.role)==="admin"&&a&&g.searchParams.set("clientId",a);const[M,q,z,T,D,O]=await Promise.all([fetch(g.toString(),{headers:{Authorization:`Bearer ${o}`}}),fetch(`${i}/special-rolls?status=ready&page=1&pageSize=1${(l==null?void 0:l.role)==="admin"&&a?`&clientId=${encodeURIComponent(a)}`:""}`,{headers:{Authorization:`Bearer ${o}`}}),fetch(`${i}/special-rolls?status=received&page=1&pageSize=1${(l==null?void 0:l.role)==="admin"&&a?`&clientId=${encodeURIComponent(a)}`:""}`,{headers:{Authorization:`Bearer ${o}`}}),fetch(`${i}/special-rolls?status=washing&page=1&pageSize=1${(l==null?void 0:l.role)==="admin"&&a?`&clientId=${encodeURIComponent(a)}`:""}`,{headers:{Authorization:`Bearer ${o}`}}),fetch(`${i}/special-rolls?status=drying&page=1&pageSize=1${(l==null?void 0:l.role)==="admin"&&a?`&clientId=${encodeURIComponent(a)}`:""}`,{headers:{Authorization:`Bearer ${o}`}}),fetch(`${i}/special-rolls?status=quality_check&page=1&pageSize=1${(l==null?void 0:l.role)==="admin"&&a?`&clientId=${encodeURIComponent(a)}`:""}`,{headers:{Authorization:`Bearer ${o}`}})]);let J=0;if(M.ok){const ne=await M.json(),ie=Date.now();J=ne.filter(I=>I.status!=="collected"&&ie-new Date(I.allocatedAt).getTime()>=24*60*60*1e3).length}const k=async ne=>{var ie;return ne.ok?Number(((ie=await ne.json())==null?void 0:ie.total)||0):0},[_,w,C,W,ee]=await Promise.all([k(q),k(z),k(T),k(D),k(O)]);E(J),y(_+w+C+W+ee)}finally{u(!1)}},[i,a,o,l==null?void 0:l.role]);return h.useEffect(()=>{G()},[G]),n.jsxs("div",{className:"space-y-8",children:[n.jsx(Ht,{}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Viso Geral"}),n.jsx("p",{className:"text-gray-600",children:"Dashboard do sistema de gesto de enxoval"})]}),n.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:p.map((g,M)=>n.jsx("div",{className:"bg-white rounded-xl p-3 sm:p-6 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:g.title}),n.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:g.value})]}),n.jsx("div",{className:`p-2 sm:p-3 bg-gradient-to-r ${g.color} rounded-lg text-white`,children:n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8",children:g.icon})})]})},M))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-8",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-4",children:[n.jsx($a,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Alertas"})]}),n.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[m&&n.jsx("div",{className:"text-xs text-gray-500",children:"Carregando alertas..."}),x>0?n.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-red-50 rounded-lg border border-red-100",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-900 text-sm sm:text-base",children:"Estoque Baixo"}),n.jsxs("p",{className:"text-xs sm:text-sm text-red-700",children:[x," itens abaixo do estoque mnimo"]})]}),n.jsx("div",{className:"text-red-500",children:n.jsx(it,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}):null,f>0?n.jsx("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-red-50 rounded-lg border border-red-100",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-red-900 text-sm sm:text-base",children:"Peas > 24h no leito"}),n.jsxs("p",{className:"text-xs sm:text-sm text-red-700",children:[f," peas aguardando coleta"]})]})}):null,d>0?n.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-yellow-50 rounded-lg border border-yellow-100",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-yellow-900 text-sm sm:text-base",children:"Pedidos Pendentes"}),n.jsxs("p",{className:"text-xs sm:text-sm text-yellow-700",children:[d," pedidos aguardando processamento"]})]}),n.jsx("div",{className:"text-yellow-500",children:n.jsx(io,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}):null,v>0?n.jsx("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-blue-50 rounded-lg border border-blue-100",children:n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-blue-900 text-sm sm:text-base",children:"ROLs Especiais Pendentes"}),n.jsxs("p",{className:"text-xs sm:text-sm text-blue-700",children:[v," em andamento/aguardando"]})]})}):null,x===0&&d===0?n.jsxs("div",{className:"text-center py-6 sm:py-8 text-gray-500",children:[n.jsx(cs,{className:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-2 text-green-500"}),n.jsx("p",{className:"text-sm sm:text-base",children:"Tudo funcionando perfeitamente!"})]}):null]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-4",children:[n.jsx(La,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-500"}),n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Pedidos Recentes"})]}),n.jsx("div",{className:"space-y-2 sm:space-y-3",children:j.length>0?j.map(g=>{var M,q,z;return n.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("p",{className:"font-medium text-gray-900 text-sm sm:text-base truncate",children:[(q=(M=g.bed)==null?void 0:M.sector)==null?void 0:q.name," - Leito ",(z=g.bed)==null?void 0:z.number]}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[g.items.length," ",g.items.length===1?"item":"itens"," - ",g.items.reduce((T,D)=>T+D.quantity,0)," unidades"]})]}),n.jsx("div",{className:"text-right ml-2",children:n.jsx("span",{className:`
                       px-2 py-1 rounded-full text-xs font-medium
                       ${g.status==="pending"?"bg-yellow-100 text-yellow-800":g.status==="preparing"?"bg-blue-100 text-blue-800":g.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}
                     `,children:g.status==="pending"?"Pendente":g.status==="preparing"?"Preparando":g.status==="delivered"?"Entregue":"Cancelado"})})]},g.id)}):n.jsxs("div",{className:"text-center py-6 sm:py-8 text-gray-500",children:[n.jsx(ui,{className:"w-8 h-8 sm:w-12 sm:h-12 mx-auto mb-2"}),n.jsx("p",{className:"text-sm sm:text-base",children:"Nenhum pedido encontrado"})]})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:"Resumo de Pesagem (ms)"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:$?n.jsxs(n.Fragment,{children:[n.jsx(Nt,{}),n.jsx(Nt,{}),n.jsx(Nt,{})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Coletado (suja)"}),n.jsx(it,{className:"w-5 h-5 text-blue-500"})]}),n.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:[S.suja," kg"]}),n.jsxs("p",{className:"text-[11px] sm:text-xs text-gray-500",children:[b.start," a ",b.end]})]}),n.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Entregue (limpa)"}),n.jsx(Ln,{className:"w-5 h-5 text-green-600"})]}),n.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:[S.limpa," kg"]}),n.jsxs("p",{className:"text-[11px] sm:text-xs text-gray-500",children:[b.start," a ",b.end]})]}),n.jsxs("div",{className:"p-3 sm:p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Reteno"}),n.jsx(cs,{className:"w-5 h-5 text-orange-600"})]}),n.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:[S.diff," kg"]}),n.jsxs("p",{className:"text-[11px] sm:text-xs text-gray-500",children:[S.perc,"% no retornou"]})]})]})})]})]})},gf=()=>{const{sectors:e,addSector:t,updateSector:s,deleteSector:r,clients:a}=_e(),{user:l}=Re(),[i,o]=h.useState(!1),[c,d]=h.useState(null),[x,p]=h.useState({name:"",description:"",clientId:""}),j=h.useMemo(()=>(l==null?void 0:l.role)==="admin"||!(l!=null&&l.clientId)?e:e.filter(P=>P.clientId===l.clientId),[e,l]),$=P=>{if(P.preventDefault(),c)s(c,{...x,clientId:(l==null?void 0:l.role)==="admin"?x.clientId||void 0:l==null?void 0:l.clientId}),d(null);else{const m={name:x.name,description:x.description,clientId:(l==null?void 0:l.role)==="admin"?x.clientId||void 0:l==null?void 0:l.clientId};t(m),o(!1)}p({name:"",description:"",clientId:""})},N=P=>{d(P.id),p({name:P.name,description:P.description||"",clientId:P.clientId||""})},S=P=>{window.confirm("Tem certeza que deseja excluir este setor?")&&r(P)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gesto de Setores"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie os setores do hospital"})]}),n.jsxs("button",{onClick:()=>{(l==null?void 0:l.role)==="admin"&&p(P=>({...P,clientId:""})),o(!0)},className:"bg-gradient-to-r from-blue-600 to-green-600 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-green-700 flex items-center space-x-2 transition-all",children:[n.jsx(gn,{className:"w-5 h-5"}),n.jsx("span",{children:"Novo Setor"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(P=>{var m;return n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all",children:n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Pa,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:P.name}),n.jsx("p",{className:"text-sm text-gray-600",children:P.description}),(l==null?void 0:l.role)==="admin"&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Cliente: ",((m=a.find(u=>u.id===P.clientId))==null?void 0:m.name)||""]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>N(P),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:n.jsx(ps,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>S(P.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:n.jsx(pn,{className:"w-4 h-4"})})]})]})},P.id)})}),(i||c)&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:c?"Editar Setor":"Novo Setor"}),n.jsxs("form",{onSubmit:$,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Setor"}),n.jsx("input",{type:"text",value:x.name,onChange:P=>p({...x,name:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("textarea",{value:x.description,onChange:P=>p({...x,description:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),(l==null?void 0:l.role)==="admin"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),n.jsxs("select",{value:x.clientId,onChange:P=>p({...x,clientId:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Selecione um cliente"}),a.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{o(!1),d(null),p({name:"",description:"",clientId:""})},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all",children:"Cancelar"}),n.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-green-600 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-green-700 transition-all",children:c?"Salvar":"Criar"})]})]})]})})]})},yf=()=>{const{beds:e,sectors:t,addBed:s,updateBed:r,deleteBed:a}=_e(),{user:l}=Re(),[i,o]=h.useState(!1),[c,d]=h.useState(null),[x,p]=h.useState(null),[j,$]=h.useState({number:"",sectorId:"",status:"free"}),[N,S]=h.useState("THERMAL"),[P,m]=h.useState(50),[u,f]=h.useState(30),[E,v]=h.useState(3),[y,b]=h.useState([]),R=h.useMemo(()=>(l==null?void 0:l.role)==="admin"||!(l!=null&&l.clientId)?t:t.filter(C=>C.clientId===l.clientId),[t,l]),G=h.useMemo(()=>{const C=new Set(R.map(W=>W.id));return e.filter(W=>C.has(W.sectorId))},[e,R]),g=C=>{C.preventDefault(),c?(r(c,j),d(null)):(s(j),o(!1)),$({number:"",sectorId:"",status:"free"})},M=(C,W)=>{r(C,{status:W})},q=(C,W)=>{var Ie;const ee=`${_r()}/pedido?token=${C.token}`,ne={w:105,h:148},ie={w:74,h:105},I=W==="A6"?ne.w:W==="A7"?ie.w:P,H=W==="A6"?ne.h:W==="A7"?ie.h:u,K=W==="THERMAL"?E:6,Z=W==="THERMAL"?"100%":W==="A6"?"480px":"320px",ae=W==="THERMAL"?Math.round(Math.min(I,H)*8*.7):W==="A6"?220:180,se=W==="THERMAL"?Math.round(Math.min(I,H)*.25):W==="A6"?40:32,me=`https://api.qrserver.com/v1/create-qr-code/?size=${ae}x${ae}&data=${encodeURIComponent(ee)}`,ce=`<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Etiqueta Leito ${C.number}</title>
    <style>
      @media print { @page { size: ${I}mm ${H}mm; margin: ${K}mm; } }
      body { font-family: Arial, sans-serif; margin: 0; padding: 12px; }
      .card { width: ${Z}; border: 1px solid #e5e7eb; border-radius: 12px; padding: 12px; }
      .header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; }
      .title { font-size: 16px; font-weight: 700; color: #111827; }
      .subtitle { font-size: 12px; color: #6b7280; }
      .qr { display: flex; align-items: center; justify-content: center; margin: 8px 0; }
      .meta { font-size: 12px; color: #374151; }
      .logo { width: ${se}px; height: ${Math.round(se+se*.25)}px; }
      .footer { margin-top: 8px; font-size: 10px; color: #6b7280; }
    </style>
  </head>
  <body>
    <div class="card">
      <div class="header">
        <div>
          <div class="title">ECOLAV</div>
          <div class="subtitle">Etiqueta de Leito</div>
        </div>
        <div class="logo">
          <svg viewBox="0 0 64 80" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" aria-label="ECOLAV">
            <defs>
              <linearGradient id="ecoGradient" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#2563eb" />
                <stop offset="100%" stop-color="#16a34a" />
              </linearGradient>
            </defs>
            <g>
              <ellipse cx="32" cy="72" rx="16" ry="6" fill="#0f172a22">
                <animate attributeName="rx" values="15;18;15" dur="2s" repeatCount="indefinite" />
                <animate attributeName="opacity" values="0.25;0.4;0.25" dur="2s" repeatCount="indefinite" />
              </ellipse>
              <g>
                <path d="M32 6 C24 20 16 30 16 40 C16 52 23 60 32 60 C41 60 48 52 48 40 C48 30 40 20 32 6 Z" fill="url(#ecoGradient)">
                  <animateTransform attributeName="transform" type="translate" values="0 0; 0 -2; 0 0" dur="2s" repeatCount="indefinite" />
                </path>
                <path d="M27 18 C24 24 24 30 27 32" fill="none" stroke="#ffffff" stroke-opacity="0.6" stroke-width="2" stroke-linecap="round">
                  <animate attributeName="stroke-opacity" values="0.4;0.8;0.4" dur="2s" repeatCount="indefinite" />
                </path>
                <circle cx="32" cy="46" r="6" fill="#ffffff22">
                  <animate attributeName="r" values="5;7;5" dur="2s" repeatCount="indefinite" />
                  <animate attributeName="opacity" values="0.2;0.35;0.2" dur="2s" repeatCount="indefinite" />
                </circle>
              </g>
            </g>
          </svg>
        </div>
      </div>
      <div class="meta">Setor: ${((Ie=C.sector)==null?void 0:Ie.name)||""}</div>
      <div class="meta" style="margin-bottom:6px;">Leito: ${C.number}</div>
      <div class="qr">
        <img src="${me}" alt="QR" width="${ae}" height="${ae}"/>
      </div>
      <div class="meta">URL: ${ee}</div>
      <div class="footer">Escaneie para abrir o pedido de enxoval.</div>
    </div>
    <script>window.onload = () => { window.print(); };<\/script>
  </body>
</html>`,fe=window.open("","print");fe&&(fe.document.write(ce),fe.document.close())},z=C=>{b(W=>W.includes(C)?W.filter(ee=>ee!==C):[...W,C])},T=()=>{b(G.map(C=>C.id))},D=()=>b([]),O=async()=>{const C=G.filter(H=>y.length===0||y.includes(H.id));if(C.length===0)return;const W=await Mh(),ee=H=>{var fe;const K=`${W}/pedido?token=${H.token}`,ae=Math.max(120,Math.round(Math.min(P,u)*8*.7)),me=N==="THERMAL"?ae:N==="A6"?220:180,ce=`https://api.qrserver.com/v1/create-qr-code/?size=${me}x${me}&data=${encodeURIComponent(K)}`;return`
      <div class="card">
        <div class="header">
          <div>
            <div class="title">ECOLAV</div>
            <div class="subtitle">Etiqueta de Leito</div>
          </div>
          <div class="logo">
            <svg viewBox="0 0 64 80" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" aria-label="ECOLAV">
              <defs>
                <linearGradient id="ecoGradient" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#2563eb" />
                  <stop offset="100%" stop-color="#16a34a" />
                </linearGradient>
              </defs>
              <g>
                <ellipse cx="32" cy="72" rx="16" ry="6" fill="#0f172a22"></ellipse>
                <g>
                  <path d="M32 6 C24 20 16 30 16 40 C16 52 23 60 32 60 C41 60 48 52 48 40 C48 30 40 20 32 6 Z" fill="url(#ecoGradient)"></path>
                  <path d="M27 18 C24 24 24 30 27 32" fill="none" stroke="#ffffff" stroke-opacity="0.6" stroke-width="2" stroke-linecap="round"></path>
                  <circle cx="32" cy="46" r="6" fill="#ffffff22"></circle>
                </g>
              </g>
            </svg>
          </div>
        </div>
        <div class="meta">Setor: ${((fe=H.sector)==null?void 0:fe.name)||""}</div>
        <div class="meta" style="margin-bottom:6px;">Leito: ${H.number}</div>
        <div class="qr">
          <img src="${ce}" alt="QR" width="${me}" height="${me}"/>
        </div>
        <div class="meta">URL: ${K}</div>
        <div class="footer">Escaneie para abrir o pedido de enxoval.</div>
      </div>`},ie=`<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Etiquetas de Leitos</title>
    <style>
      ${N==="THERMAL"?`@page { size: ${P}mm ${u}mm; margin: ${E}mm; } .page { page-break-after: always; } .card { width: 100%; } .header{display:flex;align-items:center;justify-content:space-between;margin-bottom:4mm;} .title{font-size:4mm;font-weight:700;color:#111827;} .subtitle{font-size:3mm;color:#6b7280;} .qr{display:flex;align-items:center;justify-content:center;margin:3mm 0;} .meta{font-size:3mm;color:#374151;} .logo{width:8mm;height:10mm;} .footer{margin-top:3mm;font-size:2.5mm;color:#6b7280;}`:`@page { size: ${N} portrait; margin: 6mm; } .page { page-break-after: always; } .card { width: ${N==="A6"?480:320}px; border: 1px solid #e5e7eb; border-radius: 12px; padding: 12px; } .header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;} .title{font-size:16px;font-weight:700;color:#111827;} .subtitle{font-size:12px;color:#6b7280;} .qr{display:flex;align-items:center;justify-content:center;margin:8px 0;} .meta{font-size:12px;color:#374151;} .logo{width:${N==="A6"?40:32}px;height:${N==="A6"?50:40}px;} .footer{margin-top:8px;font-size:10px;color:#6b7280;}`}
      body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
      .wrap { padding: 0; }
    </style>
  </head>
  <body>
    <div class="wrap">
      ${C.map(H=>`<div class="page">${ee(H)}</div>`).join("")}
    </div>
    <script>window.onload = () => { window.print(); };<\/script>
  </body>
</html>`,I=window.open("","print");I&&(I.document.write(ie),I.document.close())},J=C=>{d(C.id),$({number:C.number,sectorId:C.sectorId,status:C.status})},k=C=>{window.confirm("Tem certeza que deseja excluir este leito?")&&a(C)},_=async C=>{const ee=`${_r()}/pedido?token=${C}`;try{if(typeof navigator<"u"&&navigator.clipboard&&typeof navigator.clipboard.writeText=="function")await navigator.clipboard.writeText(ee);else{const ne=document.createElement("textarea");ne.value=ee,ne.style.position="fixed",ne.style.left="-9999px",document.body.appendChild(ne),ne.focus(),ne.select();try{document.execCommand("copy")}finally{document.body.removeChild(ne)}}p(C),setTimeout(()=>p(null),2e3)}catch{}},w=C=>{const ee=`${_r()}/pedido?token=${C}`;return`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(ee)}`};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gesto de Leitos"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie os leitos e seus QR Codes"})]}),n.jsxs("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-blue-600 to-green-600 text-white px-2 sm:px-4 py-2 rounded-lg hover:from-blue-700 hover:to-green-700 flex items-center space-x-1 sm:space-x-2 transition-all text-xs sm:text-sm",children:[n.jsx(gn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Novo Leito"}),n.jsx("span",{className:"sm:hidden",children:"Novo"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map(C=>{var W;return n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${C.status==="occupied"?"bg-red-100":"bg-green-100"}`,children:n.jsx(Ln,{className:`w-6 h-6 ${C.status==="occupied"?"text-red-600":"text-green-600"}`})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-gray-900",children:["Leito ",C.number]}),n.jsx("p",{className:"text-sm text-gray-600",children:(W=C.sector)==null?void 0:W.name}),n.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full font-medium ${C.status==="occupied"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:C.status==="occupied"?"Ocupado":"Livre"})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("input",{type:"checkbox",checked:y.includes(C.id),onChange:()=>z(C.id),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500",title:"Selecionar para impresso em lote"}),n.jsx("button",{onClick:()=>J({id:C.id,number:C.number,sectorId:C.sectorId,status:C.status}),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:n.jsx(ps,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>k(C.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:n.jsx(pn,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("img",{src:w(C.token),alt:`QR Code para leito ${C.number}`,className:"w-24 h-24 border border-gray-200 rounded"})}),n.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[n.jsx("button",{onClick:()=>_(C.token),className:"flex-1 flex items-center justify-center space-x-1 sm:space-x-2 px-2 sm:px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-all text-xs sm:text-sm",children:x===C.token?n.jsxs(n.Fragment,{children:[n.jsx(Hh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Copiado!"}),n.jsx("span",{className:"sm:hidden",children:""})]}):n.jsxs(n.Fragment,{children:[n.jsx(Kh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Copiar Link"}),n.jsx("span",{className:"sm:hidden",children:"Copiar"})]})}),n.jsx("a",{href:w(C.token),download:`qr-leito-${C.number}.png`,className:"flex items-center justify-center px-2 sm:px-3 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg transition-all",title:"Baixar QR Code",children:n.jsx(oo,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),n.jsx("button",{onClick:()=>{var ee;return q({id:C.id,number:C.number,token:C.token,sector:{name:(ee=C.sector)==null?void 0:ee.name}},N)},className:"flex items-center justify-center px-2 sm:px-3 py-2 bg-green-100 hover:bg-green-200 text-green-700 rounded-lg transition-all",title:"Imprimir etiqueta",children:n.jsx(lf,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),n.jsx("div",{className:"flex items-center space-x-2",children:C.status==="free"?n.jsx("button",{onClick:()=>M(C.id,"occupied"),className:"px-3 py-1 text-xs rounded bg-yellow-100 hover:bg-yellow-200 text-yellow-800 transition-all",children:"Marcar Ocupado"}):n.jsx("button",{onClick:()=>M(C.id,"free"),className:"px-3 py-1 text-xs rounded bg-green-100 hover:bg-green-200 text-green-800 transition-all",children:"Marcar Livre"})})]})]})]},C.id)})}),n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:T,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:"Selecionar Todos"}),n.jsx("button",{onClick:D,className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:"Limpar Seleo"}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Selecionados: ",y.length]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{value:N,onChange:C=>S(C.target.value),className:"px-2 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",title:"Formato",children:[n.jsx("option",{value:"THERMAL",children:"Trmica (mm)"}),n.jsx("option",{value:"A7",children:"A7"}),n.jsx("option",{value:"A6",children:"A6"})]}),N==="THERMAL"&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx("label",{className:"text-gray-600",children:"Largura (mm)"}),n.jsx("input",{type:"number",min:20,max:110,value:P,onChange:C=>m(parseInt(C.target.value)||50),className:"w-20 px-2 py-1 border border-gray-300 rounded"}),n.jsx("label",{className:"text-gray-600",children:"Altura (mm)"}),n.jsx("input",{type:"number",min:20,max:200,value:u,onChange:C=>f(parseInt(C.target.value)||30),className:"w-20 px-2 py-1 border border-gray-300 rounded"}),n.jsx("label",{className:"text-gray-600",children:"Margem (mm)"}),n.jsx("input",{type:"number",min:0,max:10,value:E,onChange:C=>v(parseInt(C.target.value)||3),className:"w-16 px-2 py-1 border border-gray-300 rounded"})]}),n.jsx("button",{onClick:O,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm",children:"Imprimir Selecionados"})]})]})}),(i||c)&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:c?"Editar Leito":"Novo Leito"}),n.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero do Leito"}),n.jsx("input",{type:"text",value:j.number,onChange:C=>$({...j,number:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Setor"}),n.jsxs("select",{value:j.sectorId,onChange:C=>$({...j,sectorId:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Selecione um setor"}),R.map(C=>n.jsx("option",{value:C.id,children:C.name},C.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:j.status,onChange:C=>$({...j,status:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"free",children:"Livre"}),n.jsx("option",{value:"occupied",children:"Ocupado"})]})]}),n.jsxs("div",{className:"flex space-x-2 sm:space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{o(!1),d(null),$({number:"",sectorId:"",status:"free"})},className:"flex-1 px-2 sm:px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all text-xs sm:text-sm",children:"Cancelar"}),n.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-green-600 text-white px-2 sm:px-4 py-2 rounded-lg hover:from-blue-700 hover:to-green-700 transition-all text-xs sm:text-sm",children:c?"Salvar":"Criar"})]})]})]})})]})},vf=()=>{const{linenItems:e,addLinenItem:t,updateLinenItem:s,deleteLinenItem:r}=_e(),[a,l]=h.useState(!1),[i,o]=h.useState(null),[c,d]=h.useState({name:"",sku:"",unit:"unidade",currentStock:0,minimumStock:0}),x=N=>{N.preventDefault(),i?(s(i,c),o(null)):(t(c),l(!1)),d({name:"",sku:"",unit:"unidade",currentStock:0,minimumStock:0})},p=N=>{o(N.id),d({name:N.name,sku:N.sku,unit:N.unit,currentStock:N.currentStock,minimumStock:N.minimumStock})},j=N=>{window.confirm("Tem certeza que deseja excluir este item?")&&r(N)},$=e.filter(N=>N.currentStock<=N.minimumStock);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gesto de Itens de Enxoval"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie os itens disponveis para pedidos"})]}),n.jsxs("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-600 to-green-600 text-white px-2 sm:px-4 py-2 rounded-lg hover:from-blue-700 hover:to-green-700 flex items-center space-x-1 sm:space-x-2 transition-all text-xs sm:text-sm",children:[n.jsx(gn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Novo Item"}),n.jsx("span",{className:"sm:hidden",children:"Novo"})]})]}),$.length>0&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx($a,{className:"w-5 h-5 text-red-500"}),n.jsx("h3",{className:"font-medium text-red-900",children:"Alerta de Estoque Baixo"})]}),n.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Os seguintes itens esto abaixo do estoque mnimo:"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:$.map(N=>n.jsxs("div",{className:"text-sm text-red-800 bg-red-100 px-2 py-1 rounded",children:[N.name," - ",N.currentStock," ",N.unit]},N.id))})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(N=>n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${N.currentStock<=N.minimumStock?"bg-red-100":"bg-blue-100"}`,children:n.jsx(it,{className:`w-6 h-6 ${N.currentStock<=N.minimumStock?"text-red-600":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:N.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",N.sku]})]})]}),n.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[n.jsx("button",{onClick:()=>p(N),className:"p-1.5 sm:p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:n.jsx(ps,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),n.jsx("button",{onClick:()=>j(N.id),className:"p-1.5 sm:p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:n.jsx(pn,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Estoque Atual:"}),n.jsxs("span",{className:`font-medium ${N.currentStock<=N.minimumStock?"text-red-600":"text-green-600"}`,children:[N.currentStock," ",N.unit]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Estoque Mnimo:"}),n.jsxs("span",{className:"font-medium text-gray-900",children:[N.minimumStock," ",N.unit]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all ${N.currentStock<=N.minimumStock?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(100,N.currentStock/(N.minimumStock*2)*100)}%`}})})]})]},N.id))}),(a||i)&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:i?"Editar Item":"Novo Item"}),n.jsxs("form",{onSubmit:x,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),n.jsx("input",{type:"text",value:c.name,onChange:N=>d({...c,name:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),n.jsx("input",{type:"text",value:c.sku,onChange:N=>d({...c,sku:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidade de Medida"}),n.jsxs("select",{value:c.unit,onChange:N=>d({...c,unit:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"unidade",children:"Unidade"}),n.jsx("option",{value:"par",children:"Par"}),n.jsx("option",{value:"conjunto",children:"Conjunto"}),n.jsx("option",{value:"metro",children:"Metro"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Atual"}),n.jsx("input",{type:"number",min:"0",value:c.currentStock,onChange:N=>d({...c,currentStock:parseInt(N.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mnimo"}),n.jsx("input",{type:"number",min:"0",value:c.minimumStock,onChange:N=>d({...c,minimumStock:parseInt(N.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),n.jsxs("div",{className:"flex space-x-2 sm:space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{l(!1),o(null),d({name:"",sku:"",unit:"unidade",currentStock:0,minimumStock:0})},className:"flex-1 px-2 sm:px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all text-xs sm:text-sm",children:"Cancelar"}),n.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-green-600 text-white px-2 sm:px-4 py-2 rounded-lg hover:from-blue-700 hover:to-green-700 transition-all text-xs sm:text-sm",children:i?"Salvar":"Criar"})]})]})]})})]})},tm=({open:e,onClose:t,onConfirm:s})=>{const[r,a]=h.useState(""),[l,i]=h.useState("signature"),[o,c]=h.useState(null),[d,x]=h.useState(null),[p,j]=h.useState(!1),$=h.useRef(null),N=h.useRef(!1),{addToast:S}=Rn();h.useEffect(()=>{if(e){a(""),c(null),d&&(URL.revokeObjectURL(d),x(null)),i("signature");const v=$.current;if(v){const y=v.getContext("2d");y&&(y.fillStyle="#ffffff",y.fillRect(0,0,v.width,v.height))}}},[e]),h.useEffect(()=>()=>{d&&URL.revokeObjectURL(d)},[]);const P=v=>{N.current=!0,u(v)},m=()=>{N.current=!1},u=v=>{if(!N.current)return;const y=$.current;if(!y)return;const b=y.getContext("2d");if(!b)return;const R=y.getBoundingClientRect(),G=v.touches?v.touches[0].clientX:v.clientX,g=v.touches?v.touches[0].clientY:v.clientY,M=G-R.left,q=g-R.top;b.fillStyle="#111827",b.beginPath(),b.arc(M,q,1.6,0,Math.PI*2),b.fill()},f=()=>{const v=$.current;if(!v)return;const y=v.getContext("2d");y&&(y.fillStyle="#ffffff",y.fillRect(0,0,v.width,v.height))},E=async()=>{if(r){j(!0);try{let v;if(l==="signature"){const b=$.current.toDataURL("image/png");v=await(await fetch(b)).blob()}else{if(!o)return;v=o}await s({receiverName:r,confirmationType:l,file:v}),S({type:"success",message:"Entrega confirmada com sucesso!"}),t()}finally{j(!1)}}};return e?n.jsxs("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-[1px] flex items-center justify-center z-50 p-4 transition-opacity animate-fade-in",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-xl transform animate-scale-in",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Confirmar Entrega"}),n.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:""})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recebido por"}),n.jsx("input",{type:"text",value:r,onChange:v=>a(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome de quem recebeu"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:()=>i("signature"),className:`px-3 py-2 rounded border ${l==="signature"?"bg-blue-600 text-white border-blue-600":"border-gray-300"}`,children:[n.jsx(af,{className:"inline w-4 h-4 mr-1"})," Assinatura"]}),n.jsxs("button",{onClick:()=>i("photo"),className:`px-3 py-2 rounded border ${l==="photo"?"bg-blue-600 text-white border-blue-600":"border-gray-300"}`,children:[n.jsx(Wh,{className:"inline w-4 h-4 mr-1"})," Foto"]})]}),l==="signature"?n.jsxs("div",{children:[n.jsx("div",{className:"mb-2 text-sm text-gray-600",children:"Desenhe a assinatura abaixo"}),n.jsx("canvas",{ref:$,width:500,height:200,className:"border border-gray-300 rounded w-full",onMouseDown:P,onMouseMove:u,onMouseUp:m,onMouseLeave:m,onTouchStart:P,onTouchMove:u,onTouchEnd:m}),n.jsx("button",{onClick:f,className:"mt-2 text-sm px-3 py-1 border border-gray-300 rounded hover:bg-gray-50",children:"Limpar"})]}):n.jsxs("div",{children:[n.jsx("input",{type:"file",accept:"image/*",onChange:async v=>{var R;const y=((R=v.target.files)==null?void 0:R[0])||null;if(!y){c(null),d&&(URL.revokeObjectURL(d),x(null));return}if(y.size>20*1024*1024){S({type:"error",message:"Imagem muito grande (limite 20MB)."});return}const b=await jf(y,1280,.8);c(b),d&&URL.revokeObjectURL(d),x(URL.createObjectURL(b))},className:"block w-full text-sm"}),d&&n.jsxs("div",{className:"mt-2",children:[n.jsx("img",{src:d,alt:"Preview",className:"w-full max-h-48 object-cover rounded border"}),n.jsx("button",{type:"button",onClick:()=>{d&&URL.revokeObjectURL(d),x(null),c(null)},className:"mt-1 text-xs text-red-600 hover:text-red-800",children:"Remover foto"})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-2",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{disabled:p||!r||l==="photo"&&!o,onClick:E,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded",children:p?"Enviando...":"Confirmar Entrega"})]})]})]}),n.jsx("style",{children:`
        @keyframes fade-in { from { opacity: 0 } to { opacity: 1 } }
        .animate-fade-in { animation: fade-in 150ms ease-out }
        @keyframes scale-in { from { opacity: 0; transform: translateY(6px) scale(0.98) } to { opacity: 1; transform: translateY(0) scale(1) } }
        .animate-scale-in { animation: scale-in 160ms ease-out }
      `})]}):null};async function jf(e,t,s){try{if(!e.type.startsWith("image/"))return e;const r=await createImageBitmap(e).catch(()=>null);if(!r)return e;let{width:a,height:l}=r;if(a<=t&&l<=t)return e;const i=a>l?t/a:t/l,o=Math.round(a*i),c=Math.round(l*i),d=document.createElement("canvas");d.width=o,d.height=c;const x=d.getContext("2d");if(!x)return e;x.drawImage(r,0,0,o,c);const p=e.type==="image/png"?"image/png":"image/jpeg",j=await new Promise($=>d.toBlob(N=>$(N||e),p,s));return new File([j],e.name.replace(/\.(png|jpg|jpeg|webp)$/i,p==="image/png"?".png":".jpg"),{type:j.type})}catch{return e}}function bf(e){const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"";const s=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return`${s}/${r}/${a}`}function Dt(e){const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"";const s=bf(t),r=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0");return`${s} ${r}:${a}`}const wf=()=>{var u,f,E,v,y;const{orders:e,updateOrderStatus:t,deleteOrder:s,confirmOrderDelivery:r}=_e(),[a,l]=h.useState(""),[i,o]=h.useState("all"),[c,d]=h.useState(null),[x,p]=h.useState(!1),[j,$]=h.useState(null),N=e.filter(b=>{var g,M,q;const R=((g=b.bed)==null?void 0:g.number.toLowerCase().includes(a.toLowerCase()))||((q=(M=b.bed)==null?void 0:M.sector)==null?void 0:q.name.toLowerCase().includes(a.toLowerCase())),G=i==="all"||b.status===i;return R&&G}),S=b=>{switch(b){case"pending":return n.jsx(io,{className:"w-4 h-4 text-yellow-500"});case"preparing":return n.jsx(it,{className:"w-4 h-4 text-blue-500"});case"delivered":return n.jsx(Vh,{className:"w-4 h-4 text-green-500"});case"cancelled":return n.jsx(Ic,{className:"w-4 h-4 text-red-500"});default:return null}},P=b=>{switch(b){case"pending":return"Pendente";case"preparing":return"Em Separao";case"delivered":return"Entregue";case"cancelled":return"Cancelado";default:return b}},m=(b,R)=>{$(b),t(b,R),setTimeout(()=>$(null),1e3)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ht,{showOnAction:!0}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gesto de Pedidos"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie todos os pedidos de enxoval"})]}),n.jsx("div",{className:"bg-white rounded-xl p-3 sm:p-4 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(cf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar por leito ou setor...",value:a,onChange:b=>l(b.target.value),className:"w-full pl-10 pr-4 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Zh,{className:"w-4 h-4 text-gray-400"}),n.jsxs("select",{value:i,onChange:b=>o(b.target.value),className:"px-2 sm:px-3 py-2 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Status"}),n.jsx("option",{value:"pending",children:"Pendente"}),n.jsx("option",{value:"preparing",children:"Em Separao"}),n.jsx("option",{value:"delivered",children:"Entregue"}),n.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:N.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx(it,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum pedido encontrado"}),n.jsx("p",{className:"text-gray-500",children:"No h pedidos que correspondam aos filtros selecionados."})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"divide-y divide-gray-100",children:N.map(b=>{var R,G,g;return n.jsx("div",{className:"p-4 sm:p-6 hover:bg-gray-50 transition-colors transform animate-fade-in",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-0",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:[(G=(R=b.bed)==null?void 0:R.sector)==null?void 0:G.name," - Leito ",(g=b.bed)==null?void 0:g.number]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[S(b.status),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b.status==="pending"?"bg-yellow-100 text-yellow-800":b.status==="preparing"?"bg-blue-100 text-blue-800":b.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P(b.status)})]})]}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Itens:"})," ",b.items.map(M=>{var q;return`${M.quantity}x ${(q=M.item)==null?void 0:q.name}`}).join(", ")]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Data:"})," ",Dt(b.createdAt)]}),b.status==="delivered"&&b.receiverName&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Recebido por:"})," ",b.receiverName]}),b.status==="delivered"&&b.deliveredAt&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Entregue em:"})," ",Dt(b.deliveredAt)]}),b.status==="delivered"&&b.confirmationUrl&&n.jsxs("p",{className:"mt-1",children:[n.jsx("span",{className:"font-medium",children:"Comprovante:"}),n.jsx("button",{onClick:()=>{try{const M=b.confirmationUrl;if(!M)return;if(/^https?:\/\//i.test(M)){window.open(M,"_blank","noopener,noreferrer");return}const z=window.location.origin.includes("localhost")?"http://localhost:4000":window.location.origin,T=M.startsWith("/")?`${z}${M}`:`${z}/${M}`;window.open(T,"_blank","noopener,noreferrer")}catch(M){console.error("Erro ao abrir comprovante:",M),alert("Erro ao abrir o comprovante. Tente novamente.")}},className:"ml-1 text-blue-600 hover:text-blue-800 underline cursor-pointer",children:"ver arquivo"})]}),b.observations&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Observaes:"})," ",b.observations]}),b.scheduledDelivery&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Entrega agendada:"})," ",Dt(b.scheduledDelivery)]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:space-x-2",children:[n.jsx("button",{onClick:()=>d(b),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Ver detalhes",children:n.jsx(co,{className:"w-4 h-4"})}),b.status!=="delivered"&&n.jsx("button",{onClick:()=>{d(b),p(!0)},disabled:j===b.id,className:"px-2 sm:px-3 py-1 text-xs sm:text-sm bg-green-600 hover:bg-green-700 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:j===b.id?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-3 h-3 border border-white border-t-transparent rounded-full animate-spin mr-1"}),n.jsx("span",{className:"hidden sm:inline",children:"Atualizando..."}),n.jsx("span",{className:"sm:hidden",children:"..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"hidden sm:inline",children:"Confirmar Entrega"}),n.jsx("span",{className:"sm:hidden",children:"Confirmar"})]})}),n.jsx("button",{onClick:()=>{confirm("Excluir este pedido? Esta ao no pode ser desfeita.")&&s(b.id)},className:"px-2 sm:px-3 py-1 text-xs sm:text-sm bg-red-600 hover:bg-red-700 text-white rounded",title:"Excluir pedido",children:"Excluir"}),n.jsxs("select",{value:b.status,onChange:M=>m(b.id,M.target.value),disabled:j===b.id,className:"px-2 py-1 text-xs sm:text-sm border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx("option",{value:"pending",children:"Pendente"}),n.jsx("option",{value:"preparing",children:"Em Separao"}),n.jsx("option",{value:"delivered",children:"Entregue"}),n.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})]})},b.id)})}),n.jsx("style",{children:`
            @keyframes fade-in { from { opacity: 0; transform: translateY(4px) } to { opacity: 1; transform: translateY(0) } }
            .animate-fade-in { animation: fade-in 180ms ease-out }
          `})]})}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Detalhes do Pedido"}),n.jsx("button",{onClick:()=>d(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:n.jsx(Ic,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Informaes do Leito"}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Setor:"})," ",(f=(u=c.bed)==null?void 0:u.sector)==null?void 0:f.name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Leito:"})," ",(E=c.bed)==null?void 0:E.number]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Status do Leito:"}),n.jsx("span",{className:`ml-1 px-2 py-1 text-xs rounded-full ${((v=c.bed)==null?void 0:v.status)==="occupied"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:((y=c.bed)==null?void 0:y.status)==="occupied"?"Ocupado":"Livre"})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Itens Solicitados"}),n.jsx("div",{className:"space-y-2",children:c.items.map((b,R)=>{var G,g,M;return n.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:(G=b.item)==null?void 0:G.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",(g=b.item)==null?void 0:g.sku]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("p",{className:"font-medium",children:[b.quantity," ",(M=b.item)==null?void 0:M.unit]})})]},R)})})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Informaes Adicionais"}),n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Status:"}),n.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${c.status==="pending"?"bg-yellow-100 text-yellow-800":c.status==="preparing"?"bg-blue-100 text-blue-800":c.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:P(c.status)})]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Data do Pedido:"})," ",Dt(c.createdAt)]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"ltima Atualizao:"})," ",Dt(c.updatedAt)]}),c.observations&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Observaes:"})," ",c.observations]}),c.scheduledDelivery&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Entrega Agendada:"})," ",Dt(c.scheduledDelivery)]}),c.status==="delivered"&&c.receiverName&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Recebido por:"})," ",c.receiverName]}),c.status==="delivered"&&c.deliveredAt&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Entregue em:"})," ",Dt(c.deliveredAt)]}),c.status==="delivered"&&c.confirmationUrl&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Comprovante:"}),n.jsx("button",{onClick:()=>{try{const b=c.confirmationUrl;if(b&&b.startsWith("http"))window.open(b,"_blank","noopener,noreferrer");else if(b){const R=window.location.origin.includes("localhost")?"http://localhost:4000":window.location.origin,G=b.startsWith("/")?`${R}${b}`:`${R}/${b}`;window.open(G,"_blank","noopener,noreferrer")}}catch(b){console.error("Erro ao abrir comprovante:",b),alert("Erro ao abrir o comprovante. Tente novamente.")}},className:"ml-1 text-blue-600 hover:text-blue-800 underline cursor-pointer",children:"ver arquivo"})]})]})]})]})]})}),n.jsx(tm,{open:x&&!!c,onClose:()=>p(!1),onConfirm:async({receiverName:b,confirmationType:R,file:G})=>{c&&(await r({orderId:c.id,receiverName:b,confirmationType:R,file:G}),p(!1),d(null))}})]})};function Nf(e){return e&&e.replace(/\D/g,"")||void 0}function Ma(e){const t=encodeURIComponent(e.text);if(e.phone){const s=Nf(e.phone);if(s)return`https://api.whatsapp.com/send?phone=${s}&text=${t}&type=phone_number&app_absent=0`}return`https://api.whatsapp.com/send?text=${t}`}const Pc=[{value:"Roupa nova",label:"Roupa nova",description:"Peas novas adquiridas/compradas para o estoque"},{value:"Retorno",label:"Retorno",description:"Roupa limpa retornando da lavanderia"}],Lc=[{value:"Distribuio",label:"Distribuio",description:"Distribuio normal para leitos/setores"},{value:"Relavagem",label:"Relavagem",description:"Peas enviadas para nova lavagem por problemas de qualidade"},{value:"Descarte",label:"Descarte",description:"Peas descartadas por desgaste ou danos irreparveis"}],kf=()=>{const{linenItems:e,addStockMovement:t,clients:s,adminClientIdFilter:r,setAdminClientIdFilter:a}=_e(),{user:l}=Re(),i=ve(),o=h.useMemo(()=>localStorage.getItem("token")||"",[]),[c,d]=h.useState(""),[x,p]=h.useState("in"),[j,$]=h.useState(0),[N,S]=h.useState(""),[P,m]=h.useState(!1),[u,f]=h.useState(()=>new Date().toISOString().split("T")[0]),[E,v]=h.useState([]),[y,b]=h.useState(!1),R=w=>{w.preventDefault();const C=e.find(W=>W.id===c);C&&(t({itemId:C.id,type:x,quantity:j,reason:N}),d(""),$(0),S(""))},G=(l==null?void 0:l.role)==="admin"?r||void 0:l==null?void 0:l.clientId,g=e.filter(w=>w.clientId?w.clientId===G:!0),M=g.filter(w=>w.currentStock<=w.minimumStock),q=g.length,z=g.reduce((w,C)=>w+C.currentStock,0),T=()=>{const w="Status do Estoque",C=`<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>${w}</title>
    <style>
      body { font-family: Arial, sans-serif; color:#111827; margin:24px; }
      h1 { font-size:20px; margin:0 0 8px; }
      .muted { color:#6b7280; margin-bottom:16px; }
      .card { border:1px solid #e5e7eb; border-radius:8px; padding:12px; margin:12px 0; }
      table { width:100%; border-collapse:collapse; }
      th, td { text-align:left; padding:6px 8px; border-bottom:1px solid #f3f4f6; font-size:12px; }
      .badge { display:inline-block; padding:2px 6px; border-radius:999px; font-size:11px; }
      .ok { background:#d1fae5; color:#065f46; }
      .low { background:#fee2e2; color:#991b1b; }
      .brand { display:flex; align-items:center; gap:10px; margin-bottom:10px; }
      .brand img { height:40px; }
    </style>
  </head>
  <body>
    <div class="brand">
      <img src="${window.location.origin}/ecolav.png" alt="ECOLAV" />
      <h1>${w}  ECOLAV</h1>
    </div>
    <div class="muted">Resumo do estoque atual</div>
    <div class="card">
      <div>Total de itens: <b>${q}</b></div>
      <div>Estoque total (unid.): <b>${z}</b></div>
      <div>Itens com estoque baixo: <b>${M.length}</b></div>
    </div>
    <div class="card">
      <table>
        <thead><tr><th>Item</th><th>SKU</th><th>Estoque</th><th>Mnimo</th><th>Status</th></tr></thead>
        <tbody>
          ${g.map(ee=>`<tr><td>${ee.name}</td><td>${ee.sku}</td><td>${ee.currentStock} ${ee.unit}</td><td>${ee.minimumStock} ${ee.unit}</td><td><span class="badge ${ee.currentStock<=ee.minimumStock?"low":"ok"}">${ee.currentStock<=ee.minimumStock?"Baixo":"OK"}</span></td></tr>`).join("")}
        </tbody>
      </table>
    </div>
    <script>window.onload = () => { window.print(); };<\/script>
  </body>
</html>`,W=window.open("","print");W&&(W.document.write(C),W.document.close())},D=()=>{var H;const w=[],C=g.filter(K=>K.currentStock<=K.minimumStock),W=g.filter(K=>K.currentStock>K.minimumStock),ee=K=>[` ${K.name} (SKU ${K.sku})`,`  Quantidade: ${K.currentStock} ${K.unit}`,`  Mnimo: ${K.minimumStock} ${K.unit}`,`  Status: ${K.currentStock<=K.minimumStock?"Baixo":"OK"}`].join(`
`);w.push(" *Relatrio Completo de Estoque*"),w.push(""),w.push(`Total de itens: *${q}*`),w.push(`Estoque total (unid.): *${z}*`),w.push(""),C.length>0&&(w.push(" *Itens com estoque baixo*"),w.push(""),C.forEach(K=>{w.push(ee(K)),w.push("")})),W.length>0&&(w.push(" *Itens com estoque OK*"),w.push(""),W.forEach(K=>{w.push(ee(K)),w.push("")}));const ne=(l==null?void 0:l.role)==="admin"?r||void 0:l==null?void 0:l.clientId,ie=((H=s.find(K=>K.id===ne||""))==null?void 0:H.whatsappNumber)||void 0,I=Ma({text:w.join(`
`),phone:ie});window.open(I,"_blank")},O=h.useCallback(async w=>{if(!(!i||!o)){b(!0);try{const C=new URL(`${i}/stock-movements`);(l==null?void 0:l.role)==="admin"&&r&&C.searchParams.set("clientId",r);const W=await fetch(C.toString(),{headers:{Authorization:`Bearer ${o}`}});if(W.ok){const ne=(await W.json()).filter(ie=>new Date(ie.createdAt).toISOString().split("T")[0]===w);v(ne)}}catch(C){console.error("Erro ao buscar entradas:",C)}finally{b(!1)}}},[i,o,l==null?void 0:l.role,r]),J=()=>{m(!0),O(u)};h.useEffect(()=>{P&&O(u)},[u,P,O]);const k=h.useMemo(()=>{const w=E.filter(Z=>Z.type==="in"),C=E.filter(Z=>Z.type==="out"),W=w.reduce((Z,ae)=>Z+ae.quantity,0),ee=C.reduce((Z,ae)=>Z+ae.quantity,0),ne=new Set(E.map(Z=>Z.itemId)).size,ie=E.filter(Z=>Z.reason==="Relavagem"),I=E.filter(Z=>Z.reason==="Descarte"),H=ie.reduce((Z,ae)=>Z+ae.quantity,0),K=I.reduce((Z,ae)=>Z+ae.quantity,0);return{totalEntradas:W,totalSaidas:ee,uniqueItems:ne,totalEntries:E.length,totalMovimentacoes:w.length+C.length,relavagens:ie.length,descartes:I.length,totalRelavagem:H,totalDescarte:K}},[E]),_=()=>{var H,K;const[w,C,W]=u.split("-"),ee=`Relatrio de Entradas de Estoque  ${W}/${C}/${w}`,ne=(l==null?void 0:l.role)==="admin"&&r?(H=s.find(Z=>Z.id===r))==null?void 0:H.name:l!=null&&l.clientId?(K=s.find(Z=>Z.id===l.clientId))==null?void 0:K.name:"",ie=`<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>${ee}</title>
    <style>
      body { font-family: Arial, sans-serif; color:#111827; margin:24px; }
      h1 { font-size:20px; margin:0 0 8px; }
      .muted { color:#6b7280; margin-bottom:16px; }
      .card { border:1px solid #e5e7eb; border-radius:8px; padding:12px; margin:12px 0; }
      table { width:100%; border-collapse:collapse; }
      th, td { text-align:left; padding:6px 8px; border-bottom:1px solid #f3f4f6; font-size:12px; }
      .brand { display:flex; align-items:center; gap:10px; margin-bottom:10px; }
      .brand img { height:40px; }
    </style>
  </head>
  <body>
    <div class="brand">
      <img src="${window.location.origin}/ecolav.png" alt="ECOLAV" />
      <h1>${ee}  ECOLAV</h1>
    </div>
    <div class="muted">${ne?`Cliente: ${ne}  `:""}Data: ${W}/${C}/${w}</div>
    <div class="card">
      <div style="font-weight:600; margin-bottom:8px;">Resumo do Dia</div>
      <div>Entradas: <b>+${k.totalEntradas} peas</b></div>
      <div>Sadas: <b>-${k.totalSaidas} peas</b></div>
      <div>Total de movimentaes: <b>${k.totalMovimentacoes}</b></div>
      <div>Itens diferentes: <b>${k.uniqueItems}</b></div>
      ${k.relavagens>0||k.descartes>0?`
        <div style="margin-top:12px; padding:12px; background:#fef2f2; border:2px solid #dc2626; border-radius:8px;">
          <div style="font-weight:600; color:#991b1b; margin-bottom:4px;"> Ateno - Sadas Especiais</div>
          ${k.relavagens>0?`<div style="color:#991b1b;"> Relavagens: <b>${k.relavagens} registros (${k.totalRelavagem} peas)</b></div>`:""}
          ${k.descartes>0?`<div style="color:#991b1b;"> Descartes: <b>${k.descartes} registros (${k.totalDescarte} peas)</b></div>`:""}
        </div>
      `:""}
    </div>
    <div class="card">
      <table>
        <thead><tr><th>Hora</th><th>Item</th><th>SKU</th><th>Quantidade</th><th>Motivo</th></tr></thead>
        <tbody>
          ${E.map(Z=>{var se,me,ce;const ae=Z.reason==="Relavagem"||Z.reason==="Descarte";return`<tr${ae?' style="background:#fef2f2; border-left:4px solid #dc2626;"':""}>
              <td>${new Date(Z.createdAt).toLocaleTimeString("pt-BR")}</td>
              <td>${((se=Z.item)==null?void 0:se.name)||""}</td>
              <td>${((me=Z.item)==null?void 0:me.sku)||""}</td>
              <td>${Z.quantity} ${((ce=Z.item)==null?void 0:ce.unit)||""}</td>
              <td>${ae?`<b style="color:#991b1b;">${Z.reason==="Relavagem"?"":""} ${Z.reason}</b>`:Z.reason}</td>
            </tr>`}).join("")}
        </tbody>
      </table>
    </div>
    <script>window.onload = () => { window.print(); };<\/script>
  </body>
</html>`,I=window.open("","print");I&&(I.document.write(ie),I.document.close())};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ht,{showOnAction:!0}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"Controle de Estoque"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Gerencie os estoques e movimentaes"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[(l==null?void 0:l.role)==="admin"&&n.jsxs("select",{value:r??"",onChange:w=>a&&a(w.target.value||null),className:"px-2 sm:px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-xs sm:text-sm",children:[n.jsx("option",{value:"",children:"Todos os clientes"}),s.map(w=>n.jsx("option",{value:w.id,children:w.name},w.id))]}),n.jsxs("button",{onClick:J,className:"flex items-center space-x-1 sm:space-x-2 bg-purple-600 text-white px-2 sm:px-3 py-2 rounded-lg hover:bg-purple-700 transition-all text-xs sm:text-sm",children:[n.jsx(La,{className:"w-3 h-3 sm:w-4 sm:h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Movimentaes por Dia"}),n.jsx("span",{className:"sm:hidden",children:"Movimentaes"})]}),n.jsxs("button",{onClick:T,className:"flex items-center space-x-1 sm:space-x-2 bg-blue-600 text-white px-2 sm:px-3 py-2 rounded-lg hover:bg-blue-700 transition-all text-xs sm:text-sm",children:[n.jsx(Ju,{className:"w-3 h-3 sm:w-4 sm:h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Exportar PDF"}),n.jsx("span",{className:"sm:hidden",children:"PDF"})]}),n.jsxs("button",{onClick:D,className:"flex items-center space-x-1 sm:space-x-2 bg-green-600 text-white px-2 sm:px-3 py-2 rounded-lg hover:bg-green-700 transition-all text-xs sm:text-sm",children:[n.jsx(ua,{className:"w-3 h-3 sm:w-4 sm:h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Enviar WhatsApp"}),n.jsx("span",{className:"sm:hidden",children:"WhatsApp"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total de Itens"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:q})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(it,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Estoque Total"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:z})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(cs,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Estoque Baixo"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:M.length})]}),n.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:n.jsx(df,{className:"w-6 h-6 text-red-600"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Movimentao de Estoque"}),n.jsxs("form",{onSubmit:R,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item"}),n.jsxs("select",{value:c,onChange:w=>d(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Selecione um item"}),g.map(w=>n.jsxs("option",{value:w.id,children:[w.name," - ",w.currentStock," ",w.unit]},w.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Movimentao"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",value:"in",checked:x==="in",onChange:w=>{p(w.target.value),S("")},className:"mr-2 text-blue-600 focus:ring-blue-500"}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(gn,{className:"w-4 h-4 text-green-500 mr-1"}),"Entrada"]})]}),n.jsxs("label",{className:"flex items-center",children:[n.jsx("input",{type:"radio",value:"out",checked:x==="out",onChange:w=>{p(w.target.value),S("")},className:"mr-2 text-blue-600 focus:ring-blue-500"}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Zu,{className:"w-4 h-4 text-red-500 mr-1"}),"Sada"]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),n.jsx("input",{type:"number",min:"1",value:j||"",onChange:w=>$(parseInt(w.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo"}),n.jsxs("select",{value:N,onChange:w=>S(w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Selecione o motivo"}),x==="in"&&n.jsx(n.Fragment,{children:Pc.map(w=>n.jsx("option",{value:w.value,title:w.description,children:w.label},w.value))}),x==="out"&&n.jsx(n.Fragment,{children:Lc.map(w=>n.jsx("option",{value:w.value,title:w.description,children:w.label},w.value))})]}),n.jsxs("div",{className:"mt-2 space-y-1",children:[x==="in"&&Pc.map(w=>n.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-600",children:[n.jsx(da,{className:"w-3 h-3 mt-0.5 text-blue-500 flex-shrink-0"}),n.jsxs("span",{children:[n.jsxs("strong",{children:[w.label,":"]})," ",w.description]})]},w.value)),x==="out"&&Lc.map(w=>n.jsxs("div",{className:"flex items-start gap-2 text-xs text-gray-600",children:[n.jsx(da,{className:"w-3 h-3 mt-0.5 text-blue-500 flex-shrink-0"}),n.jsxs("span",{children:[n.jsxs("strong",{children:[w.label,":"]})," ",w.description]})]},w.value))]})]}),n.jsx("button",{type:"submit",disabled:!c||!j||!N,className:"w-full bg-gradient-to-r from-blue-600 to-green-600 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Registrar Movimentao"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status do Estoque"}),n.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:g.map(w=>n.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:w.name}),n.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w.currentStock<=w.minimumStock?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:[w.currentStock," ",w.unit]})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[n.jsxs("span",{children:["Mnimo: ",w.minimumStock," ",w.unit]}),n.jsxs("span",{children:["SKU: ",w.sku]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all ${w.currentStock<=w.minimumStock?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(100,w.currentStock/(w.minimumStock*2)*100)}%`}})})]},w.id))})]})]}),P&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Movimentaes de Estoque por Dia"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Visualize todas as entradas e sadas do estoque"})]}),n.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(ma,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"p-4 border-b space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Selecione a Data:"}),n.jsx("input",{type:"date",value:u,onChange:w=>f(w.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[n.jsx("div",{className:"text-xs text-green-600 mb-1",children:"Entradas"}),n.jsxs("div",{className:"text-xl font-bold text-green-700",children:["+",k.totalEntradas]})]}),n.jsxs("div",{className:"bg-red-50 rounded-lg p-3",children:[n.jsx("div",{className:"text-xs text-red-600 mb-1",children:"Sadas"}),n.jsxs("div",{className:"text-xl font-bold text-red-700",children:["-",k.totalSaidas]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[n.jsx("div",{className:"text-xs text-blue-600 mb-1",children:"Movimentaes"}),n.jsx("div",{className:"text-xl font-bold text-blue-700",children:k.totalMovimentacoes})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[n.jsx("div",{className:"text-xs text-purple-600 mb-1",children:"Itens Diferentes"}),n.jsx("div",{className:"text-xl font-bold text-purple-700",children:k.uniqueItems})]})]}),(k.relavagens>0||k.descartes>0)&&n.jsx("div",{className:"bg-red-50 border-2 border-red-500 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"text-red-600 text-lg",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-semibold text-red-900 mb-2",children:"Ateno - Sadas Especiais"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[k.relavagens>0&&n.jsxs("div",{className:"text-red-800",children:[" ",n.jsx("strong",{children:"Relavagens:"})," ",k.relavagens," registros (",k.totalRelavagem," peas)"]}),k.descartes>0&&n.jsxs("div",{className:"text-red-800",children:[" ",n.jsx("strong",{children:"Descartes:"})," ",k.descartes," registros (",k.totalDescarte," peas)"]})]})]})]})}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("button",{onClick:_,disabled:E.length===0,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[n.jsx(oo,{className:"w-4 h-4"}),"Exportar PDF"]})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:y?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Carregando..."}):E.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhuma movimentao registrada nesta data"}):n.jsx("div",{className:"space-y-2",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left p-3 text-sm font-medium text-gray-700",children:"Hora"}),n.jsx("th",{className:"text-left p-3 text-sm font-medium text-gray-700",children:"Item"}),n.jsx("th",{className:"text-left p-3 text-sm font-medium text-gray-700",children:"SKU"}),n.jsx("th",{className:"text-left p-3 text-sm font-medium text-gray-700",children:"Quantidade"}),n.jsx("th",{className:"text-left p-3 text-sm font-medium text-gray-700",children:"Motivo"})]})}),n.jsx("tbody",{className:"divide-y",children:E.map(w=>{var ne,ie,I;const C=w.reason==="Relavagem",W=w.reason==="Descarte",ee=C||W;return n.jsxs("tr",{className:`hover:bg-gray-50 ${ee?"bg-red-50 border-l-4 border-l-red-500":""}`,children:[n.jsx("td",{className:"p-3 text-sm",children:new Date(w.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),n.jsx("td",{className:"p-3 text-sm font-medium",children:((ne=w.item)==null?void 0:ne.name)||""}),n.jsx("td",{className:"p-3 text-sm text-gray-600",children:((ie=w.item)==null?void 0:ie.sku)||""}),n.jsx("td",{className:"p-3 text-sm",children:n.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full font-medium ${w.type==="in"?"bg-green-100 text-green-800":ee?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:[w.type==="in"?"+":"-",w.quantity," ",((I=w.item)==null?void 0:I.unit)||""]})}),n.jsx("td",{className:"p-3 text-sm",children:ee?n.jsxs("span",{className:"font-semibold text-red-800 flex items-center gap-1",children:[C?"":""," ",w.reason]}):n.jsx("span",{className:"text-gray-600",children:w.reason})})]},w.id)})})]})})})]})})]})},Sf=()=>{const{addToast:e}=Rn(),[t,s]=h.useState("control"),[r,a]=h.useState([]),[l,i]=h.useState(!1),[o,c]=h.useState(null),[d,x]=h.useState({barcode:"",tareWeight:""}),[p,j]=h.useState(null),[$,N]=h.useState(""),[S,P]=h.useState("limpa"),[m,u]=h.useState(()=>{const I=new Date;return I.setDate(I.getDate()+1),I.toISOString().slice(0,10)}),[f,E]=h.useState([]),[v,y]=h.useState({cageIdOrManual:"cage",cageId:void 0,tare:"",total:""}),[b,R]=h.useState(!1),[G,g]=h.useState(!1),[M,q]=h.useState(!1),z=h.useMemo(()=>localStorage.getItem("token")||"",[]),{user:T}=Re(),{adminClientIdFilter:D}=_e(),O=ve(),J=h.useMemo(()=>({Authorization:`Bearer ${z}`,"Content-Type":"application/json"}),[z]),k=Bc.useCallback(async()=>{R(!0);try{const I=await fetch(`${O}/gaiolas`,{headers:{Authorization:`Bearer ${z}`}});if(I.ok){const K=(await I.json()).map(Z=>({id:Z.id,barcode:Z.barcode,tareWeight:Number(Z.tareWeight),createdAt:Z.createdAt}));a(K)}}catch{}finally{R(!1)}},[O,z]),_=()=>{c(null),x({barcode:"",tareWeight:""}),i(!0)},w=async I=>{I.preventDefault();try{const H={codigo_barras:d.barcode.trim(),peso_tara:Number(d.tareWeight)},K=o?`${O}/gaiolas/${o.id}`:`${O}/gaiolas`,ae=await fetch(K,{method:o?"PUT":"POST",headers:J,body:JSON.stringify(H)});if(ae.status===409){e({type:"error",message:"Cdigo de barras j cadastrado."});return}ae.ok&&(i(!1),await k(),e({type:"success",message:o?"Gaiola atualizada!":"Gaiola cadastrada!"}))}catch{}},C=async I=>{confirm("Excluir esta gaiola?")&&(await fetch(`${O}/gaiolas/${I}`,{method:"DELETE",headers:{Authorization:`Bearer ${z}`}}),await k())},W=async()=>{if(S==="limpa"&&(!$||Number($)<=0)){e({type:"error",message:"Informe o peso bruto para roupa limpa."});return}const I={tipo:S};S==="limpa"&&(I.peso_bruto_lavanderia=Number($)),S==="suja"&&m&&/^\d{4}-\d{2}-\d{2}$/.test(m)&&(I.prevista=m),(T==null?void 0:T.role)==="admin"&&D&&(I.clientId=D);const H=await fetch(`${O}/controles`,{method:"POST",headers:J,body:JSON.stringify(I)});if(H.ok){const K=await H.json(),Z={id:K.id,laundryGrossWeight:Number(K.laundryGrossWeight),clientTotalNetWeight:Number(K.clientTotalNetWeight),differenceWeight:Number(K.differenceWeight),differencePercent:Number(K.differencePercent),kind:K.kind,referenceDate:K.referenceDate,createdAt:K.createdAt};j(Z),E([]),e({type:"success",message:"Controle iniciado!"}),N("")}},ee=async I=>{g(!0);try{const H=await fetch(`${O}/controles/${I}`,{headers:{Authorization:`Bearer ${z}`}});if(H.ok){const K=await H.json(),Z={id:K.id,laundryGrossWeight:Number(K.laundryGrossWeight),clientTotalNetWeight:Number(K.clientTotalNetWeight),differenceWeight:Number(K.differenceWeight),differencePercent:Number(K.differencePercent),createdAt:K.createdAt};j(Z);const ae=(K.entries||[]).map(se=>({id:String(se.id),controlId:String(se.controlId),cageId:se.cageId||void 0,tareWeight:Number(se.tareWeight),totalWeight:Number(se.totalWeight),netWeight:Number(se.netWeight),createdAt:String(se.createdAt),cage:se.cage?{id:se.cage.id,barcode:se.cage.barcode,tareWeight:Number(se.cage.tareWeight),createdAt:se.cage.createdAt}:void 0}));E(ae)}}finally{g(!1)}},ne=async I=>{if(I.preventDefault(),!p)return;const H={control_id:p.id,peso_total:Number(v.total)};v.cageIdOrManual==="cage"?H.cage_id=v.cageId:H.peso_tara=Number(v.tare||0),q(!0);try{(await fetch(`${O}/pesagens`,{method:"POST",headers:J,body:JSON.stringify(H)})).ok&&(await ee(p.id),y({cageIdOrManual:"cage",cageId:void 0,tare:"",total:""}),e({type:"success",message:"Pesagem adicionada!"}))}finally{q(!1)}};h.useEffect(()=>{k()},[k]);const ie=I=>I<=5?{text:"Dentro do padro",cls:"text-green-600 bg-green-100"}:I<=10?{text:"Ateno",cls:"text-yellow-600 bg-yellow-100"}:{text:"Fora do padro",cls:"text-red-600 bg-red-100"};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ht,{showOnAction:!0}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx("button",{onClick:()=>s("control"),className:`px-2 sm:px-3 py-2 rounded-lg text-xs sm:text-sm ${t==="control"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Controle"}),n.jsx("button",{onClick:()=>s("cages"),className:`px-2 sm:px-3 py-2 rounded-lg text-xs sm:text-sm ${t==="cages"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Gaiolas"})]}),t==="cages"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cadastro de Gaiolas"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie as gaiolas e suas taras."})]}),n.jsxs("button",{onClick:_,className:"bg-gradient-to-r from-blue-600 to-green-600 text-white px-3 py-2 rounded-lg flex items-center text-sm",children:[n.jsx(gn,{className:"w-4 h-4 mr-2"})," Nova Gaiola"]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:n.jsxs("div",{className:"divide-y",children:[b&&n.jsxs("div",{className:"p-4",children:[n.jsx(Pt,{className:"h-4 w-full"}),n.jsx(Pt,{className:"h-4 w-2/3 mt-2"})]}),r.length===0&&!b&&n.jsx("div",{className:"p-6 text-center text-gray-500",children:"Nenhuma gaiola cadastrada."}),r.map(I=>n.jsxs("div",{className:"p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium text-gray-900",children:I.barcode}),n.jsxs("div",{className:"text-gray-600",children:["Tara: ",I.tareWeight," kg"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{c(I),x({barcode:I.barcode,tareWeight:String(I.tareWeight)}),i(!0)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",children:n.jsx(ps,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>C(I.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(pn,{className:"w-4 h-4"})})]})]},I.id))]})}),l&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:o?"Editar Gaiola":"Nova Gaiola"}),n.jsxs("form",{onSubmit:w,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cdigo de Barras"}),n.jsx("input",{value:d.barcode,onChange:I=>x(H=>({...H,barcode:I.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Peso Tara (kg)"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:d.tareWeight,onChange:I=>x(H=>({...H,tareWeight:I.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("button",{type:"button",onClick:()=>{i(!1),c(null)},className:"flex-1 px-4 py-2 border rounded-lg",children:"Cancelar"}),n.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 rounded-lg text-white bg-gradient-to-r from-blue-600 to-green-600",children:"Salvar"})]})]})]})})]}),t==="control"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Controle de Pesagem"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Lance as pesagens e acompanhe as diferenas."})]})}),p?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 sm:gap-4",children:G?n.jsxs(n.Fragment,{children:[n.jsx(Nt,{}),n.jsx(Nt,{}),n.jsx(Nt,{}),n.jsx(Nt,{})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 border",children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Peso bruto lavanderia"}),n.jsxs("p",{className:"text-2xl font-bold",children:[p.laundryGrossWeight," kg"]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 border",children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Somatrio lquidos"}),n.jsxs("p",{className:"text-2xl font-bold",children:[p.clientTotalNetWeight," kg"]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 border",children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Diferena"}),n.jsxs("p",{className:"text-2xl font-bold",children:[p.differenceWeight," kg"]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 border flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Percentual"}),n.jsxs("p",{className:"text-2xl font-bold",children:[p.differencePercent,"%"]})]}),n.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${ie(p.differencePercent).cls}`,children:ie(p.differencePercent).text})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl p-6 border space-y-4",children:[n.jsx("h3",{className:"font-semibold",children:"Adicionar Pesagem"}),n.jsxs("form",{onSubmit:ne,className:"grid grid-cols-1 md:grid-cols-5 gap-3 items-end opacity-100",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tara"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{value:v.cageIdOrManual,onChange:I=>y(H=>({...H,cageIdOrManual:I.target.value})),className:"px-2 py-2 border rounded-lg",children:[n.jsx("option",{value:"cage",children:"Gaiola"}),n.jsx("option",{value:"manual",children:"Manual"})]}),v.cageIdOrManual==="cage"?n.jsxs("select",{value:v.cageId||"",onChange:I=>y(H=>({...H,cageId:I.target.value||void 0})),className:"flex-1 px-2 py-2 border rounded-lg",children:[n.jsx("option",{value:"",children:"Selecione a gaiola"}),r.map(I=>n.jsxs("option",{value:I.id,children:[I.barcode,"  ",I.tareWeight," kg"]},I.id))]}):n.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Tara (kg)",value:v.tare,onChange:I=>y(H=>({...H,tare:I.target.value})),className:"flex-1 px-3 py-2 border rounded-lg"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Peso Total (kg)"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:v.total,onChange:I=>y(H=>({...H,total:I.target.value})),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),n.jsx("button",{type:"submit",disabled:M,className:`px-4 py-2 rounded-lg text-white ${M?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:M?"Adicionando...":"Adicionar"})]})]}),n.jsx("div",{className:"bg-white rounded-xl border overflow-hidden",children:n.jsxs("div",{className:"divide-y",children:[M&&n.jsxs("div",{className:"p-3 sm:p-4",children:[n.jsx(Pt,{className:"h-4 w-full"}),n.jsx(Pt,{className:"h-4 w-5/6 mt-2"})]}),f.length===0&&!M&&n.jsx("div",{className:"p-6 text-center text-gray-500",children:"Nenhuma pesagem lanada."}),f.map(I=>n.jsx("div",{className:"p-4 flex items-center justify-between text-sm",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(di,{className:"w-4 h-4 text-gray-400"}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-gray-900 font-medium",children:[I.cage?`Gaiola ${I.cage.barcode}`:"Tara manual","  Lquido ",I.netWeight," kg"]}),n.jsxs("div",{className:"text-gray-600",children:["Total ",I.totalWeight," kg  Tara ",I.tareWeight," kg  ",new Date(I.createdAt).toLocaleString("pt-BR")]})]})]})},I.id))]})}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>j(null),className:"px-4 py-2 border rounded-lg",children:"Cancelar"}),n.jsxs("button",{onClick:async()=>{p&&(g(!0),await fetch(`${O}/controles/${p.id}/finalizar`,{method:"PUT",headers:{Authorization:`Bearer ${z}`}}),e({type:"success",message:"Pesagem finalizada! V em Acompanhamento para visualizar o comparativo."}),y({cageIdOrManual:"cage",cageId:void 0,tare:"",total:""}),N(""),P("limpa"),j(null),g(!1))},disabled:G,className:`px-4 py-2 rounded-lg text-white ${G?"bg-green-500/70 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-green-600"}`,children:["$","","Finalizar Pesagem"]})]})]}):n.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-3 sm:gap-4 items-end",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),n.jsxs("select",{value:S,onChange:I=>P(I.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[n.jsx("option",{value:"limpa",children:"Roupa Limpa"}),n.jsx("option",{value:"suja",children:"Roupa Suja"})]})]}),S==="limpa"&&n.jsxs("div",{className:"sm:col-span-2",children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Peso bruto informado pela lavanderia (kg)"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:$,onChange:I=>N(I.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),S==="suja"&&n.jsxs("div",{className:"sm:col-span-2",children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Data prevista de entrega"}),n.jsx("input",{type:"date",value:m,onChange:I=>u(I.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]}),n.jsx("button",{onClick:W,className:"px-3 sm:px-4 py-2 bg-gradient-to-r from-blue-600 to-green-600 text-white rounded-lg text-sm",children:"Iniciar Controle"})]})})]})]})},Cf=()=>{const e=ve(),t=h.useMemo(()=>localStorage.getItem("token")||"",[]),{user:s}=Re(),{sectors:r,beds:a,linenItems:l,stockMovements:i,adminClientIdFilter:o}=_e(),{addToast:c}=Rn(),[d,x]=h.useState({}),[p,j]=h.useState(""),[$,N]=h.useState([]),[S,P]=h.useState(!1),[m,u]=h.useState(!1),[f,E]=h.useState(!1),v=h.useMemo(()=>r.filter(T=>!p||T.id===p).map(T=>({...T,beds:a.filter(D=>D.sectorId===T.id)})),[r,a,p]),y=Bc.useCallback(async()=>{P(!0);const z=new URL(`${e}/distributed-items`);(s==null?void 0:s.role)==="admin"&&o&&z.searchParams.set("clientId",o),p&&z.searchParams.set("sectorId",p);const T=await fetch(z.toString(),{headers:{Authorization:`Bearer ${t}`}});if(T.ok){const D=await T.json();N(D)}P(!1)},[e,o,p,t,s==null?void 0:s.role]);h.useEffect(()=>{y()},[y]);const b=h.useMemo(()=>{const z=new Map;for(const T of $){const D=T.bedId;z.has(D)||z.set(D,[]),z.get(D).push(T)}return z},[$]),R=z=>{const T=new Date(z).getTime(),D=Date.now();return Math.floor((D-T)/(1e3*60*60))},G=()=>{const z=[["Setor","Leito","Pea","SKU","Alocado em","Horas no leito","Status"]];for(const k of v)for(const _ of k.beds){const w=b.get(_.id)||[];for(const C of w){const W=l.find(ee=>ee.id===C.linenItemId);z.push([k.name,_.number,(W==null?void 0:W.name)||C.linenItemId,(W==null?void 0:W.sku)||"",Dt(C.allocatedAt),String(R(C.allocatedAt)),C.status])}}const T=z.map(k=>k.map(_=>`"${(_??"").toString().replace(/"/g,'""')}"`).join(",")).join(`
`),D=new Blob([T],{type:"text/csv;charset=utf-8;"}),O=URL.createObjectURL(D),J=document.createElement("a");J.href=O,J.download="distribuicao_enxoval.csv",J.click(),URL.revokeObjectURL(O)},g=z=>{try{const T=new Date(z.allocatedAt).getTime(),D=5*60*1e3,O=i.filter(_=>{if(_.itemId!==z.linenItemId||_.type!=="out")return!1;const w=new Date(_.createdAt).getTime();return Math.abs(w-T)<=D&&typeof _.reason=="string"&&_.reason.includes("Distribuio manual")});if(O.length===0)return null;O.sort((_,w)=>Math.abs(new Date(_.createdAt).getTime()-T)-Math.abs(new Date(w.createdAt).getTime()-T));const k=O[0].reason.match(/por\s+([^\(]+)\s*\(/i);return k&&k[1]?k[1].trim():null}catch{return null}},M=async(z,T)=>{try{if(!(await fetch(`${e}/distributed-items/${z}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({status:T})})).ok){c({type:"error",message:"Falha ao atualizar item"});return}c({type:"success",message:T==="collected"?"Item coletado":"Item marcado para coleta"}),await y()}catch{c({type:"error",message:"Erro de rede"})}},q=async z=>{const T=(b.get(z)||[]).filter(D=>D.status!=="collected");if(T.length!==0)try{await Promise.all(T.map(D=>fetch(`${e}/distributed-items/${D.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({status:"collected"})}))),c({type:"success",message:"Leito limpo (itens coletados)"}),await y()}catch{c({type:"error",message:"Erro ao limpar leito"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ht,{}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gesto de Enxoval"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Visualize a alocao de peas por setor e leito"})]}),n.jsxs("button",{onClick:G,className:"px-2 sm:px-3 py-2 bg-gradient-to-r from-blue-600 to-green-600 text-white rounded-lg flex items-center text-xs sm:text-sm self-start sm:self-auto",children:[n.jsx(Jh,{className:"w-4 h-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Exportar CSV"}),n.jsx("span",{className:"sm:hidden",children:"Exportar"})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-stretch sm:items-end",children:[n.jsxs("div",{className:"w-full sm:w-64",children:[n.jsx("label",{className:"block text-xs sm:text-sm text-gray-700 mb-1",children:"Filtrar por Setor"}),n.jsxs("select",{value:p,onChange:z=>j(z.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm",children:[n.jsx("option",{value:"",children:"Todos"}),r.map(z=>n.jsx("option",{value:z.id,children:z.name},z.id))]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("label",{className:"text-xs sm:text-sm text-gray-700",children:[n.jsx("input",{type:"checkbox",className:"mr-2",checked:m,onChange:z=>u(z.target.checked)}),"Mostrar coletados"]}),n.jsxs("label",{className:"text-xs sm:text-sm text-gray-700",children:[n.jsx("input",{type:"checkbox",className:"mr-2",checked:f,onChange:z=>E(z.target.checked)}),"Somente Por setor"]}),n.jsx("button",{onClick:()=>{j(""),u(!1)},className:"px-3 py-2 border rounded-lg text-sm",children:"Limpar filtro"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border divide-y",children:[S&&n.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsx(Nt,{}),n.jsx(Nt,{})]}),v.map(z=>{const T=f?z.beds.filter(k=>k.number==="Sem leito (Setor)"):z.beds,D=T.reduce((k,_)=>{var w;return k+(((w=b.get(_.id))==null?void 0:w.length)||0)},0),O=z.beds.length,J=!!d[z.id];return n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>x(k=>({...k,[z.id]:!J})),className:"w-full px-3 sm:px-4 py-3 flex items-center justify-between hover:bg-gray-50",children:[n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:z.name}),n.jsxs("div",{className:"text-xs sm:text-sm text-gray-600",children:["Peas alocadas: ",D,"  Leitos: ",O]})]}),J?n.jsx(Qh,{className:"w-4 h-4 sm:w-5 sm:h-5"}):n.jsx(Gh,{className:"w-4 h-4 sm:w-5 sm:h-5"})]}),J&&n.jsx("div",{className:"px-3 sm:px-4 py-3 bg-gray-50",children:n.jsx("div",{className:"space-y-3",children:T.map(k=>{const _=b.get(k.id)||[],w=m?_:_.filter(W=>W.status!=="collected"),C=k.number==="Sem leito (Setor)";return n.jsxs("div",{className:"bg-white rounded-lg border p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"font-medium text-gray-900 text-sm sm:text-base",children:["Leito ",k.number,C&&n.jsx("span",{className:"ml-2 text-[11px] sm:text-xs px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 border",children:"Por setor"})]}),_.some(W=>W.status!=="collected")&&n.jsxs("button",{onClick:()=>q(k.id),className:"text-xs sm:text-sm px-2 py-1 border rounded-lg flex items-center gap-1 hover:bg-gray-50",children:[n.jsx(Yh,{className:"w-4 h-4"})," Limpar leito"]})]}),w.length===0?n.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"Sem peas alocadas"}):n.jsx("div",{className:"divide-y",children:w.map(W=>{const ee=l.find(K=>K.id===W.linenItemId),ne=R(W.allocatedAt),ie=ne>=24,H=W.distributedByName||g(W);return n.jsxs("div",{className:"py-2 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs sm:text-sm font-medium text-gray-900",children:[(ee==null?void 0:ee.name)||W.linenItemId," ",ie&&n.jsxs("span",{className:"inline-flex items-center text-red-600 ml-2",children:[n.jsx($a,{className:"w-4 h-4 mr-1"})," ",">","24h"]})]}),n.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-600",children:["SKU ",(ee==null?void 0:ee.sku)||"","  Alocado em ",Dt(W.allocatedAt),"  ",ne,"h no leito",H?`  Distribudo por ${H}`:""]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[11px] sm:text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:W.status==="allocated"?"Alocado":W.status==="pendingCollection"?"Para coleta":"Coletado"}),H&&n.jsxs("span",{className:"text-[11px] sm:text-xs px-2 py-1 rounded-full bg-brand-50 text-brand-700 border border-brand-200",children:["por ",H]}),W.status!=="collected"&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>M(W.id,"pendingCollection"),className:"text-[11px] sm:text-xs px-2 py-1 border rounded-lg hover:bg-gray-50",children:"Marcar coleta"}),n.jsxs("button",{onClick:()=>M(W.id,"collected"),className:"text-[11px] sm:text-xs px-2 py-1 rounded-lg text-white bg-green-600 hover:bg-green-700 flex items-center gap-1",children:[n.jsx(Xu,{className:"w-3 h-3"})," Coletado"]})]})]})]},W.id)})})]},k.id)})})})]},z.id)})]})]})},Ef=()=>{const{user:e}=Re(),{sectors:t,beds:s,linenItems:r,adminClientIdFilter:a,addStockMovement:l,getOrCreateVirtualSectorBed:i}=_e(),{addToast:o}=Rn(),c=ve(),d=typeof window<"u"&&localStorage.getItem("token")||"",[x,p]=h.useState("manual"),[j,$]=h.useState(""),[N,S]=h.useState(""),[P,m]=h.useState(""),[u,f]=h.useState(1),[E,v]=h.useState(!1),[y,b]=h.useState(!1),R=h.useMemo(()=>t,[t]),G=h.useMemo(()=>s.filter(O=>!j||O.sectorId===j),[s,j]),g=h.useMemo(()=>r,[r]),M=h.useMemo(()=>[...g].filter(O=>(O.currentStock??0)>0).sort((O,J)=>O.name.localeCompare(J.name)),[g]),q=h.useMemo(()=>{const O=(e==null?void 0:e.name)||"",J=(e==null?void 0:e.email)||"",k=new Date().toLocaleString("pt-BR");return`${O} (${J})  ${k}`},[e==null?void 0:e.name,e==null?void 0:e.email]),z=async O=>{var k,_;if(O.preventDefault(),!c||!d){o({type:"error",message:"Sesso expirada. Faa login novamente."});return}if(!N&&!y){o({type:"error",message:"Selecione o leito ou ative Distribuir sem leito."});return}if(!P){o({type:"error",message:"Selecione o item."});return}if(u<=0){o({type:"error",message:"Quantidade invlida."});return}const J=g.find(w=>w.id===P);if(!J){o({type:"error",message:"Item invlido."});return}if(J.currentStock<u){o({type:"error",message:"Estoque insuficiente."});return}v(!0);try{let w=N;if(y){const ne=await i(j);if(!ne)throw new Error("Falha ao criar leito virtual do setor");w=ne.id}for(let ne=0;ne<u;ne++)if(!(await fetch(`${c}/distributed-items`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({linenItemId:P,bedId:w,status:"allocated"})})).ok)throw new Error("Falha ao criar distribuio");const C=((k=R.find(ne=>ne.id===j))==null?void 0:k.name)||"Setor",W=y?"Sem leito (Setor)":((_=s.find(ne=>ne.id===N))==null?void 0:_.number)||"Leito",ee=y?`Distribuio manual por setor (${C}) por ${e==null?void 0:e.name} (${e==null?void 0:e.email})`:`Distribuio manual para ${C} - Leito ${W} por ${e==null?void 0:e.name} (${e==null?void 0:e.email})`;l({itemId:P,type:"out",quantity:u,reason:ee}),o({type:"success",message:"Distribuio realizada com sucesso."}),f(1)}catch{o({type:"error",message:"Falha ao distribuir. Tente novamente."})}finally{v(!1)}},T=j&&(y||N)&&P&&u>0,D=()=>{$(""),S(""),m(""),f(1)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ht,{showOnAction:!0}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Distribuio"}),n.jsxs("p",{className:"text-gray-600",children:["Distribuidor: ",q]})]}),n.jsxs("div",{className:"inline-flex rounded-full border bg-white overflow-hidden shadow-sm",children:[n.jsx("button",{onClick:()=>p("manual"),className:`px-4 py-2 text-sm transition ${x==="manual"?"bg-brand-600 text-white":"text-gray-700 hover:bg-gray-50"}`,children:"Manual"}),n.jsx("button",{onClick:()=>p("rfid"),className:`px-4 py-2 text-sm transition ${x==="rfid"?"bg-gray-900 text-white":"text-gray-700 hover:bg-gray-50"}`,children:"RFID"})]})]}),x==="manual"&&n.jsxs("form",{onSubmit:z,className:"max-w-3xl mx-auto bg-white rounded-2xl p-6 md:p-8 shadow-lg border border-gray-100 space-y-6",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Dados da distribuio"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Selecione o Setor, Leito e Item para distribuir."})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Setor"}),n.jsxs("select",{value:j,onChange:O=>{$(O.target.value),S("")},className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-600/50 focus:border-brand-600",required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),R.map(O=>n.jsx("option",{value:O.id,children:O.name},O.id))]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Escolha o setor para filtrar os leitos."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Leito"}),n.jsxs("select",{value:N,onChange:O=>S(O.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-600/50 focus:border-brand-600 disabled:bg-gray-50 disabled:text-gray-500",disabled:!j||y,required:!y,children:[n.jsx("option",{value:"",children:"Selecione"}),G.map(O=>n.jsxs("option",{value:O.id,children:["Leito ",O.number]},O.id))]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:y?"Distribuio por setor no exige leito.":"Somente os leitos do setor selecionado."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item"}),n.jsxs("select",{value:P,onChange:O=>m(O.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-600/50 focus:border-brand-600",required:!0,children:[n.jsx("option",{value:"",children:"Selecione"}),M.map(O=>n.jsxs("option",{value:O.id,children:[O.name,"  SKU ",O.sku,"  Estoque ",O.currentStock]},O.id))]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Aparecem apenas itens com estoque disponvel."})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("label",{className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[n.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-brand-600 focus:ring-brand-600",checked:y,onChange:O=>{b(O.target.checked),O.target.checked&&S("")}}),"Distribuir sem leito (por setor)"]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),n.jsxs("div",{className:"flex rounded-lg border overflow-hidden focus-within:ring-2 focus-within:ring-brand-600/50",children:[n.jsx("button",{type:"button",className:"px-3 py-2 bg-gray-50 hover:bg-gray-100 border-r",onClick:()=>f(O=>Math.max(1,O-1)),children:""}),n.jsx("input",{type:"number",min:1,value:u,onChange:O=>f(Math.max(1,parseInt(O.target.value||"1",10))),className:"w-full px-3 py-2 focus:outline-none"}),n.jsx("button",{type:"button",className:"px-3 py-2 bg-gray-50 hover:bg-gray-100 border-l",onClick:()=>f(O=>O+1),children:"+"})]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Ser criado um registro por pea distribuda."})]})}),n.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[n.jsx("button",{type:"submit",disabled:E||!T,className:"px-5 py-2.5 bg-brand-600 text-white rounded-lg hover:bg-brand-700 disabled:opacity-50 shadow-sm",children:E?"Distribuindo...":"Distribuir"}),n.jsx("button",{type:"button",onClick:D,disabled:E,className:"px-5 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:"Limpar"})]})]}),x==="rfid"&&n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Distribuio via RFID"}),n.jsx("p",{className:"text-gray-600",children:"Em desenvolvimento. Ser exibida uma pgina dedicada quando este fluxo estiver disponvel."})]}),n.jsxs("div",{className:"bg-gray-50 border rounded-lg p-4 space-y-2",children:[n.jsx("p",{className:"text-sm text-gray-700",children:"Planejado para este fluxo:"}),n.jsxs("ul",{className:"list-disc pl-5 text-sm text-gray-700 space-y-1",children:[n.jsx("li",{children:"Leitura automtica da tag RFID do item."}),n.jsx("li",{children:"Identificao do leito por QR/RFID do cabeceiro."}),n.jsx("li",{children:"Registro em lote com validao de estoque e logs."})]})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsx("button",{onClick:()=>p("manual"),className:"px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-black",children:"Voltar ao Manual"})})]})]})},If=()=>{const{orders:e,sectors:t,clients:s,linenItems:r,beds:a}=_e(),{user:l}=Re(),[i,o]=h.useState({start:"",end:""}),[c,d]=h.useState("all"),[x,p]=h.useState("all"),[j,$]=h.useState([]),N=ve(),S=localStorage.getItem("token")||"",P=h.useCallback(async()=>{try{const y=new URL(`${N}/distributed-items`);(l==null?void 0:l.role)==="admin"&&x!=="all"&&y.searchParams.set("clientId",x);const b=await fetch(y.toString(),{headers:{Authorization:`Bearer ${S}`}});if(b.ok){const G=(await b.json()).map(g=>{const M=a.find(z=>z.id===g.bedId),q=r.find(z=>z.id===g.linenItemId);return{...g,bed:M?{...M,sector:t.find(z=>z.id===M.sectorId)}:void 0,linenItem:q}});$(G)}}catch(y){console.error("Erro ao buscar distributed-items:",y)}},[N,S,l==null?void 0:l.role,x,a,r,t]);h.useEffect(()=>{P()},[P]);const m=(l==null?void 0:l.role)==="admin"?x==="all"?void 0:x:l==null?void 0:l.clientId,u=h.useMemo(()=>{const y=e.filter(T=>{var _,w,C;const D=new Date(T.createdAt),O=!i.start||!i.end||D>=new Date(i.start)&&D<=new Date(i.end),J=c==="all"||((_=T.bed)==null?void 0:_.sectorId)===c,k=!m||((C=(w=T.bed)==null?void 0:w.sector)==null?void 0:C.clientId)===m;return O&&J&&k}),b=j.filter(T=>{var _,w,C;const D=new Date(T.allocatedAt),O=!i.start||!i.end||D>=new Date(i.start)&&D<=new Date(i.end),J=c==="all"||((_=T.bed)==null?void 0:_.sectorId)===c,k=!m||((C=(w=T.bed)==null?void 0:w.sector)==null?void 0:C.clientId)===m;return O&&J&&k}),R={};y.forEach(T=>{T.items.forEach(D=>{var O;R[D.itemId]||(R[D.itemId]={name:((O=D.item)==null?void 0:O.name)||"Item desconhecido",quantity:0,orders:0}),R[D.itemId].quantity+=D.quantity,R[D.itemId].orders+=1})}),b.forEach(T=>{var D;R[T.linenItemId]||(R[T.linenItemId]={name:((D=T.linenItem)==null?void 0:D.name)||"Item desconhecido",quantity:0,orders:0}),R[T.linenItemId].quantity+=1,R[T.linenItemId].orders+=1});const G={};y.forEach(T=>{var J,k,_;const D=(J=T.bed)==null?void 0:J.sectorId,O=((_=(k=T.bed)==null?void 0:k.sector)==null?void 0:_.name)||"Setor desconhecido";D&&(G[D]||(G[D]={name:O,orders:0,items:0}),G[D].orders+=1,G[D].items+=T.items.reduce((w,C)=>w+C.quantity,0))}),b.forEach(T=>{var J,k,_;const D=(J=T.bed)==null?void 0:J.sectorId,O=((_=(k=T.bed)==null?void 0:k.sector)==null?void 0:_.name)||"Setor desconhecido";D&&(G[D]||(G[D]={name:O,orders:0,items:0}),G[D].orders+=1,G[D].items+=1)});const g={};y.forEach(T=>{var O,J,k,_,w;const D=`${(O=T.bed)==null?void 0:O.sectorId}-${(J=T.bed)==null?void 0:J.number}`;g[D]||(g[D]={bed:((k=T.bed)==null?void 0:k.number)||"Leito desconhecido",sector:((w=(_=T.bed)==null?void 0:_.sector)==null?void 0:w.name)||"Setor desconhecido",orders:0,items:0}),g[D].orders+=1,g[D].items+=T.items.reduce((C,W)=>C+W.quantity,0)}),b.forEach(T=>{var O,J,k,_,w;const D=`${(O=T.bed)==null?void 0:O.sectorId}-${(J=T.bed)==null?void 0:J.number}`;g[D]||(g[D]={bed:((k=T.bed)==null?void 0:k.number)||"Leito desconhecido",sector:((w=(_=T.bed)==null?void 0:_.sector)==null?void 0:w.name)||"Setor desconhecido",orders:0,items:0}),g[D].orders+=1,g[D].items+=1});const M=y.length+b.length,q=y.reduce((T,D)=>T+D.items.reduce((O,J)=>O+J.quantity,0),0),z=b.length;return{totalOrders:M,totalItems:q+z,itemConsumption:Object.values(R).sort((T,D)=>D.quantity-T.quantity),sectorConsumption:Object.values(G).sort((T,D)=>D.orders-T.orders),bedConsumption:Object.values(g).sort((T,D)=>D.orders-T.orders)}},[e,j,i,c,m]),f=()=>{var g;const y={period:`${i.start||"Incio"} at ${i.end||"Agora"}`,sector:c==="all"?"Todos os setores":(g=t.find(M=>M.id===c))==null?void 0:g.name,summary:{totalOrders:u.totalOrders,totalItems:u.totalItems},itemConsumption:u.itemConsumption,sectorConsumption:u.sectorConsumption,bedConsumption:u.bedConsumption},b=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),R=URL.createObjectURL(b),G=document.createElement("a");G.href=R,G.download=`relatorio-enxoval-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(R)},E=()=>{var M;const y="Relatrio de Consumo de Enxoval",b=`${i.start||"Incio"} at ${i.end||"Agora"}`,R=c==="all"?"Todos os setores":((M=t.find(q=>q.id===c))==null?void 0:M.name)||"",G=`<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>${y}</title>
    <style>
      body { font-family: Arial, sans-serif; color:#111827; margin:24px; }
      h1 { font-size:20px; margin:0 0 8px; }
      .muted { color:#6b7280; margin-bottom:16px; }
      .card { border:1px solid #e5e7eb; border-radius:8px; padding:12px; margin:12px 0; }
      .section-title { font-weight:600; margin-bottom:8px; }
      table { width:100%; border-collapse:collapse; }
      th, td { text-align:left; padding:6px 8px; border-bottom:1px solid #f3f4f6; font-size:12px; }
      .brand { display:flex; align-items:center; gap:10px; margin-bottom:10px; }
      .brand img { height:40px; }
    </style>
  </head>
  <body>
    <div class="brand">
      <img src="${window.location.origin}/ecolav.png" alt="ECOLAV" />
      <h1>${y}  ECOLAV</h1>
    </div>
    <div class="muted">Perodo: ${b}  Setor: ${R}</div>
    <div class="card"><div class="section-title">Resumo</div>
      <div>Total de pedidos: <b>${u.totalOrders}</b></div>
      <div>Total de itens: <b>${u.totalItems}</b></div>
    </div>
    <div class="card"><div class="section-title">Consumo por Item</div>
      <table><thead><tr><th>Item</th><th>Qtd</th><th>Pedidos</th></tr></thead><tbody>
      ${u.itemConsumption.map(q=>`<tr><td>${q.name}</td><td>${q.quantity}</td><td>${q.orders}</td></tr>`).join("")}
      </tbody></table>
    </div>
    <div class="card"><div class="section-title">Consumo por Setor</div>
      <table><thead><tr><th>Setor</th><th>Pedidos</th><th>Itens</th></tr></thead><tbody>
      ${u.sectorConsumption.map(q=>`<tr><td>${q.name}</td><td>${q.orders}</td><td>${q.items}</td></tr>`).join("")}
      </tbody></table>
    </div>
    <div class="card"><div class="section-title">Consumo por Leito (Top 10)</div>
      <table><thead><tr><th>Setor</th><th>Leito</th><th>Pedidos</th><th>Itens</th></tr></thead><tbody>
      ${u.bedConsumption.slice(0,10).map(q=>`<tr><td>${q.sector}</td><td>${q.bed}</td><td>${q.orders}</td><td>${q.items}</td></tr>`).join("")}
      </tbody></table>
    </div>
    <script>window.onload = () => { window.print(); };<\/script>
  </body>
</html>`,g=window.open("","print");g&&(g.document.write(G),g.document.close())},v=()=>{var G,g;const y=[];y.push(" *Relatrio de Enxoval*"),y.push(`Perodo: *${i.start||"Incio"}* at *${i.end||"Agora"}*`),y.push(`Setor: *${c==="all"?"Todos":((G=t.find(M=>M.id===c))==null?void 0:G.name)||""}*`),y.push(""),y.push(` Total de pedidos: *${u.totalOrders}*`),y.push(` Total de itens: *${u.totalItems}*`),y.push(""),u.itemConsumption.length&&(y.push("*Consumo por Item:*"),y.push(...u.itemConsumption.map(M=>`- ${M.name}: ${M.quantity} unidades em ${M.orders} pedidos`)),y.push("")),u.sectorConsumption.length&&(y.push("*Consumo por Setor:*"),y.push(...u.sectorConsumption.map(M=>`- ${M.name}: ${M.orders} pedidos, ${M.items} itens`)),y.push("")),u.bedConsumption.length&&(y.push("*Consumo por Leito (Top 10):*"),y.push(...u.bedConsumption.slice(0,10).map(M=>`- ${M.sector} / Leito ${M.bed}: ${M.orders} pedidos, ${M.items} itens`)));const b=((g=s.find(M=>M.id===m||""))==null?void 0:g.whatsappNumber)||void 0,R=Ma({text:y.join(`
`),phone:b});window.open(R,"_blank")};return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ht,{showOnAction:!0}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Relatrios"}),n.jsx("p",{className:"text-gray-600",children:"Anlise de consumo e indicadores de desempenho"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(l==null?void 0:l.role)==="admin"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),n.jsxs("select",{value:x,onChange:y=>p(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Clientes"}),s.map(y=>n.jsx("option",{value:y.id,children:y.name},y.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Incio"}),n.jsx("input",{type:"date",value:i.start,onChange:y=>o({...i,start:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim"}),n.jsx("input",{type:"date",value:i.end,onChange:y=>o({...i,end:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Setor"}),n.jsxs("select",{value:c,onChange:y=>d(y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Setores"}),t.filter(y=>!m||y.clientId===m).map(y=>n.jsx("option",{value:y.id,children:y.name},y.id))]})]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 justify-end",children:[n.jsxs("button",{onClick:f,className:"flex items-center space-x-1 sm:space-x-2 bg-gray-100 text-gray-800 px-2 sm:px-4 py-2 rounded-lg hover:bg-gray-200 transition-all text-xs sm:text-sm",children:[n.jsx(oo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Exportar JSON"}),n.jsx("span",{className:"sm:hidden",children:"JSON"})]}),n.jsxs("button",{onClick:E,className:"flex items-center space-x-1 sm:space-x-2 bg-blue-600 text-white px-2 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition-all text-xs sm:text-sm",children:[n.jsx(Ju,{className:"w-3 h-3 sm:w-4 sm:h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Exportar PDF"}),n.jsx("span",{className:"sm:hidden",children:"PDF"})]}),n.jsxs("button",{onClick:v,className:"flex items-center space-x-1 sm:space-x-2 bg-green-600 text-white px-2 sm:px-4 py-2 rounded-lg hover:bg-green-700 transition-all text-xs sm:text-sm",children:[n.jsx(ua,{className:"w-3 h-3 sm:w-4 sm:h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Enviar WhatsApp"}),n.jsx("span",{className:"sm:hidden",children:"WhatsApp"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total de Pedidos"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.totalOrders})]}),n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(Yu,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total de Itens"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.totalItems})]}),n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(it,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Setores Ativos"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.sectorConsumption.length})]}),n.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:n.jsx(cs,{className:"w-6 h-6 text-purple-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Leitos com Pedidos"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.bedConsumption.length})]}),n.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:n.jsx(Ln,{className:"w-6 h-6 text-orange-600"})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Consumo por Item"}),n.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[u.itemConsumption.map((y,b)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:y.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[y.orders," pedidos"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-lg font-bold text-blue-600",children:y.quantity}),n.jsx("p",{className:"text-xs text-gray-500",children:"unidades"})]})]},b)),u.itemConsumption.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(it,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),n.jsx("p",{children:"Nenhum consumo encontrado"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Consumo por Setor"}),n.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[u.sectorConsumption.map((y,b)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:y.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[y.items," itens solicitados"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-lg font-bold text-green-600",children:y.orders}),n.jsx("p",{className:"text-xs text-gray-500",children:"pedidos"})]})]},b)),u.sectorConsumption.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(cs,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),n.jsx("p",{children:"Nenhum consumo encontrado"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Consumo por Leito"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-100",children:[n.jsx("th",{className:"text-left p-3 font-medium text-gray-900",children:"Setor"}),n.jsx("th",{className:"text-left p-3 font-medium text-gray-900",children:"Leito"}),n.jsx("th",{className:"text-right p-3 font-medium text-gray-900",children:"Pedidos"}),n.jsx("th",{className:"text-right p-3 font-medium text-gray-900",children:"Itens"})]})}),n.jsxs("tbody",{children:[u.bedConsumption.slice(0,10).map((y,b)=>n.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[n.jsx("td",{className:"p-3 text-gray-900",children:y.sector}),n.jsx("td",{className:"p-3 text-gray-900",children:y.bed}),n.jsx("td",{className:"p-3 text-right font-medium text-blue-600",children:y.orders}),n.jsx("td",{className:"p-3 text-right font-medium text-green-600",children:y.items})]},b)),u.bedConsumption.length===0&&n.jsx("tr",{children:n.jsxs("td",{colSpan:4,className:"p-8 text-center text-gray-500",children:[n.jsx(Ln,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),n.jsx("p",{children:"Nenhum consumo encontrado"})]})})]})]})})]})]})},$f=()=>{const e=ve(),t=h.useMemo(()=>localStorage.getItem("token")||"",[]),{user:s}=Re(),{adminClientIdFilter:r,clients:a}=_e(),[l,i]=h.useState(()=>{const g=new Date,M=String(g.getMonth()+1).padStart(2,"0");return`${g.getFullYear()}-${M}`}),[o,c]=h.useState([]),[d,x]=h.useState(""),[p,j]=h.useState([]),[$,N]=h.useState(!1),[S,P]=h.useState(!1),m=h.useMemo(()=>{if(!/^\d{4}-\d{2}$/.test(l))return{start:"",end:""};const[g,M]=l.split("-").map(Number),q=`${g}-${String(M).padStart(2,"0")}-01`,z=new Date(g,M,0).getDate(),T=`${g}-${String(M).padStart(2,"0")}-${String(z).padStart(2,"0")}`;return{start:q,end:T}},[l]),u=h.useCallback(async()=>{if(!m.start)return;N(!0);const g=new URL(`${e}/pesagens/relatorio`);g.searchParams.set("start",m.start),g.searchParams.set("end",m.end),(s==null?void 0:s.role)==="admin"&&r&&g.searchParams.set("clientId",r);const M=await fetch(g.toString(),{headers:{Authorization:`Bearer ${t}`}});if(M.ok){const q=await M.json();c(q)}N(!1)},[e,m.start,m.end,r,t,s==null?void 0:s.role]);h.useEffect(()=>{u()},[u]);const f=h.useCallback(async g=>{x(g),P(!0);const M=new URL(`${e}/pesagens/por-dia`);M.searchParams.set("date",g),(s==null?void 0:s.role)==="admin"&&r&&M.searchParams.set("clientId",r);const q=await fetch(M.toString(),{headers:{Authorization:`Bearer ${t}`}});if(q.ok){const z=await q.json();j(z.entries||[])}P(!1)},[e,r,t,s==null?void 0:s.role]),E=async g=>{await fetch(`${e}/pesagens/${g}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}),d&&f(d),u()},v=h.useMemo(()=>{const g=o.reduce((k,_)=>k+_.peso_suja,0),M=o.reduce((k,_)=>k+_.peso_limpa,0),q=g-M,z=g>0?Number((q/g*100).toFixed(2)):0,T=o.reduce((k,_)=>k+(_.peso_bruto_lavanderia||0),0),D=o.reduce((k,_)=>k+(_.peso_pesado_liquido||0),0),O=T-D,J=T>0?Number((Math.abs(O)/T*100).toFixed(2)):0;return{suja:Number(g.toFixed(2)),limpa:Number(M.toFixed(2)),diff:Number(q.toFixed(2)),perc:z,bruto:Number(T.toFixed(2)),pesado:Number(D.toFixed(2)),diffLav:Number(O.toFixed(2)),percLav:J}},[o]),y=h.useMemo(()=>{if(!d)return{suja:0,limpa:0,diff:0,perc:0};const g=o.find(M=>M.date===d);return g?{suja:g.peso_suja,limpa:g.peso_limpa,diff:g.diferenca,perc:g.sujidade_percentual}:{suja:0,limpa:0,diff:0,perc:0}},[d,o]),b=h.useMemo(()=>{const g=(s==null?void 0:s.role)==="admin"?r||null:(s==null?void 0:s.clientId)||null;if(!g)return null;const M=a.find(q=>q.id===g);return(M==null?void 0:M.name)||null},[s==null?void 0:s.role,s==null?void 0:s.clientId,r,a]),R=h.useCallback(()=>{if(!d)return;const[g,M,q]=d.split("-"),z=`Relatrio Dirio de Pesagem  ${q}/${M}/${g}`,T=`<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>${z}</title>
    <style>
      body { font-family: Arial, sans-serif; color:#111827; margin:24px; }
      h1 { font-size:20px; margin:0 0 8px; }
      .muted { color:#6b7280; margin-bottom:16px; }
      .card { border:1px solid #e5e7eb; border-radius:8px; padding:12px; margin:12px 0; }
      table { width:100%; border-collapse:collapse; }
      th, td { text-align:left; padding:6px 8px; border-bottom:1px solid #f3f4f6; font-size:12px; }
      .grid { display:grid; grid-template-columns: repeat(4, 1fr); gap:8px; }
      .brand { display:flex; align-items:center; gap:10px; margin-bottom:10px; }
      .brand img { height:40px; }
    </style>
  </head>
  <body>
    <div class="brand">
      <img src="${window.location.origin}/ecolav.png" alt="ECOLAV" />
      <h1>${z}  ECOLAV</h1>
    </div>
    <div class="muted">Cliente: ${b||""}  Data: ${q}/${M}/${g}</div>
    <div class="card">
      <div style="font-weight:600; margin-bottom:8px;">Resumo (Comparativo Suja vs Limpa)</div>
      <div style="padding:8px; background:#eff6ff; border-radius:4px; margin-bottom:8px; font-size:11px;">
        <strong>Nota:</strong> Compara roupa suja que saiu (voltar limpa neste dia) com roupa limpa que voltou (pesada neste dia).
      </div>
      <div class="grid">
        <div>Limpa que Voltou (kg): <b>${y.limpa.toFixed(2)}</b></div>
        <div>Suja que Saiu (kg): <b>${y.suja.toFixed(2)}</b></div>
        <div>Diferena (kg): <b>${y.diff.toFixed(2)}</b></div>
        <div>Sujidade (%): <b>${y.perc.toFixed(2)}%</b></div>
      </div>
    </div>
    <div class="card">
      <div style="font-weight:600; margin-bottom:8px;">Movimentaes</div>
      <table>
        <thead><tr><th>Tipo</th><th>Lquido (kg)</th><th>Total (kg)</th><th>Tara (kg)</th><th>Data/Hora</th><th>Gaiola</th></tr></thead>
        <tbody>
          ${p.map(O=>{var J;return`<tr>
            <td>${O.kind==="suja"?"Suja":"Limpa"}</td>
            <td>${Number(O.netWeight).toFixed(2)}</td>
            <td>${Number(O.totalWeight).toFixed(2)}</td>
            <td>${Number(O.tareWeight).toFixed(2)}</td>
            <td>${new Date(O.createdAt).toLocaleString("pt-BR")}</td>
            <td>${((J=O.cage)==null?void 0:J.barcode)||""}</td>
          </tr>`}).join("")}
        </tbody>
      </table>
    </div>
    <script>window.onload = () => { window.print(); };<\/script>
  </body>
</html>`,D=window.open("","print");D&&(D.document.write(T),D.document.close())},[d,p,y.diff,y.limpa,y.perc,y.suja,s==null?void 0:s.role,r]),G=h.useCallback(()=>{if(!d)return;const[g,M,q]=d.split("-"),z=[];z.push(" *Relatrio Dirio de Pesagem*"),z.push(`Data: *${q}/${M}/${g}*`),b&&z.push(`Cliente: *${b}*`),z.push(""),z.push("_Comparativo: Suja que Saiu vs Limpa que Voltou_"),z.push(` Limpa que Voltou (kg): *${y.limpa.toFixed(2)}*`),z.push(` Suja que Saiu (kg): *${y.suja.toFixed(2)}*`),z.push(` Diferena (kg): *${y.diff.toFixed(2)}*`),z.push(`% Sujidade: *${y.perc.toFixed(2)}%*`),z.push(""),p.length&&(z.push("*Movimentaes:*"),z.push(...p.slice(0,20).map(D=>{var O;return`- ${D.kind==="suja"?"Suja":"Limpa"}  Lq ${Number(D.netWeight).toFixed(2)} kg  Tot ${Number(D.totalWeight).toFixed(2)} kg  Tara ${Number(D.tareWeight).toFixed(2)} kg  ${new Date(D.createdAt).toLocaleString("pt-BR")}${(O=D.cage)!=null&&O.barcode?`  Gaiola ${D.cage.barcode}`:""}`})),p.length>20&&z.push(` e mais ${p.length-20} registros`));const T=Ma({text:z.join(`
`)});window.open(T,"_blank")},[d,p,y.diff,y.limpa,y.perc,y.suja,b]);return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ht,{showOnAction:!0}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Acompanhamento de Pesagem"}),n.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Comparativo dirio (suja vs limpa) e total do ms."})]}),n.jsxs("div",{className:"flex items-center gap-2 self-start sm:self-auto",children:[n.jsx(La,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-500"}),n.jsx("input",{type:"month",value:l,onChange:g=>i(g.target.value),className:"px-2 sm:px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden",children:[n.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-green-50 border-b",children:n.jsx("h3",{className:"font-semibold text-sm",children:" Comparativo Suja vs Limpa (Sujidade)"})}),n.jsxs("div",{className:"grid grid-cols-5 gap-0 text-xs sm:text-sm font-medium bg-gray-50 border-b",children:[n.jsx("div",{className:"p-3",children:"Data"}),n.jsx("div",{className:"p-3 text-blue-700",children:"Suja (kg)"}),n.jsx("div",{className:"p-3 text-green-700",children:"Limpa (kg)"}),n.jsx("div",{className:"p-3",children:"Diferena (kg)"}),n.jsx("div",{className:"p-3",children:"Sujidade (%)"})]}),n.jsx("div",{className:"divide-y",children:$?n.jsxs("div",{className:"p-4 grid grid-cols-1 gap-2",children:[n.jsx(Pt,{className:"h-4 w-full"}),n.jsx(Pt,{className:"h-4 w-full"}),n.jsx(Pt,{className:"h-4 w-2/3"})]}):o.length===0?n.jsx("div",{className:"p-6 text-center text-gray-500",children:"Sem registros no perodo."}):o.map(g=>n.jsxs("div",{className:"grid grid-cols-5 text-xs sm:text-sm hover:bg-gray-50 cursor-pointer",onClick:()=>f(g.date),children:[n.jsx("div",{className:"p-3 underline text-blue-700",children:(()=>{const[M,q,z]=g.date.split("-");return`${z}/${q}/${M}`})()}),n.jsx("div",{className:"p-3",children:g.peso_suja}),n.jsx("div",{className:"p-3",children:g.peso_limpa}),n.jsx("div",{className:"p-3",children:g.diferenca}),n.jsxs("div",{className:"p-3",children:[g.sujidade_percentual,"%"]})]},g.date))}),n.jsxs("div",{className:"grid grid-cols-5 bg-gray-50 text-xs sm:text-sm font-semibold border-t",children:[n.jsx("div",{className:"p-3",children:"Totais do ms"}),n.jsx("div",{className:"p-3 text-blue-700",children:v.suja}),n.jsx("div",{className:"p-3 text-green-700",children:v.limpa}),n.jsx("div",{className:"p-3",children:v.diff}),n.jsxs("div",{className:"p-3",children:[v.perc,"%"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden",children:[n.jsxs("div",{className:"p-3 bg-gradient-to-r from-purple-50 to-pink-50 border-b",children:[n.jsx("h3",{className:"font-semibold text-sm",children:" Comparativo ROL Lavanderia vs Peso Pesado"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Apenas roupa limpa (para conferncia do romaneio da lavanderia)"})]}),n.jsxs("div",{className:"grid grid-cols-5 gap-0 text-xs sm:text-sm font-medium bg-gray-50 border-b",children:[n.jsx("div",{className:"p-3",children:"Data"}),n.jsx("div",{className:"p-3 text-purple-700",children:"ROL Lavanderia (kg)"}),n.jsx("div",{className:"p-3 text-pink-700",children:"Peso Pesado (kg)"}),n.jsx("div",{className:"p-3",children:"Diferena (kg)"}),n.jsx("div",{className:"p-3",children:"Diferena (%)"})]}),n.jsx("div",{className:"divide-y",children:$?n.jsxs("div",{className:"p-4 grid grid-cols-1 gap-2",children:[n.jsx(Pt,{className:"h-4 w-full"}),n.jsx(Pt,{className:"h-4 w-full"}),n.jsx(Pt,{className:"h-4 w-2/3"})]}):o.length===0?n.jsx("div",{className:"p-6 text-center text-gray-500",children:"Sem registros no perodo."}):o.map(g=>{var q,z,T,D;return(g.peso_bruto_lavanderia||0)>0?n.jsxs("div",{className:"grid grid-cols-5 text-xs sm:text-sm hover:bg-gray-50 cursor-pointer",onClick:()=>f(g.date),children:[n.jsx("div",{className:"p-3 underline text-blue-700",children:(()=>{const[O,J,k]=g.date.split("-");return`${k}/${J}/${O}`})()}),n.jsx("div",{className:"p-3",children:((q=g.peso_bruto_lavanderia)==null?void 0:q.toFixed(2))||"0.00"}),n.jsx("div",{className:"p-3",children:((z=g.peso_pesado_liquido)==null?void 0:z.toFixed(2))||"0.00"}),n.jsx("div",{className:"p-3",children:((T=g.diferenca_lavanderia)==null?void 0:T.toFixed(2))||"0.00"}),n.jsxs("div",{className:`p-3 ${(g.percentual_diferenca_lavanderia||0)>5?"text-red-600 font-semibold":""}`,children:[((D=g.percentual_diferenca_lavanderia)==null?void 0:D.toFixed(2))||"0.00","%"]})]},`lav-${g.date}`):null})}),n.jsxs("div",{className:"grid grid-cols-5 bg-gray-50 text-xs sm:text-sm font-semibold border-t",children:[n.jsx("div",{className:"p-3",children:"Totais do ms"}),n.jsx("div",{className:"p-3 text-purple-700",children:v.bruto}),n.jsx("div",{className:"p-3 text-pink-700",children:v.pesado}),n.jsx("div",{className:"p-3",children:v.diffLav}),n.jsxs("div",{className:`p-3 ${v.percLav>5?"text-red-600":""}`,children:[v.percLav,"%"]})]})]}),d&&n.jsxs("div",{className:"bg-white rounded-xl border overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold text-sm sm:text-base",children:["Entradas do dia ",(()=>{const[g,M,q]=d.split("-");return`${q}/${M}/${g}`})()]}),n.jsx("p",{className:"text-[11px] sm:text-xs text-gray-500",children:"Clique no cone para excluir uma pesagem."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:R,className:"px-2 sm:px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-xs sm:text-sm",children:"PDF"}),n.jsx("button",{onClick:G,className:"px-2 sm:px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-xs sm:text-sm",children:"WhatsApp"}),n.jsx("button",{onClick:()=>{x(""),j([])},className:"px-2 sm:px-3 py-2 border rounded-lg text-xs sm:text-sm",children:"Fechar"})]})]}),n.jsx("div",{className:"p-3 bg-blue-50 border-b",children:n.jsxs("p",{className:"text-xs text-blue-800",children:[n.jsx("strong",{children:"Ateno:"})," Este resumo compara a roupa ",n.jsx("strong",{children:"suja que saiu"})," (e voltar limpa neste dia) com a roupa ",n.jsx("strong",{children:"limpa que voltou"})," (pesada neste dia). Segue a mesma lgica da primeira tabela."]})}),n.jsxs("div",{className:"grid grid-cols-4 gap-0 text-xs sm:text-sm font-medium bg-gray-50 border-b",children:[n.jsx("div",{className:"p-3",children:"Limpa que Voltou (kg)"}),n.jsx("div",{className:"p-3",children:"Suja que Saiu (kg)"}),n.jsx("div",{className:"p-3",children:"Diferena (kg)"}),n.jsx("div",{className:"p-3",children:"Sujidade (%)"})]}),n.jsxs("div",{className:"grid grid-cols-4 text-xs sm:text-sm",children:[n.jsx("div",{className:"p-3 text-green-700",children:y.limpa.toFixed(2)}),n.jsx("div",{className:"p-3 text-blue-700",children:y.suja.toFixed(2)}),n.jsx("div",{className:"p-3",children:y.diff.toFixed(2)}),n.jsxs("div",{className:"p-3",children:[y.perc.toFixed(2),"%"]})]}),n.jsx("div",{className:"divide-y",children:S?n.jsxs("div",{className:"p-3 sm:p-4",children:[n.jsx(Nt,{}),n.jsx(Nt,{className:"mt-2"})]}):p.length===0?n.jsx("div",{className:"p-6 text-center text-gray-500",children:"Sem lanamentos"}):p.map(g=>n.jsxs("div",{className:"p-3 sm:p-4 flex items-center justify-between text-xs sm:text-sm",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-medium text-gray-900",children:[g.kind==="suja"?"Roupa Suja":"Roupa Limpa","  Lquido ",g.netWeight," kg"]}),n.jsxs("div",{className:"text-gray-600",children:["Total ",g.totalWeight," kg  Tara ",g.tareWeight," kg  ",new Date(g.createdAt).toLocaleString("pt-BR")," ",g.cage?` Gaiola ${g.cage.barcode}`:""]})]}),n.jsx("button",{onClick:()=>E(g.id),className:"p-1.5 sm:p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg",title:"Excluir",children:""})]},g.id))})]})]})},Pf=()=>{const{clients:e,addClient:t,updateClient:s,deleteClient:r}=_e(),{user:a}=Re(),l=h.useMemo(()=>(a==null?void 0:a.role)==="admin"||!(a!=null&&a.clientId)?e:e.filter(S=>S.id===a.clientId),[e,a]),[i,o]=h.useState(!1),[c,d]=h.useState(null),[x,p]=h.useState({name:"",document:"",contactName:"",contactEmail:"",contactPhone:"",whatsappNumber:""}),j=S=>{S.preventDefault(),c?(s(c,x),d(null)):(t(x),o(!1)),p({name:"",document:"",contactName:"",contactEmail:"",contactPhone:"",whatsappNumber:""})},$=S=>{d(S.id),p({name:S.name||"",document:S.document||"",contactName:S.contactName||"",contactEmail:S.contactEmail||"",contactPhone:S.contactPhone||"",whatsappNumber:S.whatsappNumber||""})},N=S=>{window.confirm("Tem certeza que deseja excluir este cliente?")&&r(S)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Clientes"}),n.jsx("p",{className:"text-gray-600",children:"Cadastre e gerencie clientes do sistema"})]}),(a==null?void 0:a.role)==="admin"&&n.jsxs("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-blue-600 to-green-600 text-white px-2 sm:px-4 py-2 rounded-lg hover:from-blue-700 hover:to-green-700 flex items-center space-x-1 sm:space-x-2 transition-all text-xs sm:text-sm",children:[n.jsx(gn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Novo Cliente"}),n.jsx("span",{className:"sm:hidden",children:"Novo"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(S=>n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:n.jsx(Pa,{className:"w-6 h-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:S.name}),n.jsx("p",{className:"text-sm text-gray-600",children:S.document})]})]}),(a==null?void 0:a.role)==="admin"&&n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>$(S),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:n.jsx(ps,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>N(S.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:n.jsx(pn,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[S.contactName&&n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Contato:"})," ",S.contactName]}),S.contactEmail&&n.jsxs("p",{className:"flex items-center space-x-2",children:[n.jsx(sf,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:S.contactEmail})]}),S.contactPhone&&n.jsxs("p",{className:"flex items-center space-x-2",children:[n.jsx(Ec,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{children:S.contactPhone})]}),S.whatsappNumber&&n.jsxs("p",{className:"flex items-center space-x-2",children:[n.jsx(Ec,{className:"w-4 h-4 text-green-500"}),n.jsxs("span",{children:["WhatsApp: ",S.whatsappNumber]})]})]})]},S.id))}),(i||c)&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:c?"Editar Cliente":"Novo Cliente"}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),n.jsx("input",{type:"text",value:x.name,onChange:S=>p({...x,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Documento (CNPJ/CPF)"}),n.jsx("input",{type:"text",value:x.document,onChange:S=>p({...x,document:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Contato"}),n.jsx("input",{type:"text",value:x.contactName,onChange:S=>p({...x,contactName:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:x.contactEmail,onChange:S=>p({...x,contactEmail:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),n.jsx("input",{type:"text",value:x.contactPhone,onChange:S=>p({...x,contactPhone:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp (E.164, ex: 5511999999999)"}),n.jsx("input",{type:"text",value:x.whatsappNumber,onChange:S=>p({...x,whatsappNumber:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex space-x-2 sm:space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{o(!1),d(null),p({name:"",document:"",contactName:"",contactEmail:"",contactPhone:"",whatsappNumber:""})},className:"flex-1 px-2 sm:px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all text-xs sm:text-sm",children:"Cancelar"}),n.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-green-600 text-white px-2 sm:px-4 py-2 rounded-lg hover:from-blue-700 hover:to-green-700 transition-all text-xs sm:text-sm",children:c?"Salvar":"Criar"})]})]})]})})]})},Lf=()=>{const{systemUsers:e,clients:t,addSystemUser:s,updateSystemUser:r,deleteSystemUser:a}=_e(),{user:l}=Re(),i=h.useMemo(()=>(l==null?void 0:l.role)==="admin"||!(l!=null&&l.clientId)?e:e.filter(P=>P.clientId===l.clientId),[e,l]),[o,c]=h.useState(!1),[d,x]=h.useState(null),[p,j]=h.useState({name:"",email:"",role:"manager",clientId:"",password:""}),$=P=>{P.preventDefault();const m={...p,clientId:p.clientId||void 0};d&&(m.password||delete m.password),d?(r(d,m),x(null)):(s(m),c(!1)),j({name:"",email:"",role:"manager",clientId:"",password:""})},N=P=>{x(P.id),j({name:P.name||"",email:P.email||"",role:P.role||"manager",clientId:P.clientId||""})},S=P=>{window.confirm("Tem certeza que deseja excluir este usurio?")&&a(P)};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Usurios"}),n.jsx("p",{className:"text-gray-600",children:"Cadastre e gerencie usurios do sistema"})]}),(l==null?void 0:l.role)==="admin"&&n.jsxs("button",{onClick:()=>c(!0),className:"bg-gradient-to-r from-blue-600 to-green-600 text-white px-2 sm:px-4 py-2 rounded-lg hover:from-blue-700 hover:to-green-700 flex items-center space-x-1 sm:space-x-2 transition-all text-xs sm:text-sm",children:[n.jsx(uf,{className:"w-4 h-4 sm:w-5 sm:h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Novo Usurio"}),n.jsx("span",{className:"sm:hidden",children:"Novo"})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:i.length===0?n.jsx("div",{className:"p-8 text-center text-gray-500",children:"Nenhum usurio cadastrado"}):n.jsx("div",{className:"divide-y divide-gray-100",children:i.map(P=>{var m;return n.jsxs("div",{className:"p-6 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:n.jsx(mi,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900",children:P.name}),n.jsx("p",{className:"text-sm text-gray-600",children:P.email}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1 text-xs text-gray-600",children:[n.jsx("span",{className:`px-2 py-0.5 rounded-full ${P.role==="admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:P.role}),P.clientId&&n.jsxs("span",{className:"flex items-center space-x-1",children:[n.jsx(Pa,{className:"w-3 h-3"}),n.jsx("span",{children:((m=t.find(u=>u.id===P.clientId))==null?void 0:m.name)||"Cliente"})]})]})]})]}),(l==null?void 0:l.role)==="admin"&&n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>N(P),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:n.jsx(ps,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>S(P.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:n.jsx(pn,{className:"w-4 h-4"})})]})]},P.id)})})}),(o||d)&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:d?"Editar Usurio":"Novo Usurio"}),n.jsxs("form",{onSubmit:$,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome"}),n.jsx("input",{type:"text",value:p.name,onChange:P=>j({...p,name:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Senha ",d?"(deixe em branco para manter)":""]}),n.jsx("input",{type:"password",value:p.password,onChange:P=>j({...p,password:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!d})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:p.email,onChange:P=>j({...p,email:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),n.jsxs("select",{value:p.role,onChange:P=>j({...p,role:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"manager",children:"Manager"}),n.jsx("option",{value:"admin",children:"Admin"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente (opcional)"}),n.jsxs("select",{value:p.clientId,onChange:P=>j({...p,clientId:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Sem vnculo"}),t.map(P=>n.jsx("option",{value:P.id,children:P.name},P.id))]})]}),n.jsxs("div",{className:"flex space-x-2 sm:space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{c(!1),x(null),j({name:"",email:"",role:"manager",clientId:"",password:""})},className:"flex-1 px-2 sm:px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all text-xs sm:text-sm",children:"Cancelar"}),n.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-green-600 text-white px-2 sm:px-4 py-2 rounded-lg hover:from-blue-700 hover:to-green-700 transition-all text-xs sm:text-sm",children:d?"Salvar":"Criar"})]})]})]})})]})},nm=({size:e="md",text:t,className:s=""})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},a={sm:"border-2",md:"border-2",lg:"border-3",xl:"border-4"};return n.jsxs("div",{className:`flex flex-col items-center justify-center ${s}`,children:[n.jsx("div",{className:`${r[e]} ${a[e]} border-gray-200 border-t-blue-600 rounded-full animate-spin`}),t&&n.jsx("p",{className:"mt-3 text-sm text-gray-600 font-medium",children:t})]})},Ns={received:"Recebido",enviado:"Enviado",washing:"Lavagem",drying:"Secagem",quality_check:"Controle de Qualidade",ready:"Pronto",dispatched:"Expedido",returned:"Devolvido",cancelled:"Cancelado"},tn=["received","washing","drying","quality_check","ready","dispatched"],Mf=e=>{const t=["cancelled","returned"],s=tn.indexOf(e);return s===-1||(s+1<tn.length&&t.push(tn[s+1]),s-1>=0&&t.push(tn[s-1])),t},gl={received:"bg-blue-100 text-blue-800",enviado:"bg-cyan-100 text-cyan-800",washing:"bg-yellow-100 text-yellow-800",drying:"bg-orange-100 text-orange-800",quality_check:"bg-purple-100 text-purple-800",ready:"bg-green-100 text-green-800",dispatched:"bg-indigo-100 text-indigo-800",returned:"bg-emerald-100 text-emerald-800",cancelled:"bg-red-100 text-red-800"},Tf=()=>{const{clients:e,adminClientIdFilter:t}=_e(),[s,r]=h.useState(!1),[a,l]=h.useState([]),[i,o]=h.useState(1),[c]=h.useState(20),[d,x]=h.useState(0),[p,j]=h.useState(""),[$,N]=h.useState(""),[S,P]=h.useState(!1),[m,u]=h.useState(!1),[f,E]=h.useState({itemName:"",description:"",quantity:"",weight:"",priority:3,clientId:"",senderName:""}),[v,y]=h.useState(null),[b,R]=h.useState([]),[G,g]=h.useState(!1),[M,q]=h.useState(null),[z,T]=h.useState(!1),[D,O]=h.useState(null),[J,k]=h.useState(null),[_,w]=h.useState(null),[C,W]=h.useState(null),[ee,ne]=h.useState(!1),[ie,I]=h.useState(!1),[H,K]=h.useState(!1),[Z,ae]=h.useState(!1),[se,me]=h.useState({expectedReturnAt:"",qualityNotes:"",receivedPhoto:null,location:""}),[ce,fe]=h.useState({finalWeight:"",dispatchedPhoto:null,dispatchedBy:"",location:""}),[Ie,st]=h.useState(!1),[Ta,Ra]=h.useState("received"),[zn,yn]=h.useState("idle"),[hs,A]=h.useState(""),B=h.useMemo(()=>ve(),[]),F=h.useRef(0),U=h.useRef(""),V=typeof window<"u"?localStorage.getItem("token"):null,X=async L=>{const Y=!(L!=null&&L.silent),le=Date.now();if(!(L!=null&&L.silent&&le-F.current<2e3)){Y?r(!0):P(!0);try{const oe=new URLSearchParams;oe.set("page",String(i)),oe.set("pageSize",String(c)),p.trim().length>0&&oe.set("q",p.trim()),$&&oe.set("status",$),t&&oe.set("clientId",t);const be=await fetch(`${B}/special-rolls?${oe.toString()}`,{headers:{Authorization:`Bearer ${V}`}});if(be.ok){const yt=await be.json(),Qt=yt.data,ut=yt.total,Qe=JSON.stringify({total:ut,data:Qt.map(Et=>({id:Et.id,status:Et.status,updatedAt:Et.updatedAt||Et.createdAt}))});Qe!==U.current&&(U.current=Qe,l(Qt),x(ut)),F.current=le}}finally{Y?r(!1):P(!1)}}};h.useEffect(()=>{X()},[i,$,t]),h.useEffect(()=>{if(typeof window>"u")return;const L=new BroadcastChannel("ecolav-app");L.onmessage=async le=>{var be;const oe=(be=le==null?void 0:le.data)==null?void 0:be.type;(oe==="special-rolls-changed"||oe==="orders-changed")&&await X({silent:!0})};const Y=()=>{X({silent:!0})};return window.addEventListener("focus",Y),()=>{L.close(),window.removeEventListener("focus",Y)}},[]);const pe=L=>{var le;const Y=(le=L.target.files)==null?void 0:le[0];if(Y){O(Y);const oe=URL.createObjectURL(Y);k(oe)}},Se=L=>{var le;const Y=(le=L.target.files)==null?void 0:le[0];if(Y){if(Y.size>20*1024*1024){alert("Imagem muito grande (limite 20MB). Selecione uma menor.");return}(async()=>{const oe=await za(Y,1280,.8);me({...se,receivedPhoto:oe});try{Ve()}catch{}const be=URL.createObjectURL(oe);w(be)})()}},We=L=>{var le;const Y=(le=L.target.files)==null?void 0:le[0];if(Y){if(Y.size>20*1024*1024){alert("Imagem muito grande (limite 20MB). Selecione uma menor.");return}(async()=>{const oe=await za(Y,1280,.8);fe({...ce,dispatchedPhoto:oe});try{He()}catch{}const be=URL.createObjectURL(oe);W(be)})()}},Ve=()=>{_&&URL.revokeObjectURL(_)},He=()=>{C&&URL.revokeObjectURL(C)};h.useEffect(()=>()=>{J&&URL.revokeObjectURL(J),Ve(),He()},[]);const za=async(L,Y,le)=>{try{if(!L.type.startsWith("image/"))return L;const oe=await createImageBitmap(L).catch(()=>null);if(!oe)return L;let{width:be,height:yt}=oe;if(be<=Y&&yt<=Y)return L;const Qt=be>yt?Y/be:Y/yt,ut=Math.round(be*Qt),Qe=Math.round(yt*Qt),Et=document.createElement("canvas");Et.width=ut,Et.height=Qe;const cr=Et.getContext("2d");if(!cr)return L;cr.drawImage(oe,0,0,ut,Qe);const po=L.type==="image/png"?"image/png":"image/jpeg",ho=await new Promise(sm=>Et.toBlob(rm=>sm(rm||L),po,le));return new File([ho],L.name.replace(/\.(png|jpg|jpeg|webp)$/i,po==="image/png"?".png":".jpg"),{type:ho.type})}catch{return L}},Da=()=>new Promise((L,Y)=>{if(!navigator.geolocation){Y(new Error("Geolocalizao no suportada pelo navegador"));return}navigator.geolocation.getCurrentPosition(le=>{const{latitude:oe,longitude:be}=le.coords,yt=`${oe.toFixed(6)}, ${be.toFixed(6)}`;L(yt)},le=>{let oe="Erro ao obter localizao";switch(le.code){case le.PERMISSION_DENIED:oe="Permisso de localizao negada";break;case le.POSITION_UNAVAILABLE:oe="Localizao indisponvel";break;case le.TIMEOUT:oe="Timeout ao obter localizao";break}Y(new Error(oe))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),Aa=async L=>{try{const[Y,le]=L.split(",").map(cr=>cr.trim()),oe=Number(Y),be=Number(le);if(!isFinite(oe)||!isFinite(be))return null;const yt=`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${encodeURIComponent(oe)}&lon=${encodeURIComponent(be)}&accept-language=pt-BR&addressdetails=1`,Qt=await fetch(yt,{headers:{"User-Agent":"Ecolav/0.2.0 (ti@textilecolav.com.br)"}});if(!Qt.ok)return null;const ut=await Qt.json(),Qe=(ut==null?void 0:ut.address)||{};return[Qe.road,Qe.house_number,Qe.suburb||Qe.neighbourhood,Qe.city||Qe.town||Qe.village,Qe.state,Qe.postcode].filter(Boolean).join(", ")||((ut==null?void 0:ut.display_name)??null)}catch{return null}},ar=L=>{if(!navigator.geolocation){yn("error"),A("Seu navegador no suporta geolocalizao. Por favor, digite a localizao manualmente."),st(!0);return}Ra(L),yn("idle"),A(""),st(!0)},Oa=async()=>{yn("requesting"),A("Obtendo sua localizao...");try{const L=await Da(),Y=await Aa(L),le=Y?`${Y} (${L})`:L;Ta==="received"?me({...se,location:le}):fe({...ce,location:le}),yn("success"),A(`Localizao capturada com sucesso!

${Y?`Endereo: ${Y}
`:""}Coordenadas: ${L}

Voc pode editar manualmente se necessrio.`)}catch(L){console.warn("Erro ao obter localizao:",L);let Y="No foi possvel obter sua localizao.";L instanceof Error&&(L.message.includes("Permisso")?Y="Permisso de localizao negada. Por favor, digite a localizao manualmente.":L.message.includes("indisponvel")?Y="Localizao indisponvel. Verifique se o GPS est ativado.":L.message.includes("Timeout")&&(Y="Timeout ao obter localizao. Tente novamente ou digite manualmente.")),yn("error"),A(Y)}},lr=async L=>{if(L.preventDefault(),!!f.itemName.trim()){u(!0);try{const Y=new FormData;if(Y.append("itemName",f.itemName.trim()),Y.append("description",f.description.trim()||""),Y.append("quantity",f.quantity.trim()||""),Y.append("weight",f.weight.trim()||""),Y.append("priority",(Number(f.priority)||3).toString()),Y.append("clientId",f.clientId||""),Y.append("senderName",f.senderName.trim()||""),D&&Y.append("attachment",D),(await fetch(`${B}/special-rolls`,{method:"POST",headers:{Authorization:`Bearer ${V}`},body:Y})).ok){E({itemName:"",description:"",quantity:"",weight:"",priority:3,clientId:"",senderName:""}),O(null),k(null),T(!1),o(1),await X();try{new BroadcastChannel("ecolav-app").postMessage({type:"special-rolls-changed"})}catch{}}}finally{u(!1)}}},Dn=async L=>{const Y=await fetch(`${B}/special-rolls/${L}`,{headers:{Authorization:`Bearer ${V}`}});if(Y.ok){y(await Y.json());const le=await fetch(`${B}/special-rolls/${L}/events`,{headers:{Authorization:`Bearer ${V}`}});le.ok&&R(await le.json())}},_a=async(L,Y)=>{var oe;const le=await fetch(`${B}/special-rolls/${L}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify({status:Y})});if(le.ok){await X(),(v==null?void 0:v.id)===L&&await Dn(L);try{new BroadcastChannel("ecolav-app").postMessage({type:"special-rolls-changed"})}catch{}}else{const be=await le.json().catch(()=>({}));be.error==="InvalidStatusTransition"?alert(` ${be.message}

Etapas vlidas: ${((oe=be.validNextStatuses)==null?void 0:oe.join(", "))||"Nenhuma"}`):alert(" Erro ao atualizar status. Tente novamente.")}},ir=async L=>{if(!(!V||!window.confirm("Tem certeza que deseja excluir este ROL? Esta ao no pode ser desfeita.")))try{let le=await fetch(`${B}/special-rolls/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${V}`}});if(le.status===404&&(v==null?void 0:v.id)===L&&(v!=null&&v.number)&&(le=await fetch(`${B}/special-rolls/by-number/${encodeURIComponent(v.number)}`,{method:"DELETE",headers:{Authorization:`Bearer ${V}`}})),le.status===204){(v==null?void 0:v.id)===L&&(y(null),R([])),o(1),await X({silent:!0});try{new BroadcastChannel("ecolav-app").postMessage({type:"special-rolls-changed"})}catch{}}else alert("Falha ao excluir o ROL.")}catch{alert("Erro de rede ao excluir o ROL.")}},or=async L=>{if(L.preventDefault(),!!v){ne(!0);try{const Y=new FormData;if(Y.append("status","received"),Y.append("expectedReturnAt",se.expectedReturnAt),Y.append("qualityNotes",se.qualityNotes),Y.append("currentLocation",se.location),se.receivedPhoto&&Y.append("receivedPhoto",se.receivedPhoto),(await fetch(`${B}/special-rolls/${v.id}/status`,{method:"PUT",headers:{Authorization:`Bearer ${V}`},body:Y})).ok){K(!1),me({expectedReturnAt:"",qualityNotes:"",receivedPhoto:null,location:""}),await Dn(v.id),await X();try{new BroadcastChannel("ecolav-app").postMessage({type:"special-rolls-changed"})}catch{}}}catch(Y){console.error("Erro ao processar recebimento:",Y)}finally{ne(!1)}}},mo=async L=>{if(L.preventDefault(),!!v){I(!0);try{const Y=new FormData;if(Y.append("status","dispatched"),Y.append("finalWeight",ce.finalWeight),Y.append("dispatchedBy",ce.dispatchedBy),Y.append("currentLocation",ce.location),ce.dispatchedPhoto&&Y.append("dispatchedPhoto",ce.dispatchedPhoto),(await fetch(`${B}/special-rolls/${v.id}/status`,{method:"PUT",headers:{Authorization:`Bearer ${V}`},body:Y})).ok){ae(!1),fe({finalWeight:"",dispatchedPhoto:null,dispatchedBy:"",location:""}),await Dn(v.id),await X();try{new BroadcastChannel("ecolav-app").postMessage({type:"special-rolls-changed"})}catch{}}}catch(Y){console.error("Erro ao processar expedio:",Y)}finally{I(!1)}}},Ua=Math.max(1,Math.ceil(d/c));return n.jsxs("div",{className:"space-y-6",children:[n.jsx(Ht,{showOnAction:!0}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"ROL Especial"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie itens especiais no recorrentes"})]}),n.jsxs("button",{onClick:()=>T(!0),className:"bg-gradient-to-r from-blue-600 to-green-600 text-white px-2 sm:px-4 py-2 rounded-lg hover:from-blue-700 hover:to-green-700 flex items-center space-x-1 sm:space-x-2 transition-all text-xs sm:text-sm",children:[n.jsx(gn,{className:"w-4 h-4 sm:w-5 sm:h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Novo ROL"}),n.jsx("span",{className:"sm:hidden",children:"Novo"})]})]}),n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 sm:p-4",children:[S&&n.jsx("div",{className:"mb-2 text-xs text-gray-500",children:"Atualizando..."}),n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[n.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[n.jsx("input",{className:"border rounded px-3 py-2 w-full md:w-64",placeholder:"Buscar (nmero, item)",value:p,onChange:L=>j(L.target.value)}),n.jsxs("select",{className:"border rounded px-3 py-2 w-full md:w-auto",value:$,onChange:L=>N(L.target.value),children:[n.jsx("option",{value:"",children:"Todos os status"}),Object.entries(Ns).map(([L,Y])=>n.jsx("option",{value:L,children:Y},L))]}),n.jsx("button",{onClick:()=>{o(1),X()},className:"bg-gray-700 hover:bg-gray-800 text-white rounded px-4 py-2",children:"Filtrar"})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[d," resultados encontrados"]})]}),s?n.jsx("div",{className:"py-10",children:n.jsx(nm,{text:"Carregando..."})}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full text-xs sm:text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-gray-600 border-b",children:[n.jsx("th",{className:"py-3 pr-4 font-medium",children:"Nmero ROL"}),n.jsx("th",{className:"py-3 pr-4 font-medium hidden sm:table-cell",children:"Item"}),n.jsx("th",{className:"py-3 pr-4 font-medium",children:"Status"}),n.jsx("th",{className:"py-3 pr-4 font-medium hidden sm:table-cell",children:"Retorno Previsto"}),n.jsx("th",{className:"py-3 pr-4 font-medium",children:"Aes"})]})}),n.jsx("tbody",{children:a.map(L=>n.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[n.jsxs("td",{className:"py-3 pr-4 font-medium text-blue-600 align-top",children:[n.jsx("div",{children:L.number}),n.jsx("div",{className:"sm:hidden text-[11px] text-gray-500 mt-0.5",children:L.itemName})]}),n.jsx("td",{className:"py-3 pr-4 hidden sm:table-cell",children:L.itemName}),n.jsx("td",{className:"py-3 pr-4",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${gl[L.status]||"bg-gray-100 text-gray-800"}`,children:Ns[L.status]||L.status})}),n.jsx("td",{className:"py-3 pr-4 text-gray-600 hidden sm:table-cell",children:L.expectedReturnAt?new Date(L.expectedReturnAt).toLocaleDateString("pt-BR"):"-"}),n.jsx("td",{className:"py-3 pr-4",children:n.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[n.jsxs("button",{className:"text-blue-600 hover:text-blue-800 flex items-center gap-1",onClick:()=>Dn(L.id),children:[n.jsx(co,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Detalhes"})]}),n.jsxs("button",{className:"text-green-600 hover:text-green-800 flex items-center gap-1",onClick:()=>{q(L),g(!0)},children:[n.jsx(of,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"QR Code"})]}),n.jsxs("button",{className:"text-red-600 hover:text-red-800 flex items-center gap-1",onClick:()=>ir(L.id),children:[n.jsx(pn,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Excluir"})]})]})})]},L.id))})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 mt-4",children:[n.jsx("button",{disabled:i<=1,onClick:()=>o(L=>Math.max(1,L-1)),className:"px-3 py-1 border rounded",children:"Anterior"}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Pgina ",i," de ",Ua]}),n.jsx("button",{disabled:i>=Ua,onClick:()=>o(L=>Math.min(Ua,L+1)),className:"px-3 py-1 border rounded",children:"Prxima"})]})]})]}),v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(it,{className:"h-6 w-6 text-blue-600"}),n.jsx("h3",{className:"text-xl font-semibold",children:v.number})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{className:"text-red-600 hover:text-red-800 flex items-center gap-1 text-sm border border-red-200 rounded px-2 py-1",onClick:()=>ir(v.id),title:"Excluir ROL",children:[n.jsx(pn,{className:"h-4 w-4"}),"Excluir"]}),n.jsx("button",{className:"text-gray-600 hover:text-gray-800 text-xl",onClick:()=>{y(null),R([])},children:""})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"Informaes do Item"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(it,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"font-medium",children:"Item:"}),n.jsx("span",{children:v.itemName})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${gl[v.status]||"bg-gray-100 text-gray-800"}`,children:Ns[v.status]||v.status})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(io,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"font-medium",children:"Retorno Previsto:"}),n.jsx("span",{children:v.expectedReturnAt?new Date(v.expectedReturnAt).toLocaleString("pt-BR"):"No definido"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cc,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"font-medium",children:"Local Atual:"}),n.jsx("span",{children:v.currentLocation||"No informado"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mi,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"font-medium",children:"Enviado por:"}),n.jsx("span",{children:v.senderName||"No informado"})]}),v.weight&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:"Peso Inicial:"}),n.jsxs("span",{children:[v.weight," kg"]})]}),v.client&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mi,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"font-medium",children:"Cliente:"}),n.jsx("span",{children:v.client.name})]}),v.description&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Descrio:"}),n.jsx("p",{className:"text-gray-600 mt-1",children:v.description})]}),v.attachments&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Foto do Item:"}),n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:`${ve()}/uploads/${v.attachments}`,alt:"Foto do item",className:"w-full max-w-xs h-48 object-cover rounded-lg border border-gray-200",loading:"lazy"})})]}),v.qualityNotes&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Controle de Qualidade:"}),n.jsx("p",{className:"text-gray-600 mt-1 bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:v.qualityNotes})]}),v.receivedPhoto&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Foto do Recebimento:"}),n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:`${ve()}/uploads/${v.receivedPhoto}`,alt:"Foto do recebimento",className:"w-full max-w-xs h-48 object-cover rounded-lg border border-gray-200",loading:"lazy"})})]}),v.finalWeight&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:"Peso Final:"}),n.jsxs("span",{className:"text-green-600 font-semibold",children:[v.finalWeight," kg"]})]}),v.dispatchedBy&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:"Expedido por:"}),n.jsx("span",{children:v.dispatchedBy})]}),v.dispatchedPhoto&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Foto da Expedio:"}),n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:`${ve()}/uploads/${v.dispatchedPhoto}`,alt:"Foto da expedio",className:"w-full max-w-xs h-48 object-cover rounded-lg border border-gray-200",loading:"lazy"})})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Alterar Status"}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[n.jsx("span",{children:"Progresso do ROL"}),n.jsxs("span",{children:[tn.indexOf(v.status)+1," de ",tn.length]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(tn.indexOf(v.status)+1)/tn.length*100}%`}})})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Etapas:"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Ns).filter(([L])=>L!=="enviado").map(([L,Y])=>{const le=v.status===L,oe=le||Mf(v.status).includes(L);return n.jsx("button",{disabled:!oe,className:`px-3 py-2 text-sm rounded border transition-all ${le?"bg-blue-100 border-blue-300 text-blue-800":oe?"bg-white border-gray-300 text-gray-700 hover:bg-gray-50":"bg-gray-100 border-gray-200 text-gray-400 cursor-not-allowed"}`,onClick:()=>{oe&&(L==="received"?K(!0):L==="dispatched"?ae(!0):le||_a(v.id,L))},title:le?"Status atual":oe?"Avanar para esta etapa":"Etapa bloqueada (ordem sequencial)",children:Y},L)})})]}),v.updatedBy&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:[n.jsx("strong",{children:"ltima alterao:"})," ",v.updatedBy]}),v.updatedAt&&n.jsx("p",{className:"text-sm text-gray-500",children:new Date(v.updatedAt).toLocaleString("pt-BR")})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Histrico de Eventos"}),n.jsx("div",{className:"space-y-3",children:b.length>0?b.map((L,Y)=>n.jsxs("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:`w-3 h-3 rounded-full ${Y===0?"bg-green-500":"bg-gray-300"}`})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${gl[L.eventType]||"bg-gray-100 text-gray-800"}`,children:Ns[L.eventType]||L.eventType}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(L.timestamp).toLocaleString("pt-BR")})]}),L.note&&n.jsx("p",{className:"text-sm text-gray-600",children:L.note}),L.location&&n.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[n.jsx(Cc,{className:"h-3 w-3 text-gray-400"}),n.jsx("span",{className:"text-xs text-gray-500",children:L.location})]})]})]},L.id)):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"Nenhum evento registrado ainda"})})]})]})]})}),G&&M&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"QR Code de Acompanhamento"}),n.jsx("button",{className:"text-gray-600 hover:text-gray-800 text-xl",onClick:()=>{g(!1),q(null)},children:""})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"bg-gray-100 p-8 rounded-lg mb-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-2",children:M.number}),n.jsx("div",{className:"text-sm text-gray-600 mb-4",children:M.itemName}),n.jsxs("div",{className:"bg-white p-4 rounded border-2 border-dashed border-gray-300",children:[n.jsx("div",{className:"mx-auto w-32 h-32 flex items-center justify-center",children:n.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=128x128&data=${encodeURIComponent(`https://rouparia.textilecolav.com/track.html?roll=${M.number}`)}`,alt:`QR Code para ${M.number}`,className:"w-32 h-32 border border-gray-200 rounded"})}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"QR Code"})]})]})}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[n.jsx("p",{children:n.jsx("strong",{children:"URL de Acompanhamento:"})}),n.jsx("p",{className:"text-xs bg-gray-100 p-2 rounded break-all",children:`https://rouparia.textilecolav.com/track.html?roll=${encodeURIComponent(M.number)}`}),n.jsx("p",{className:"mt-3",children:"Compartilhe este link ou QR Code para acompanhar o status do item em tempo real"})]}),n.jsxs("div",{className:"mt-4 flex gap-2",children:[n.jsx("button",{className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:async()=>{const L=`https://rouparia.textilecolav.com/track.html?roll=${encodeURIComponent(M.number)}`;if(typeof navigator<"u"&&navigator.clipboard&&typeof navigator.clipboard.writeText=="function")try{await navigator.clipboard.writeText(L),alert("Link copiado para a rea de transferncia!");return}catch{}prompt("Copie o link abaixo:",L)},children:"Copiar Link"}),n.jsx("button",{className:"flex-1 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",onClick:()=>{const L=`https://rouparia.textilecolav.com/track.html?roll=${encodeURIComponent(M.number)}`;window.open(L,"_blank")},children:"Abrir Pgina"})]})]})]})}),z&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Novo ROL Especial"}),n.jsx("button",{onClick:()=>{T(!1),E({itemName:"",description:"",quantity:"",weight:"",priority:3,clientId:"",senderName:""}),O(null),k(null)},className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]})}),n.jsx("div",{className:"p-6 pt-4",children:n.jsxs("form",{onSubmit:lr,className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),n.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:f.clientId,onChange:L=>E({...f,clientId:L.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Selecione um cliente"}),e.map(L=>n.jsx("option",{value:L.id,children:L.name},L.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome de Quem Est Enviando *"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o nome de quem est enviando",value:f.senderName,onChange:L=>E({...f,senderName:L.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item *"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o nome do item",value:f.itemName,onChange:L=>E({...f,itemName:L.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descrio do item (opcional)",rows:2,value:f.description,onChange:L=>E({...f,description:L.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade de Itens"}),n.jsx("input",{type:"number",step:"1",min:"1",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 10",value:f.quantity,onChange:L=>E({...f,quantity:L.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Peso do Item (kg)"}),n.jsx("input",{type:"number",step:"0.1",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 2.5",value:f.weight,onChange:L=>E({...f,weight:L.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Foto do Item"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 text-center",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:pe,className:"hidden",id:"file-upload"}),n.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center",children:[n.jsx(xl,{className:"w-6 h-6 text-gray-400 mb-1"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Clique para adicionar uma foto"})]})]}),J&&n.jsxs("div",{className:"mt-2",children:[n.jsx("img",{src:J,alt:"Preview",className:"w-full h-24 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>{O(null),k(null)},className:"mt-1 text-xs text-red-600 hover:text-red-800",children:"Remover foto"})]})]})]})}),n.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6 pt-4",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{T(!1),E({itemName:"",description:"",quantity:"",weight:"",priority:3,clientId:"",senderName:""}),O(null),k(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{type:"submit",disabled:m,onClick:lr,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:m?"Criando...":"Criar ROL"})]})})]})}),H&&v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmar Recebimento"}),n.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]})}),n.jsx("div",{className:"p-6 pt-4",children:n.jsxs("form",{onSubmit:or,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Prevista de Entrega *"}),n.jsx("input",{type:"datetime-local",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:se.expectedReturnAt,onChange:L=>me({...se,expectedReturnAt:L.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Controle de Qualidade"}),n.jsx("textarea",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Observaes sobre costura, manchas, etc. (opcional)",rows:3,value:se.qualityNotes,onChange:L=>me({...se,qualityNotes:L.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao Atual"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Localizao atual do item",value:se.location,onChange:L=>me({...se,location:L.target.value})}),n.jsx("button",{type:"button",onClick:()=>ar("received"),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-1",title:"Usar GPS para localizao atual",children:n.jsx(fl,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Foto do Recebimento"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 text-center",children:[n.jsx("input",{type:"file",accept:"image/*;capture=camera",onChange:Se,className:"hidden",id:"received-photo-upload"}),n.jsxs("label",{htmlFor:"received-photo-upload",className:"cursor-pointer flex flex-col items-center",children:[n.jsx(xl,{className:"w-6 h-6 text-gray-400 mb-1"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Clique para adicionar foto do recebimento"})]})]}),_&&n.jsxs("div",{className:"mt-2",children:[n.jsx("img",{src:_,alt:"Preview recebimento",className:"w-full h-24 object-cover rounded-lg border",loading:"lazy"}),n.jsx("button",{type:"button",onClick:()=>{me({...se,receivedPhoto:null}),Ve(),w(null)},className:"mt-1 text-xs text-red-600 hover:text-red-800",children:"Remover foto"})]})]})]})}),n.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6 pt-4",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:()=>K(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{type:"submit",onClick:L=>{ee||or(L)},disabled:ee,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:ee?"Enviando...":"Confirmar Recebimento"})]})})]})}),Z&&v&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirmar Expedio"}),n.jsx("button",{onClick:()=>ae(!1),className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]})}),n.jsx("div",{className:"p-6 pt-4",children:n.jsxs("form",{onSubmit:mo,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Peso Final (kg) *"}),n.jsx("input",{type:"number",step:"0.1",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 2.3",value:ce.finalWeight,onChange:L=>fe({...ce,finalWeight:L.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quem Est Enviando *"}),n.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do funcionrio que est enviando",value:ce.dispatchedBy,onChange:L=>fe({...ce,dispatchedBy:L.target.value}),required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao Atual"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Localizao atual do item",value:ce.location,onChange:L=>fe({...ce,location:L.target.value})}),n.jsx("button",{type:"button",onClick:()=>ar("dispatched"),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-1",title:"Usar GPS para localizao atual",children:n.jsx(fl,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Foto da Expedio"}),n.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 text-center",children:[n.jsx("input",{type:"file",accept:"image/*;capture=camera",onChange:We,className:"hidden",id:"dispatched-photo-upload"}),n.jsxs("label",{htmlFor:"dispatched-photo-upload",className:"cursor-pointer flex flex-col items-center",children:[n.jsx(xl,{className:"w-6 h-6 text-gray-400 mb-1"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Clique para adicionar foto da expedio"})]})]}),C&&n.jsxs("div",{className:"mt-2",children:[n.jsx("img",{src:C,alt:"Preview expedio",className:"w-full h-24 object-cover rounded-lg border",loading:"lazy"}),n.jsx("button",{type:"button",onClick:()=>{fe({...ce,dispatchedPhoto:null}),He(),W(null)},className:"mt-1 text-xs text-red-600 hover:text-red-800",children:"Remover foto"})]})]})]})}),n.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6 pt-4",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:()=>ae(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{type:"submit",onClick:L=>{ie||mo(L)},disabled:ie,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:ie?"Enviando...":"Confirmar Expedio"})]})})]})}),Ie&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white rounded-lg w-full max-w-md",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(fl,{className:"w-5 h-5 text-blue-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Solicitao de Localizao"})]}),zn==="idle"&&n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-600 mb-4",children:"Deseja permitir o acesso  sua localizao atual?"}),n.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Isso nos ajudar a registrar onde o item est sendo processado. Sua localizao ser usada apenas para este registro."}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>st(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:Oa,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Permitir Localizao"})]})]}),zn==="requesting"&&n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),n.jsx("p",{className:"text-gray-600",children:hs})]}),zn==="success"&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(Xu,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"text-green-600 font-medium",children:"Sucesso!"})]}),n.jsx("p",{className:"text-gray-600 mb-4 whitespace-pre-line",children:hs}),n.jsx("button",{onClick:()=>st(!1),className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"OK"})]}),zn==="error"&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(ma,{className:"w-5 h-5 text-red-600"}),n.jsx("span",{className:"text-red-600 font-medium",children:"Erro"})]}),n.jsx("p",{className:"text-gray-600 mb-4",children:hs}),n.jsx("button",{onClick:()=>st(!1),className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Entendi"})]})]})})})]})},Rf=()=>{const[e,t]=h.useState("overview"),[s,r]=h.useState(!1),{user:a}=Re(),l=()=>{switch(e){case"overview":return n.jsx($c,{});case"sectors":return n.jsx(gf,{});case"beds":return n.jsx(yf,{});case"linen":return n.jsx(vf,{});case"orders":return n.jsx(wf,{});case"stock":return n.jsx(kf,{});case"weight":return n.jsx(Sf,{});case"weight-tracking":return n.jsx($f,{});case"linen-distribution":return n.jsx(Cf,{});case"distribution":return n.jsx(Ef,{});case"reports":return n.jsx(If,{});case"clients":return n.jsx(Pf,{});case"users":return n.jsx(Lf,{});case"special-rolls":return n.jsx(Tf,{});default:return n.jsx($c,{})}};return n.jsxs("div",{className:"flex h-screen bg-gray-50",children:[n.jsx(xf,{activeSection:e,onSectionChange:t,isOpen:s,onToggle:()=>r(!s)}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(ff,{user:a,onMenuClick:()=>r(!s)}),n.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-4",children:n.jsx("div",{className:"max-w-7xl mx-auto",children:l()})})]})]})},zf=()=>{var ie;const{getBedByToken:e,linenItems:t,addOrder:s,updateBed:r,clients:a,orders:l,confirmOrderDelivery:i}=_e(),o=Ku(),{addToast:c}=Rn(),[d,x]=h.useState(null),[p,j]=h.useState({}),[$,N]=h.useState(""),[S,P]=h.useState(""),[m,u]=h.useState(!1),[f,E]=h.useState(!1),[v,y]=h.useState(!1),[b,R]=h.useState(!1),[G,g]=h.useState(null),[M,q]=h.useState([]),[z,T]=h.useState(!1),[D,O]=h.useState(!1),[J,k]=h.useState(!1);h.useEffect(()=>{const H=new URLSearchParams(o.search).get("token");if(H){const K=e(H);if(K){x(K);return}T(!0),(async()=>{try{const Z=ve(),ae=await fetch(`${Z}/public/beds/${H}`);if(ae.ok){const se=await ae.json();x(se)}}catch{}finally{T(!1)}})()}},[o.search,e]),h.useEffect(()=>{typeof window<"u"&&typeof window.localStorage<"u"&&window.localStorage.getItem("token")||d&&(Array.isArray(t)&&t.length>0||(O(!0),(async()=>{var H;try{const K=ve(),Z=(H=d==null?void 0:d.sector)!=null&&H.clientId?`?clientId=${encodeURIComponent(d.sector.clientId)}`:"",ae=await fetch(`${K}/public/items${Z}`);if(ae.ok){const se=await ae.json();q(se)}}catch{}finally{O(!1)}})()))},[d,t]);const _=h.useMemo(()=>{if(!d)return;if(G&&G.bedId===d.id&&G.status!=="delivered"&&G.status!=="cancelled")return G;const I=l.filter(H=>H.bedId===d.id&&H.status!=="delivered"&&H.status!=="cancelled");if(I.length!==0)return I.sort((H,K)=>new Date(K.createdAt).getTime()-new Date(H.createdAt).getTime())[0]},[l,d,G]);h.useEffect(()=>{if(typeof window<"u"&&typeof window.localStorage<"u"&&window.localStorage.getItem("token"))return;const H=new URLSearchParams(o.search).get("token");if(!H)return;const K=setInterval(async()=>{try{const Z=ve(),ae=await fetch(`${Z}/public/orders?token=${encodeURIComponent(H)}`);if(ae.ok){const se=await ae.json();g(se)}}catch{}},5e3);return()=>clearInterval(K)},[o.search]);const w=(I,H)=>{j(K=>{const Z=(K[I]||0)+H;if(Z<=0){const ae={...K};return delete ae[I],ae}return{...K,[I]:Z}})},C=()=>Object.values(p).reduce((I,H)=>I+H,0),W=t&&t.length>0?t:M,ee=()=>{var K;const I=Object.entries(p).map(([Z,ae])=>{const se=W.find(me=>me.id===Z);return`- ${ae} ${se==null?void 0:se.name}`}).join(`
`),H=` *Pedido de Enxoval*
 Setor: *${(K=d==null?void 0:d.sector)==null?void 0:K.name}*
 Leito: *${d==null?void 0:d.number}*

 *Itens:*
${I}

${$?` *Observaes:* ${$}
`:""}${S?` *Agendar:* ${new Date(S).toLocaleString("pt-BR")}
`:""}
 *Solicitado em:* ${new Date().toLocaleString("pt-BR")}`;return encodeURIComponent(H)},ne=async()=>{var me;if(C()===0)return;u(!0);const I=Object.entries(p).map(([ce,fe])=>({itemId:ce,quantity:fe}));if(typeof window<"u"&&typeof window.localStorage<"u"&&window.localStorage.getItem("token"))s({bedId:d.id,status:"pending",items:I,observations:$||void 0,scheduledDelivery:S||void 0});else try{const ce=new URLSearchParams(o.search).get("token"),fe=ve(),Ie=await fetch(`${fe}/public/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:ce,items:I,observations:$,scheduledDelivery:S})});if(Ie.ok){const st=await Ie.json();g(st)}}catch{}if(v){const ce=d.status==="occupied"?"free":"occupied";try{if(typeof window<"u"&&typeof window.localStorage<"u"&&window.localStorage.getItem("token"))r(d.id,{status:ce});else{const Ie=new URLSearchParams(o.search).get("token"),st=ve();await fetch(`${st}/public/beds/${Ie}/status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:ce})})}x(Ie=>Ie&&{...Ie,status:ce})}catch{}}const H=a.find(ce=>{var fe;return ce.id===((fe=d==null?void 0:d.sector)==null?void 0:fe.clientId)}),K=(me=d==null?void 0:d.sector)==null?void 0:me.client;let Z;H!=null&&H.whatsappNumber?Z=H.whatsappNumber:K!=null&&K.whatsappNumber&&(Z=K.whatsappNumber);const ae=ee(),se=Ma({phone:Z||void 0,text:decodeURIComponent(ae)});window.open(se,"_blank"),c({type:"success",message:"Pedido enviado para o WhatsApp."}),E(!0),u(!1)};return z?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center max-w-md w-full",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Carregando..."}),n.jsx("p",{className:"text-gray-600",children:"Verificando informaes do leito..."})]})}):d?f?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center max-w-md w-full",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(ua,{className:"w-8 h-8 text-green-600"})}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Pedido Enviado!"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Seu pedido foi registrado no sistema e o WhatsApp foi aberto para envio  lavanderia."}),n.jsx("button",{onClick:()=>{E(!1),j({}),N(""),P("")},className:"w-full bg-gradient-to-r from-blue-600 to-green-600 text-white py-2 sm:py-3 rounded-lg font-medium hover:from-blue-700 hover:to-green-700 transition-all text-sm sm:text-base",children:"Fazer Novo Pedido"})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10",children:n.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg",children:n.jsx(uo,{size:32})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"ECOLAV"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pedido de Enxoval"})]})]})})}),n.jsxs("div",{className:"max-w-md mx-auto p-3 sm:p-4 space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3 sm:mb-4",children:[n.jsx("div",{className:`p-2 rounded-lg ${d.status==="occupied"?"bg-red-100":"bg-green-100"}`,children:n.jsx(Ln,{className:`w-5 h-5 sm:w-6 sm:h-6 ${d.status==="occupied"?"text-red-600":"text-green-600"}`})}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-gray-900",children:["Leito ",d.number]}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:(ie=d.sector)==null?void 0:ie.name})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:`px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium rounded-full ${d.status==="occupied"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:d.status==="occupied"?" Ocupado":" Livre"})})]}),_?n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-1",children:"Entrega pendente"}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 mb-3",children:["Pedido criado em ",new Date(_.createdAt).toLocaleString("pt-BR"),"  ",_.items.reduce((I,H)=>I+H.quantity,0)," unidades"]}),n.jsx("button",{onClick:()=>R(!0),disabled:J,className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center text-sm sm:text-base",children:J?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Confirmando..."]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"hidden sm:inline",children:"Confirmar Entrega (Assinatura/Foto)"}),n.jsx("span",{className:"sm:hidden",children:"Confirmar Entrega"})]})})]}):n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-100",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-1",children:"Sem entrega pendente"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Crie um novo pedido abaixo e envie via WhatsApp."})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-100",children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Itens Disponveis"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Selecione os itens necessrios"})]}),D?n.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-3 border-2 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Carregando itens disponveis..."})]}):n.jsx("div",{className:"divide-y divide-gray-100",children:W.map(I=>n.jsx("div",{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-1 text-sm sm:text-base",children:I.name}),n.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["SKU: ",I.sku,"  ",I.unit]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Estoque: ",I.currentStock," ",I.unit]})]}),n.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[p[I.id]>0&&n.jsx("button",{onClick:()=>w(I.id,-1),className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-lg transition-all",children:n.jsx(Zu,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),p[I.id]>0&&n.jsx("span",{className:"w-7 sm:w-8 text-center font-medium text-gray-900 text-sm sm:text-base",children:p[I.id]}),n.jsx("button",{onClick:()=>w(I.id,1),disabled:!!_||I.currentStock===0,className:"w-7 h-7 sm:w-8 sm:h-8 flex items-center justify-center bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(gn,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})},I.id))})]}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes (opcional)"}),n.jsx("textarea",{value:$,onChange:I=>N(I.target.value),placeholder:"Ex: Troca de planto, paciente especfico...",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(La,{className:"inline w-4 h-4 mr-1"}),"Agendar Entrega (opcional)"]}),n.jsx("input",{type:"datetime-local",value:S,onChange:I=>P(I.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"toggle-bed-status",type:"checkbox",checked:v,onChange:I=>y(I.target.checked),className:"mr-2 h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"toggle-bed-status",className:"text-xs sm:text-sm text-gray-700",children:d.status==="occupied"?"Marcar leito como livre":"Marcar leito como ocupado"})]})]}),C()>0&&n.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-100 sticky bottom-4",children:[n.jsxs("div",{className:"mb-3 sm:mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-sm sm:text-base",children:"Resumo do Pedido"}),n.jsx("div",{className:"space-y-1",children:Object.entries(p).map(([I,H])=>{const K=t.find(Z=>Z.id===I);return n.jsx("div",{className:"flex justify-between text-xs sm:text-sm",children:n.jsxs("span",{className:"truncate",children:[H,"x ",K==null?void 0:K.name]})},I)})}),n.jsx("div",{className:"border-t border-gray-200 mt-2 pt-2",children:n.jsxs("div",{className:"flex justify-between font-medium text-xs sm:text-sm",children:[n.jsx("span",{children:"Total de itens:"}),n.jsx("span",{children:C()})]})})]}),n.jsx("button",{onClick:ne,disabled:m||!!_,className:"w-full bg-gradient-to-r from-blue-600 to-green-600 text-white py-2 sm:py-3 rounded-lg font-medium hover:from-blue-700 hover:to-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center text-sm sm:text-base",children:m?n.jsx("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):n.jsxs(n.Fragment,{children:[n.jsx(ua,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),"Enviar via WhatsApp"]})})]})]}),n.jsx(tm,{open:b,onClose:()=>R(!1),onConfirm:async({receiverName:I,confirmationType:H,file:K})=>{if(!_){R(!1);return}if(k(!0),console.log(" Confirmando entrega:",{orderId:_.id,receiverName:I,confirmationType:H}),typeof window<"u"&&typeof window.localStorage<"u"&&!!window.localStorage.getItem("token"))console.log(" Usando fluxo autenticado"),await i({orderId:_.id,receiverName:I,confirmationType:H,file:K});else{console.log(" Usando fluxo pblico");const ae=ve(),se=new FormData;se.append("file",K),console.log(" Fazendo upload do arquivo...");const me=await fetch(`${ae}/public/uploads`,{method:"POST",body:se});if(!me.ok){console.error(" Erro no upload:",me.status),R(!1),k(!1),k(!1);return}const{url:ce}=await me.json();console.log(" Upload realizado:",ce);const fe=new URLSearchParams(o.search).get("token");console.log(" Confirmando entrega com token:",fe);const Ie=await fetch(`${ae}/public/orders/${_.id}/confirm-delivery`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:fe,receiverName:I,confirmationType:H,confirmationUrl:ce})});if(!Ie.ok){console.error(" Erro ao confirmar entrega:",Ie.status);const st=await Ie.text();console.error(" Detalhes do erro:",st),k(!1);return}console.log(" Entrega confirmada com sucesso!"),alert(" Entrega confirmada com sucesso!")}g(null);try{const ae=new URLSearchParams(o.search).get("token");if(ae){const se=ve(),me=await fetch(`${se}/public/orders?token=${encodeURIComponent(ae)}`);if(me.ok){const ce=await me.json();g(ce)}else g(null)}}catch{g(null)}R(!1)}})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center max-w-md w-full",children:[n.jsx(Bh,{className:"w-16 h-16 mx-auto mb-4 text-red-500"}),n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"QR Code Invlido"}),n.jsx("p",{className:"text-gray-600",children:"O QR Code escaneado no  vlido ou o leito no foi encontrado."})]})})},Df=()=>{const{user:e,isLoading:t}=Re(),s=Ku(),r=s.pathname==="/pedido"||s.search.includes("token=");return s.pathname==="/test"?(window.location.href="/pedido?token=test",null):t?n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:n.jsx(nm,{size:"lg",text:"Inicializando aplicao..."})}):r?n.jsx(Sc,{children:n.jsx(zf,{})}):e?n.jsx(Sc,{children:n.jsx(Rf,{})}):n.jsx(hf,{})},Af=()=>n.jsx(Th,{children:n.jsxs(Rh,{children:[n.jsx(Df,{}),n.jsx(zh,{})]})});async function Of(){try{if(!("serviceWorker"in navigator)||!("PushManager"in window))return!1;const e=await navigator.serviceWorker.register("/sw.js");if(await Notification.requestPermission()!=="granted")return!1;const s=await fetch("/api/push/public-key"),{publicKey:r}=await s.json();if(!r)return!1;const a=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_f(r)});return await fetch("/api/push/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),!0}catch{return!1}}function _f(e){const t="=".repeat((4-e.length%4)%4),s=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(s),a=new Uint8Array(r.length);for(let l=0;l<r.length;++l)a[l]=r.charCodeAt(l);return a}Vu(document.getElementById("root")).render(n.jsx(h.StrictMode,{children:n.jsx(Af,{})}));Of().catch(()=>{});
